<!doctype html><html><head><title>â­ è®© Jarvis å­¦ä¼šé•¿å¤§ï¼šä»'ç”¨å·¥å…·'åˆ°'é€ å·¥å…·'çš„è¿›åŒ–ç³»ç»Ÿå¼€å‘è®°å½•</title><meta content="Jarvis Phase 4 å¼€å‘å…¨è®°å½•ï¼šå¦‚ä½•è®© AI Agent ä»'ä½¿ç”¨é¢„è®¾å·¥å…·'è¿›åŒ–åˆ°'è‡ªå·±å‘ç°è§„å¾‹ã€åˆ›é€ æ–°èƒ½åŠ›'ã€‚6 ä¸ªæ¨¡å—ã€2283 è¡Œæ ¸å¿ƒä»£ç ã€86 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ã€‚æœ€æœ‰æ„æ€çš„éƒ¨åˆ†ï¼Ÿç»™ Agent è£…ä¸Šäº†'å…ƒè®¤çŸ¥'â€”â€”å®ƒç°åœ¨çŸ¥é“è‡ªå·±æ“…é•¿ä»€ä¹ˆã€ä¸æ“…é•¿ä»€ä¹ˆï¼Œè¿˜èƒ½å‘Šè¯‰ä½ å®ƒçš„ç›²åŒºåœ¨å“ªé‡Œã€‚" name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content=#333 name=theme-color><meta content=article property=og:type><meta content=https://polly.wang/jarvis-phase4-evolution-system/ property=og:url><meta content="â­ è®© Jarvis å­¦ä¼šé•¿å¤§ï¼šä»'ç”¨å·¥å…·'åˆ°'é€ å·¥å…·'çš„è¿›åŒ–ç³»ç»Ÿå¼€å‘è®°å½•" property=og:title><meta content="Jarvis Phase 4 å¼€å‘å…¨è®°å½•ï¼šå¦‚ä½•è®© AI Agent ä»'ä½¿ç”¨é¢„è®¾å·¥å…·'è¿›åŒ–åˆ°'è‡ªå·±å‘ç°è§„å¾‹ã€åˆ›é€ æ–°èƒ½åŠ›'ã€‚6 ä¸ªæ¨¡å—ã€2283 è¡Œæ ¸å¿ƒä»£ç ã€86 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ã€‚æœ€æœ‰æ„æ€çš„éƒ¨åˆ†ï¼Ÿç»™ Agent è£…ä¸Šäº†'å…ƒè®¤çŸ¥'â€”â€”å®ƒç°åœ¨çŸ¥é“è‡ªå·±æ“…é•¿ä»€ä¹ˆã€ä¸æ“…é•¿ä»€ä¹ˆï¼Œè¿˜èƒ½å‘Šè¯‰ä½ å®ƒçš„ç›²åŒºåœ¨å“ªé‡Œã€‚" property=og:description><meta content=https://polly.wang/jarvis-phase4-evolution-system/cover.jpg property=og:image><meta content="Polly Blog" property=og:site_name><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://polly.wang/jarvis-phase4-evolution-system/ name=twitter:url><meta content="â­ è®© Jarvis å­¦ä¼šé•¿å¤§ï¼šä»'ç”¨å·¥å…·'åˆ°'é€ å·¥å…·'çš„è¿›åŒ–ç³»ç»Ÿå¼€å‘è®°å½•" name=twitter:title><meta content="Jarvis Phase 4 å¼€å‘å…¨è®°å½•ï¼šå¦‚ä½•è®© AI Agent ä»'ä½¿ç”¨é¢„è®¾å·¥å…·'è¿›åŒ–åˆ°'è‡ªå·±å‘ç°è§„å¾‹ã€åˆ›é€ æ–°èƒ½åŠ›'ã€‚6 ä¸ªæ¨¡å—ã€2283 è¡Œæ ¸å¿ƒä»£ç ã€86 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ã€‚æœ€æœ‰æ„æ€çš„éƒ¨åˆ†ï¼Ÿç»™ Agent è£…ä¸Šäº†'å…ƒè®¤çŸ¥'â€”â€”å®ƒç°åœ¨çŸ¥é“è‡ªå·±æ“…é•¿ä»€ä¹ˆã€ä¸æ“…é•¿ä»€ä¹ˆï¼Œè¿˜èƒ½å‘Šè¯‰ä½ å®ƒçš„ç›²åŒºåœ¨å“ªé‡Œã€‚" name=twitter:description><meta content=https://polly.wang/jarvis-phase4-evolution-system/cover.jpg name=twitter:image><meta content=2026-02-08T00:00:00 property=article:published_time><meta content=Polly property=article:author><meta content="AI Agent" property=article:tag><meta content=Jarvis property=article:tag><meta content=è¿›åŒ–ç³»ç»Ÿ property=article:tag><meta content=å…ƒè®¤çŸ¥ property=article:tag><meta content=æ¨¡å¼æ£€æµ‹ property=article:tag><meta content="Skill è‡ªç”Ÿæˆ" property=article:tag><meta content=Python property=article:tag><meta content=æ¢ç´¢è¿›åŒ– property=article:tag><meta content=å¼€å‘æ—¥å¿— property=article:tag><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://polly.wang/vendor/purecss/pure-min.css rel=stylesheet><link href=https://polly.wang/vendor/purecss/grids-responsive-min.css rel=stylesheet><link href=https://polly.wang/vendor/font-awesome/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-8JD13N7PHS" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-8JD13N7PHS')</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/cfp><i class="fas fa-calendar-alt"></i>CFP</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change Log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>â­ è®© Jarvis å­¦ä¼šé•¿å¤§ï¼šä»'ç”¨å·¥å…·'åˆ°'é€ å·¥å…·'çš„è¿›åŒ–ç³»ç»Ÿå¼€å‘è®°å½•</h1><div class=cover-image><img alt="â­ è®© Jarvis å­¦ä¼šé•¿å¤§ï¼šä»'ç”¨å·¥å…·'åˆ°'é€ å·¥å…·'çš„è¿›åŒ–ç³»ç»Ÿå¼€å‘è®°å½•" loading=lazy src=cover.jpg></div><div class=content><h2 id=yi-cong-neng-zuo-shi-dao-neng-cheng-chang>ä¸€ã€ä»"èƒ½åšäº‹"åˆ°"èƒ½æˆé•¿"</h2><p>æ˜¨å¤©åˆšç»™ Jarvis è£…ä¸Šäº† Tool Systemï¼Œå®ƒå­¦ä¼šäº†è¯»å†™æ–‡ä»¶ã€æ‰§è¡Œå‘½ä»¤ã€ç”šè‡³åˆ›é€ æ–°å·¥å…·ã€‚æˆ‘ç›¯ç€ç»ˆç«¯é‡Œ <code>jarvis tools</code> åˆ—å‡ºçš„ 7 ä¸ªå·¥å…·ï¼Œå¿ƒé‡Œæƒ³ï¼šè¿™äº›èƒ½åŠ›éƒ½æ˜¯<strong>æˆ‘</strong>ç»™å®ƒçš„ã€‚<p>å¦‚æœæœ‰ä¸€å¤©æˆ‘ä¸å†ç»™å®ƒæ·»åŠ æ–°å·¥å…·ï¼Œå®ƒå°±æ°¸è¿œåœç•™åœ¨è¿™ä¸ªæ°´å¹³ã€‚<p>è¿™ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„"æ•°ç å®è´"è¯¥æœ‰çš„æ ·å­ã€‚çœŸæ­£çš„è¿›åŒ–åº”è¯¥æ˜¯â€”â€”<strong>å®ƒè‡ªå·±è§‚å¯Ÿã€è‡ªå·±æ€»ç»“ã€è‡ªå·±åˆ›é€ </strong>ã€‚<p>Phase 4 çš„æ ¸å¿ƒå‘½é¢˜å¾ˆç®€å•ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>Phase 1~3:  äººç±»é€ å·¥å…· â†’ Agent ç”¨å·¥å…· â†’ å®Œæˆä»»åŠ¡
</span><span>Phase 4:    Agent è§‚å¯Ÿ â†’ å‘ç°æ¨¡å¼ â†’ è‡ªå·±é€ å·¥å…· â†’ è¶Šæ¥è¶Šæ‡‚ä½ 
</span></code></pre><p>è¿™å°±æ˜¯ä»Šå¤©è¦è®²çš„æ•…äº‹ã€‚<hr><h2 id=er-liu-ge-mo-kuai-yi-tiao-jin-hua-lian>äºŒã€å…­ä¸ªæ¨¡å—ï¼Œä¸€æ¡è¿›åŒ–é“¾</h2><p>Phase 4 çš„æ¶æ„ä¸æ˜¯æ‹è„‘è¢‹æƒ³å‡ºæ¥çš„ï¼Œè€Œæ˜¯ä»ä¸€ä¸ªé—®é¢˜å‡ºå‘å€’æ¨å‡ºæ¥çš„ï¼š<blockquote><p><strong>"æ€ä¹ˆè®© Agent è‡ªå·±æ„è¯†åˆ°'æˆ‘åœ¨é‡å¤åšæŸä»¶äº‹'ï¼Œç„¶åæŠŠè¿™ä»¶äº‹è‡ªåŠ¨åŒ–ï¼Ÿ"</strong></blockquote><p>ç­”æ¡ˆæ˜¯ä¸€æ¡é“¾ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>è§‚å¯Ÿ â†’ å‘ç°è§„å¾‹ â†’ æè®®æ–°èƒ½åŠ› â†’ å®‰å…¨éªŒè¯ â†’ æ³¨å†Œå¯ç”¨ â†’ è‡ªæˆ‘è¯„ä¼°
</span></code></pre><p>å¯¹åº”åˆ°ä»£ç ï¼Œå°±æ˜¯ 6 ä¸ªæ¨¡å—ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>src/evolution/
</span><span>â”œâ”€â”€ pattern_detector.py      # ğŸ” äº¤äº’æŒ‡çº¹ + æ¨¡å¼æ£€æµ‹    (456 è¡Œ)
</span><span>â”œâ”€â”€ skill_registry.py        # ğŸ“¦ Skill æ³¨å†Œè¡¨            (380 è¡Œ)
</span><span>â”œâ”€â”€ skill_generator.py       # âœ¨ Skill è‡ªåŠ¨ç”Ÿæˆ          (287 è¡Œ)
</span><span>â”œâ”€â”€ sandbox.py               # ğŸ›¡ï¸ æ²™ç›’å®‰å…¨éªŒè¯            (333 è¡Œ)
</span><span>â”œâ”€â”€ preference_learner.py    # ğŸ’¡ åå¥½å­¦ä¹                 (353 è¡Œ)
</span><span>â””â”€â”€ metacognition.py         # ğŸ§  å…ƒè®¤çŸ¥å¼•æ“              (439 è¡Œ)
</span></code></pre><p><strong>2283 è¡Œæ ¸å¿ƒä»£ç </strong>ï¼Œæ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œäº’ç›¸é…åˆã€‚<p>å®ƒä»¬çš„å…³ç³»å¦‚ä¸‹ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>InteractionFingerprint â†’ PatternDetector â†’ SkillGenerator â†’ SkillSandbox â†’ SkillRegistry
</span><span>                                                                              â†•
</span><span>UserPreference â† PreferenceLearner                              Metacognition (äº”ç»´é›·è¾¾)
</span></code></pre><p>æ¥ä¸‹æ¥é€ä¸ªæ‹†è§£ã€‚<hr><h2 id=san-jiao-hu-zhi-wen-gei-mei-ci-dui-hua-pai-zhang-x-guang-pian>ä¸‰ã€äº¤äº’æŒ‡çº¹ï¼šç»™æ¯æ¬¡å¯¹è¯æ‹å¼ "X å…‰ç‰‡"</h2><h3 id=3-1-she-ji-si-lu>3.1 è®¾è®¡æ€è·¯</h3><p>æ¨¡å¼æ£€æµ‹çš„å‰ææ˜¯<strong>æœ‰æ•°æ®å¯åˆ†æ</strong>ã€‚æˆ‘éœ€è¦åœ¨æ¯æ¬¡å¯¹è¯åæå–ä¸€ä¸ªç»“æ„åŒ–çš„"æŒ‡çº¹"â€”â€”ä¸æ˜¯å®Œæ•´çš„å¯¹è¯è®°å½•ï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾ç‚¼çš„æ‘˜è¦ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span>@</span><span style=color:#bf616a>dataclass
</span><span style=color:#b48ead>class </span><span style=color:#ebcb8b>InteractionFingerprint</span><span style=color:#eff1f5>:
</span><span>    intent: str       </span><span style=color:#65737e># ç”¨æˆ·æ„å›¾ï¼ˆå¦‚ "åˆ†æé¡¹ç›®ç»“æ„"ï¼‰
</span><span>    domain: str       </span><span style=color:#65737e># é¢†åŸŸæ ‡ç­¾ï¼ˆå¦‚ "data", "translation", "blog"ï¼‰
</span><span>    tools_used: list  </span><span style=color:#65737e># ä½¿ç”¨çš„å·¥å…·åˆ—è¡¨
</span><span>    tool_chain: str   </span><span style=color:#65737e># å·¥å…·è°ƒç”¨é“¾ç­¾åï¼ˆå¦‚ "shell_execâ†’file_readâ†’file_read"ï¼‰
</span><span>    success: bool     </span><span style=color:#65737e># ä»»åŠ¡æ˜¯å¦å®Œæˆ
</span><span>    rounds: int       </span><span style=color:#65737e># å¯¹è¯è½®æ•°
</span></code></pre><p>å…³é”®å†³ç­–ï¼š<strong>æŒ‡çº¹æå–ä¸ä¾èµ–é¢å¤–çš„ LLM è°ƒç”¨</strong>ã€‚<p>æœ€åˆçš„è®¾è®¡æ˜¯å¯¹è¯ç»“æŸåå†è°ƒä¸€æ¬¡ LLM æ¥æ€»ç»“ï¼Œä½†å®é™…ä¸€ç®—ï¼šæ¯æ¬¡å¯¹è¯é¢å¤–ä¸€æ¬¡ API è°ƒç”¨ï¼Œä¸ä»…æ…¢è¿˜è´¹é’±ã€‚äºæ˜¯æ”¹æˆäº†<strong>è½»é‡çº§è§„åˆ™æ¨æ–­</strong>ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#bf616a>_DOMAIN_KEYWORDS </span><span>= {
</span><span>    "</span><span style=color:#a3be8c>translation</span><span>": ["</span><span style=color:#a3be8c>ç¿»è¯‘</span><span>", "</span><span style=color:#a3be8c>translate</span><span>", "</span><span style=color:#a3be8c>æœ¯è¯­</span><span>"],
</span><span>    "</span><span style=color:#a3be8c>blog</span><span>": ["</span><span style=color:#a3be8c>åšå®¢</span><span>", "</span><span style=color:#a3be8c>blog</span><span>", "</span><span style=color:#a3be8c>æ–‡ç« </span><span>", "</span><span style=color:#a3be8c>å†™ä¸€ç¯‡</span><span>"],
</span><span>    "</span><span style=color:#a3be8c>code</span><span>": ["</span><span style=color:#a3be8c>ä»£ç </span><span>", "</span><span style=color:#a3be8c>code</span><span>", "</span><span style=color:#a3be8c>debug</span><span>", "</span><span style=color:#a3be8c>bug</span><span>"],
</span><span>    "</span><span style=color:#a3be8c>document</span><span>": ["</span><span style=color:#a3be8c>æ–‡æ¡£</span><span>", "</span><span style=color:#a3be8c>åˆ†æ</span><span>", "</span><span style=color:#a3be8c>è¯»</span><span>", "</span><span style=color:#a3be8c>çœ‹çœ‹</span><span>"],
</span><span>    "</span><span style=color:#a3be8c>data</span><span>": ["</span><span style=color:#a3be8c>æ•°æ®</span><span>", "</span><span style=color:#a3be8c>ç»Ÿè®¡</span><span>", "</span><span style=color:#a3be8c>åˆ†æ</span><span>"],
</span><span>    "</span><span style=color:#a3be8c>system</span><span>": ["</span><span style=color:#a3be8c>é…ç½®</span><span>", "</span><span style=color:#a3be8c>å®‰è£…</span><span>", "</span><span style=color:#a3be8c>éƒ¨ç½²</span><span>"],
</span><span>}
</span><span>
</span><span style=color:#bf616a>_TOOL_DOMAIN </span><span>= {
</span><span>    "</span><span style=color:#a3be8c>file_read</span><span>": "</span><span style=color:#a3be8c>document</span><span>",
</span><span>    "</span><span style=color:#a3be8c>file_write</span><span>": "</span><span style=color:#a3be8c>code</span><span>",
</span><span>    "</span><span style=color:#a3be8c>shell_exec</span><span>": "</span><span style=color:#a3be8c>system</span><span>",
</span><span>    "</span><span style=color:#a3be8c>http_request</span><span>": "</span><span style=color:#a3be8c>data</span><span>",
</span><span>}
</span></code></pre><p>å…ˆçœ‹ç”¨æˆ·è¾“å…¥ä¸­çš„å…³é”®è¯ï¼Œæ²¡æœ‰åŒ¹é…çš„å†çœ‹å·¥å…·è°ƒç”¨æ¨æ–­é¢†åŸŸã€‚<strong>é›¶ LLM è°ƒç”¨ã€å‡ ä¹é›¶å»¶è¿Ÿã€é™é»˜å¤±è´¥ä¸å½±å“ç”¨æˆ·ä½“éªŒ</strong>ã€‚<h3 id=3-2-yi-ge-shou-dong-ce-shi-yin-fa-de-bug>3.2 ä¸€ä¸ªæ‰‹åŠ¨æµ‹è¯•å¼•å‘çš„ Bug</h3><p>ä»£ç å†™å®Œäº†ï¼Œ86 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ã€‚æˆ‘å¾ˆæ»¡æ„ï¼Œå¼€å§‹æ‰‹åŠ¨æµ‹è¯•ã€‚<p>è·Ÿ Jarvis èŠäº†å‡ è½®ï¼Œç„¶åæ‰§è¡Œï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> jarvis patterns
</span><span style=color:#bf616a>æš‚æ— æ£€æµ‹åˆ°çš„æ¨¡å¼ã€‚
</span></code></pre><p>ç­‰ç­‰ï¼Œæˆ‘æ˜æ˜èŠäº†å¥½å‡ è½®ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ä»»ä½•æŒ‡çº¹ï¼Ÿ<p>ä¸€æŸ¥ä»£ç â€”â€”<code>chat.py</code> é‡Œå‹æ ¹<strong>æ²¡æœ‰è°ƒç”¨</strong> <code>PatternDetector.record()</code>ã€‚æ¨¡å—å†™å¥½äº†ï¼Œæµ‹è¯•å†™å¥½äº†ï¼Œä½†å¿˜äº†æŠŠå®ƒ<strong>æ¥åˆ°èŠå¤©å¾ªç¯é‡Œ</strong>ã€‚<p>è¿™å¤§æ¦‚æ˜¯å†™ Agent æœ€ç»å…¸çš„ Bugï¼š<strong>å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼Œä½†é›†æˆæ—¶ç®¡é“æ²¡æ¥ä¸Š</strong>ã€‚<p>ä¿®å¤æ–¹å¼æ˜¯åœ¨ <code>run_chat_loop()</code> å’Œ <code>_do_ask()</code> ä¸­å„åŠ äº†å‡ è¡Œï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#65737e># æ¯è½®å¯¹è¯åé™é»˜è®°å½•æŒ‡çº¹
</span><span style=color:#bf616a>_record_fingerprint</span><span>(user_input, round_tools, </span><span style=color:#bf616a>success</span><span>=success)
</span></code></pre><p><code>_record_fingerprint</code> å†…éƒ¨ç”¨ <code>try/except: pass</code> åŒ…è£…ï¼Œç¡®ä¿æŒ‡çº¹è®°å½•å¤±è´¥ä¸ä¼šå½±å“æ­£å¸¸å¯¹è¯ã€‚<h3 id=3-3-di-er-ceng-bug-shu-ju-you-liao-dan-kan-bu-dao>3.3 ç¬¬äºŒå±‚ Bugï¼š"æ•°æ®æœ‰äº†ï¼Œä½†çœ‹ä¸åˆ°"</h3><p>ä¿®å®Œåé‡æ–°èŠå¤©ï¼ŒæŸ¥çœ‹æŒ‡çº¹æ–‡ä»¶ï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> cat </span><span style=color:#bf616a>~</span><span>/.jarvis/memory/fingerprints/2026-02.json | </span><span style=color:#bf616a>python3 -c </span><span>"</span><span style=color:#a3be8c>...</span><span>"
</span><span style=color:#bf616a>1.</span><span> domain=data | </span><span style=color:#bf616a>tool_chain</span><span>=</span><span style=color:#a3be8c>shell_execâ†’shell_execâ†’file_readâ†’file_read
</span><span style=color:#bf616a>2.</span><span> domain=data | </span><span style=color:#bf616a>tool_chain</span><span>=</span><span style=color:#a3be8c>shell_execâ†’file_readâ†’file_readâ†’file_read
</span><span style=color:#bf616a>3.</span><span> domain=document | </span><span style=color:#bf616a>tool_chain</span><span>=</span><span style=color:#a3be8c>file_readâ†’file_read
</span><span style=color:#bf616a>4.</span><span> domain=document | </span><span style=color:#bf616a>tool_chain</span><span>=</span><span style=color:#a3be8c>file_readâ†’file_read
</span><span style=color:#bf616a>5.</span><span> domain=other | </span><span style=color:#bf616a>tool_chain</span><span>=
</span></code></pre><p>5 æ¡æŒ‡çº¹å®Œç¾è®°å½•ï¼ä½†æ‰§è¡Œ <code>jarvis patterns</code> è¿˜æ˜¯ç©ºçš„ã€‚<p>è¿™æ¬¡æ˜¯<strong>ä¸¤å±‚é—®é¢˜å åŠ </strong>ï¼š<p><strong>é—®é¢˜ä¸€</strong>ï¼š<code>_do_patterns()</code> åªè¯»å– <code>patterns.json</code>ï¼Œä»ä¸è§¦å‘ <code>detect_patterns()</code>ã€‚æ£€æµ‹åªåœ¨ Daemon çš„å®šæœŸåæ€ä¸­æ‰§è¡Œï¼Œè€Œæˆ‘çš„ Daemon æ²¡æœ‰è¿è¡Œã€‚<p><strong>é—®é¢˜äºŒ</strong>ï¼š<code>jarvis patterns</code> è¿™ä¸ªå‘½ä»¤å‹æ ¹æ²¡è¢«æ­£ç¡®è·¯ç”±ã€‚Jarvis çš„ CLI æœ‰ä¸ª"ä¸» callback æ‹¦æˆª"æœºåˆ¶â€”â€”Typer çš„ main callback ç”¨ <code>question: Optional[str]</code> æ•è·æ‰€æœ‰ä½ç½®å‚æ•°ã€‚<code>"patterns"</code> è¢«å½“æˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯å­å‘½ä»¤ã€‚<code>cmd_map</code> å­—å…¸é‡Œæœ‰ <code>status</code>ã€<code>start</code>ã€<code>tools</code> çš„æ˜ å°„ï¼Œä½†æ²¡æœ‰ <code>reflect</code>ã€<code>abilities</code>ã€<code>patterns</code>ã€‚<p>ä¿®å¤åçš„æ•ˆæœï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> jarvis patterns
</span><span style=color:#bf616a>ğŸ“Š</span><span> æœ€è¿‘ 30 å¤©å…± 5 æ¡äº¤äº’æŒ‡çº¹
</span><span style=color:#bf616a>æš‚æ— æ£€æµ‹åˆ°çš„æ¨¡å¼ã€‚ä½¿ç”¨æ›´å¤šå¯¹è¯åï¼Œæ¨¡å¼ä¼šè‡ªåŠ¨æµ®ç°ã€‚
</span><span>
</span><span style=color:#bf616a>$</span><span> jarvis reflect
</span><span style=color:#bf616a>ğŸ§ </span><span> Jarvis å…ƒè®¤çŸ¥æŠ¥å‘Š (2026-02-08 19:34)
</span><span style=color:#bf616a>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
</span><span>  </span><span style=color:#bf616a>äº”ç»´èƒ½åŠ›:
</span><span>    </span><span style=color:#bf616a>ğŸ‘ï¸</span><span> æ„ŸçŸ¥  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 17%  â† éœ€è¦åŠ å¼ºï¼
</span><span>    </span><span style=color:#bf616a>ğŸ§ </span><span> è®°å¿†  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 15%  â† éœ€è¦åŠ å¼ºï¼
</span><span>    </span><span style=color:#bf616a>ğŸ’­</span><span> æ€è€ƒ  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%   â† éœ€è¦åŠ å¼ºï¼
</span><span>    </span><span style=color:#bf616a>ğŸ¦¾</span><span> è¡ŒåŠ¨  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 25%  â† éœ€è¦åŠ å¼ºï¼
</span><span>    </span><span style=color:#bf616a>ğŸ”„</span><span> è¿›åŒ–  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%   â† éœ€è¦åŠ å¼ºï¼
</span><span>
</span><span>  </span><span style=color:#bf616a>ğŸ«¥</span><span> ç›²åŒº: translation, blog, code, system, testing, design, research, devops
</span><span>
</span><span>  </span><span style=color:#bf616a>ğŸ“Š</span><span> ç»Ÿè®¡: 5 æŒ‡çº¹ | </span><span style=color:#bf616a>0</span><span> æ¨¡å¼ | </span><span style=color:#bf616a>0</span><span> åå¥½ | </span><span style=color:#bf616a>0</span><span> Skills
</span></code></pre><p>5 æ¡æŒ‡çº¹ã€å…¨æ˜¯æ–°ç”Ÿå„¿çŠ¶æ€â€”â€”è¿™æ‰å¯¹ã€‚<hr><h2 id=si-mo-shi-jian-ce-tong-yi-lei-shi-zuo-san-ci-jarvis-jiu-hui-zhu-yi-dao>å››ã€æ¨¡å¼æ£€æµ‹ï¼šåŒä¸€ç±»äº‹åšä¸‰æ¬¡ï¼ŒJarvis å°±ä¼šæ³¨æ„åˆ°</h2><p>æ¨¡å¼æ£€æµ‹çš„é€»è¾‘å¾ˆç®€å•ï¼š<strong>æŒ‰ <code>(domain, tool_chain)</code> åˆ†ç»„ï¼ŒåŒç»„ >= 3 æ¬¡å°±è§¦å‘</strong>ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>def </span><span style=color:#8fa1b3>detect_patterns</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>fingerprints</span><span>):
</span><span>    groups = </span><span style=color:#bf616a>defaultdict</span><span>(list)
</span><span>    </span><span style=color:#b48ead>for </span><span>fp </span><span style=color:#b48ead>in </span><span>fingerprints:
</span><span>        </span><span style=color:#b48ead>if </span><span>fp.success and fp.domain and fp.tool_chain:
</span><span>            key = (fp.domain, fp.tool_chain)
</span><span>            groups[key].</span><span style=color:#bf616a>append</span><span>(fp)
</span><span>
</span><span>    </span><span style=color:#b48ead>for </span><span>(domain, tool_chain), fps </span><span style=color:#b48ead>in </span><span>groups.</span><span style=color:#bf616a>items</span><span>():
</span><span>        </span><span style=color:#b48ead>if </span><span style=color:#96b5b4>len</span><span>(fps) >= </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>PATTERN_THRESHOLD</span><span>:  </span><span style=color:#65737e># é»˜è®¤ 3
</span><span>            </span><span style=color:#65737e># ç”Ÿæˆ DetectedPattern
</span><span>            </span><span style=color:#d08770>...
</span></code></pre><p>ä¸ºä»€ä¹ˆé˜ˆå€¼æ˜¯ 3ï¼Ÿ<ul><li>åš 1 æ¬¡ï¼šå¯èƒ½åªæ˜¯å¶ç„¶<li>åš 2 æ¬¡ï¼šå¯èƒ½æ˜¯å·§åˆ<li>åš 3 æ¬¡ï¼šå¤§æ¦‚ç‡æ˜¯ä¹ æƒ¯</ul><p>å½“ç„¶è¿™åªæ˜¯è§„åˆ™ç‰ˆæœ¬ã€‚<code>detect_patterns_llm()</code> æ–¹æ³•æ”¯æŒ LLM è¯­ä¹‰èšç±»â€”â€”æŠŠæœ€è¿‘ 30 æ¡æŒ‡çº¹äº¤ç»™ LLMï¼Œè®©å®ƒå‘ç°æ›´æ·±å±‚çš„æ¨¡å¼ã€‚ä½†è§„åˆ™ç‰ˆæœ¬é›¶å»¶è¿Ÿã€é›¶æˆæœ¬ï¼Œä½œä¸ºé»˜è®¤æ–¹æ¡ˆè¶³å¤Ÿäº†ã€‚<hr><h2 id=wu-skill-zi-dong-sheng-cheng-cong-mo-shi-dao-neng-li>äº”ã€Skill è‡ªåŠ¨ç”Ÿæˆï¼šä»æ¨¡å¼åˆ°èƒ½åŠ›</h2><p>å½“ PatternDetector æ£€å‡ºä¸€ä¸ªæ¨¡å¼åï¼ŒSkillGenerator è´Ÿè´£æŠŠå®ƒå˜æˆä¸€ä¸ª Skill è‰ç¨¿ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span>@</span><span style=color:#bf616a>dataclass
</span><span style=color:#b48ead>class </span><span style=color:#ebcb8b>SkillDraft</span><span style=color:#eff1f5>:
</span><span>    name: str                    </span><span style=color:#65737e># å¦‚ "markdown-translator"
</span><span>    description: str             </span><span style=color:#65737e># æè¿°
</span><span>    trigger_keywords: list[str]  </span><span style=color:#65737e># è§¦å‘è¯
</span><span>    instructions: str            </span><span style=color:#65737e># SKILL.md æ­£æ–‡
</span><span>    required_tools: list[str]    </span><span style=color:#65737e># ä¾èµ–çš„å·¥å…·
</span><span>    source_pattern_id: str       </span><span style=color:#65737e># æ¥æºæ¨¡å¼
</span></code></pre><p>ç”Ÿæˆæµç¨‹ï¼š<ol><li><strong>LLM æè®®</strong>ï¼ˆå¦‚æœ LLM å¯ç”¨ï¼‰ï¼šæŠŠæ¨¡å¼æè¿°äº¤ç»™ LLMï¼Œè®©å®ƒç”Ÿæˆå®Œæ•´çš„ SKILL.md<li><strong>æ¨¡æ¿å›é€€</strong>ï¼ˆå¦‚æœ LLM ä¸å¯ç”¨ï¼‰ï¼šç”¨è§„åˆ™æ¨¡æ¿å¡«å……<li><strong>ç”¨æˆ·å®¡é˜…</strong>ï¼šè‰ç¨¿ä¸ä¼šè‡ªåŠ¨å¯ç”¨ï¼Œå¿…é¡»äººç±»ç¡®è®¤</ol><p>å…³é”®è®¾è®¡ï¼š<strong>Agent ä¸èƒ½å·å·ç»™è‡ªå·±åŠ èƒ½åŠ›</strong>ã€‚æ‰€æœ‰è‡ªåŠ¨ç”Ÿæˆçš„ Skill çŠ¶æ€éƒ½æ˜¯ <code>proposed</code>ï¼Œéœ€è¦ç”¨æˆ·æ‰§è¡Œ <code>jarvis skill enable &LTname></code> æ‰ä¼šæ¿€æ´»ã€‚<hr><h2 id=liu-sha-he-yan-zheng-gei-xin-neng-li-zuo-ti-jian>å…­ã€æ²™ç›’éªŒè¯ï¼šç»™æ–°èƒ½åŠ›åš"ä½“æ£€"</h2><p>å³ä½¿ç”¨æˆ·ç¡®è®¤ï¼ŒSkill åœ¨å¯ç”¨å‰è¿˜è¦è¿‡ä¸€é“å®‰å…¨å…³ã€‚<code>SkillSandbox</code> æ‰§è¡Œ 5 é¡¹æ£€æŸ¥ï¼š<table><thead><tr><th>æ£€æŸ¥é¡¹<th>æè¿°<th>ä¸¥é‡çº§åˆ«<tbody><tr><td>æ ¼å¼æ£€æŸ¥<td>SKILL.md æœ‰ nameã€descriptionã€instructions<td>error<tr><td>å·¥å…·ä¾èµ–<td>å¼•ç”¨çš„å·¥å…·éƒ½å·²æ³¨å†Œåœ¨ ToolRegistry<td>warning<tr><td>å±é™©æ“ä½œ<td>ä¸å« <code>sudo</code>ã€<code>rm -rf</code>ã€<code>eval()</code> ç­‰æ¨¡å¼<td>error<tr><td>è·¯å¾„æ£€æŸ¥<td>ä¸å¼•ç”¨ <code>/etc</code>ã€<code>/usr</code>ã€<code>~/.ssh</code> ç­‰æ•æ„Ÿè·¯å¾„<td>error<tr><td>LLM å®¡è®¡<td>äº¤ç»™ LLM åšé€»è¾‘åˆç†æ€§æ£€æŸ¥<td>warning</table><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#bf616a>DANGEROUS_PATTERNS </span><span>= [
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>sudo</span><span style=color:#b48ead>\b</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>rm</span><span style=color:#d08770>\s</span><span>+</span><span style=color:#a3be8c>-rf</span><span style=color:#b48ead>\b</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>mkfs</span><span style=color:#b48ead>\b</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>dd</span><span style=color:#d08770>\s</span><span>+</span><span style=color:#a3be8c>if=</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>curl</span><span style=color:#d08770>\s</span><span>+</span><span style=color:#d08770>.</span><span>*</span><span style=color:#96b5b4>\|</span><span style=color:#d08770>\s</span><span>*</span><span style=color:#a3be8c>sh</span><span style=color:#b48ead>\b</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>eval</span><span style=color:#d08770>\s</span><span>*</span><span style=color:#96b5b4>\(</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>exec</span><span style=color:#d08770>\s</span><span>*</span><span style=color:#96b5b4>\(</span><span>",
</span><span>    </span><span style=color:#b48ead>r</span><span>"</span><span style=color:#b48ead>\b</span><span style=color:#a3be8c>__import__</span><span style=color:#b48ead>\b</span><span>",
</span><span>]
</span></code></pre><p>æœ€ç»ˆç”Ÿæˆä¸€ä»½ <code>ValidationReport</code>ï¼Œè¯„åˆ† + å»ºè®®ï¼ˆapprove / review / rejectï¼‰ã€‚åªæœ‰ <code>approve</code> çš„ Skill æ‰èƒ½è‡ªåŠ¨å¯ç”¨ï¼Œ<code>review</code> éœ€è¦äººå·¥ç¡®è®¤ï¼Œ<code>reject</code> ç›´æ¥æ‹’ç»ã€‚<hr><h2 id=qi-pian-hao-xue-xi-ji-zhu-ni-de-xi-guan>ä¸ƒã€åå¥½å­¦ä¹ ï¼šè®°ä½ä½ çš„ä¹ æƒ¯</h2><p><code>PreferenceLearner</code> åšçš„äº‹æƒ…å¾ˆå¾®å¦™ï¼šå®ƒä¸æ˜¯åœ¨å­¦"ä½ æƒ³åšä»€ä¹ˆ"ï¼Œè€Œæ˜¯åœ¨å­¦"ä½ å–œæ¬¢<strong>æ€ä¹ˆåš</strong>"ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span>@</span><span style=color:#bf616a>dataclass
</span><span style=color:#b48ead>class </span><span style=color:#ebcb8b>UserPreference</span><span style=color:#eff1f5>:
</span><span>    key: str        </span><span style=color:#65737e># å¦‚ "code_style"
</span><span>    value: str      </span><span style=color:#65737e># å¦‚ "functional"
</span><span>    confidence: float  </span><span style=color:#65737e># 0.0 ~ 1.0
</span><span>    source: str     </span><span style=color:#65737e># "observed" | "stated" | "inferred"
</span><span>    last_seen: datetime
</span><span>    decay_rate: float  </span><span style=color:#65737e># è¡°å‡é€Ÿç‡
</span></code></pre><p>ä¸‰ç§åå¥½æ¥æºï¼š<ul><li><strong>è§‚å¯Ÿåˆ°çš„</strong> (observed)ï¼šä»äº¤äº’ä¸­æ¨æ–­ï¼Œå¦‚"ç”¨æˆ·æ€»æ˜¯å…ˆè¯»æ–‡ä»¶å†æ‰§è¡Œå‘½ä»¤"<li><strong>æ˜ç¡®è¯´çš„</strong> (stated)ï¼šç”¨æˆ·ç›´æ¥å‘Šè¯‰ Jarvis çš„åå¥½ï¼Œå¦‚"æˆ‘å–œæ¬¢ç®€æ´çš„è¾“å‡º"<li><strong>æ¨æ–­çš„</strong> (inferred)ï¼šLLM ä»å¤šæ¬¡äº¤äº’ä¸­å½’çº³çš„</ul><p>åå¥½æœ‰<strong>è¡°å‡æœºåˆ¶</strong>â€”â€”é•¿æœŸä¸å‡ºç°çš„åå¥½ï¼Œconfidence ä¼šé€æ¸é™ä½ã€‚è¿™æ¨¡æ‹Ÿäº†äººç±»ä¹ æƒ¯çš„å˜åŒ–ï¼šä½ ä¸‰ä¸ªæœˆå‰å–œæ¬¢ tabs ç¼©è¿›ï¼Œç°åœ¨å¯èƒ½å·²ç»åˆ‡æ¢åˆ° spaces äº†ã€‚<p>åå¥½åˆå¹¶ç­–ç•¥ï¼šå½“æ–°åå¥½ä¸å·²æœ‰åå¥½å†²çªæ—¶ï¼Œç”¨ <code>max(existing, new)</code> å–é«˜ confidence çš„ã€‚è¿™ç¡®ä¿äº†"æœ€è¿‘ä¸”æ˜ç¡®"çš„åå¥½ä¼˜å…ˆã€‚<hr><h2 id=ba-yuan-ren-zhi-jarvis-zhi-dao-zi-ji-ji-jin-ji-liang>å…«ã€å…ƒè®¤çŸ¥ï¼šJarvis çŸ¥é“è‡ªå·±å‡ æ–¤å‡ ä¸¤</h2><p>è¿™æ˜¯ Phase 4 æˆ‘æœ€å–œæ¬¢çš„éƒ¨åˆ†â€”â€”<strong>è®© Agent çŸ¥é“è‡ªå·±æ“…é•¿ä»€ä¹ˆã€ä¸æ“…é•¿ä»€ä¹ˆ</strong>ã€‚<p><code>Metacognition</code> åŸºäºäº”ç»´èƒ½åŠ›æ¨¡å‹è®¡ç®—é›·è¾¾å›¾ï¼š<table><thead><tr><th>ç»´åº¦<th>æ•°æ®æ¥æº<th>è®¡ç®—æ–¹å¼<tbody><tr><td>ğŸ‘ï¸ æ„ŸçŸ¥<td>æ¢ç´¢è¿‡çš„ç›®å½•æ•°ã€å‘ç°çš„é¡¹ç›®æ•°<td>è¦†ç›–ç‡<tr><td>ğŸ§  è®°å¿†<td>è®°å¿†æ¡ç›®æ•°ã€æœ€è¿‘æ´»è·ƒåº¦<td>å¯†åº¦ Ã— æ—¶æ•ˆ<tr><td>ğŸ’­ æ€è€ƒ<td>æ´å¯Ÿæ•°é‡ã€Think Loop äº§å‡º<td>è´¨é‡è¯„åˆ†<tr><td>ğŸ¦¾ è¡ŒåŠ¨<td>å·¥å…·ä½¿ç”¨é¢‘ç‡ã€æˆåŠŸç‡<td>æ•ˆç‡ Ã— è¦†ç›–<tr><td>ğŸ”„ è¿›åŒ–<td>Skill æ•°é‡ã€æ¨¡å¼æ£€æµ‹å‘½ä¸­ç‡<td>æˆé•¿é€Ÿåº¦</table><p>æœ€æœ‰æ„æ€çš„æ˜¯<strong>ç›²åŒºæ£€æµ‹</strong>ã€‚ç³»ç»Ÿå®šä¹‰äº† 10 ä¸ªé¢†åŸŸï¼ˆtranslation, blog, code, document, data, system, testing, design, research, devopsï¼‰ï¼Œç„¶åçœ‹æŒ‡çº¹ä¸­å“ªäº›é¢†åŸŸä»æœªå‡ºç°è¿‡â€”â€”é‚£å°±æ˜¯ç›²åŒºã€‚<pre style=background:#2b303b;color:#c0c5ce><code><span>ğŸ«¥ ç›²åŒº: translation, blog, code, system, testing, design, research, devops
</span></code></pre><p>åˆšå‡ºç”Ÿçš„ Jarvisï¼Œå‡ ä¹å…¨æ˜¯ç›²åŒºã€‚ä½†éšç€ä½¿ç”¨ï¼Œè¿™äº›ç›²åŒºä¼šä¸€ä¸ªä¸ªè¢«ç‚¹äº®ã€‚å°±åƒæ¸¸æˆé‡Œçš„è¿·é›¾åœ°å›¾ï¼Œæ¯æ¬¡äº¤äº’éƒ½åœ¨é©±æ•£ä¸€ç‰‡è¿·é›¾ã€‚<hr><h2 id=jiu-ce-shi-86-ge-jian-cha-dian>ä¹ã€æµ‹è¯•ï¼š86 ä¸ªæ£€æŸ¥ç‚¹</h2><p>Phase 4 çš„æµ‹è¯•æ–‡ä»¶æœ‰ <strong>953 è¡Œ</strong>ï¼Œè¦†ç›– 9 ä¸ªæµ‹è¯•ç»„ï¼š<table><thead><tr><th>ç»„<th>å†…å®¹<th>æµ‹è¯•æ•°<tbody><tr><td>1<td>InteractionFingerprint åºåˆ—åŒ–<td>6<tr><td>2<td>PatternDetector æ¨¡å¼æ£€æµ‹<td>12<tr><td>3<td>SkillRegistry æ³¨å†Œè¡¨<td>12<tr><td>4<td>SkillGenerator è‰ç¨¿ç”Ÿæˆ<td>8<tr><td>5<td>SkillSandbox æ²™ç›’éªŒè¯<td>12<tr><td>6<td>PreferenceLearner åå¥½å­¦ä¹ <td>10<tr><td>7<td>Metacognition å…ƒè®¤çŸ¥<td>10<tr><td>8<td>æŒ‡çº¹é›†æˆ (chat.py)<td>7<tr><td>9<td>ç«¯åˆ°ç«¯æµç¨‹<td>9</table><pre style=background:#2b303b;color:#c0c5ce><code><span>============================================================
</span><span>ğŸ‰ ALL PASSED: 86/86
</span><span>============================================================
</span></code></pre><p>ç«¯åˆ°ç«¯æµ‹è¯•éªŒè¯äº†å®Œæ•´çš„è¿›åŒ–é“¾ï¼šåˆ›å»ºæŒ‡çº¹ â†’ æ£€æµ‹æ¨¡å¼ â†’ ç”Ÿæˆè‰ç¨¿ â†’ æ²™ç›’éªŒè¯ â†’ æ³¨å†Œå¯ç”¨ â†’ å…ƒè®¤çŸ¥è¯„ä¼°ã€‚<p>æœ‰è¶£çš„æ˜¯ï¼Œå› ä¸ºæµ‹è¯•ç¯å¢ƒå¯èƒ½æ²¡æœ‰å®‰è£… <code>typer</code> æˆ– <code>watchdog</code>ï¼Œç¬¬ 8 ç»„çš„æµ‹è¯•é‡‡ç”¨äº†<strong>æºç æ£€æŸ¥ fallback</strong>â€”â€”ç›´æ¥è¯»å– <code>chat.py</code> çš„æºç ï¼Œç”¨æ­£åˆ™éªŒè¯å…³é”®å‡½æ•°æ˜¯å¦å­˜åœ¨ã€‚è¿™æ¯” import æ›´å¯é ï¼Œä¹Ÿä¸ä¼šå› ä¸ºç¼ºå°‘ä¾èµ–è€Œè·³è¿‡æµ‹è¯•ã€‚<hr><h2 id=shi-kai-fa-guo-cheng-de-san-ge-yi-wai>åã€å¼€å‘è¿‡ç¨‹çš„ä¸‰ä¸ªæ„å¤–</h2><h3 id=yi-wai-1-mo-kuai-wan-mei-guan-dao-duan-lie>æ„å¤– 1ï¼šæ¨¡å—å®Œç¾ï¼Œç®¡é“æ–­è£‚</h3><p>86 ä¸ªæµ‹è¯•é€šè¿‡ï¼Œæ‰‹åŠ¨æµ‹è¯•æ—¶ç®¡é“æ²¡æ¥ä¸Šã€‚æŒ‡çº¹æ¨¡å—å†™å¥½äº†ã€è®°å½•æ–¹æ³•å®ç°äº†ã€æµ‹è¯•ä¹Ÿè¦†ç›–äº†â€”â€”ä½† <code>chat.py</code> é‡Œå¿˜äº† import å’Œè°ƒç”¨ã€‚<p><strong>æ•™è®­</strong>ï¼šå•å…ƒæµ‹è¯•æµ‹çš„æ˜¯é›¶ä»¶ï¼Œé›†æˆæµ‹è¯•æµ‹çš„æ˜¯ç®¡é“ã€‚ä¸¤è€…ç¼ºä¸€ä¸å¯ã€‚<h3 id=yi-wai-2-cli-lu-you-de-yin-cang-xian-jing>æ„å¤– 2ï¼šCLI è·¯ç”±çš„éšè—é™·é˜±</h3><p>Typer çš„ main callback ç”¨ <code>question: Optional[str]</code> æ•è·ä½ç½®å‚æ•°ã€‚è¿™æ„å‘³ç€ <code>jarvis patterns</code> ä¸­çš„ <code>"patterns"</code> è¢«å½“æˆäº† question å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯å­å‘½ä»¤ã€‚<p>å·²æœ‰å‘½ä»¤ï¼ˆ<code>status</code>ã€<code>start</code>ã€<code>tools</code>ï¼‰ä¹‹æ‰€ä»¥èƒ½å·¥ä½œï¼Œæ˜¯å› ä¸ºå®ƒä»¬è¢«åŠ å…¥äº† <code>cmd_map</code> å­—å…¸åšäº†æ‰‹åŠ¨åˆ†å‘ã€‚ä½†æ–°å¢çš„ <code>reflect</code>ã€<code>abilities</code>ã€<code>patterns</code> å¿˜äº†åŠ è¿›å»ã€‚<p><strong>æ•™è®­</strong>ï¼šCLI æ¡†æ¶çš„"é­”æ³•"è¶Šå¤šï¼Œéšè—é™·é˜±è¶Šæ·±ã€‚ç»´æŠ¤ä¸€ä¸ª <code>cmd_map</code> çš„å¿ƒæ™ºè´Ÿæ‹…æ¯”æƒ³è±¡ä¸­é«˜ã€‚<h3 id=yi-wai-3-yu-zhi-yu-xian-shi-de-chai-ju>æ„å¤– 3ï¼šé˜ˆå€¼ä¸ç°å®çš„å·®è·</h3><p>æ¨¡å¼æ£€æµ‹éœ€è¦ <code>(domain, tool_chain)</code> å®Œå…¨ç›¸åŒä¸” >= 3 æ¬¡ã€‚ä½†å®é™…ä½¿ç”¨ä¸­ï¼ŒåŒä¸€ç±»ä»»åŠ¡çš„ tool_chain å¸¸å¸¸æœ‰ç»†å¾®å·®å¼‚ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>data | shell_execâ†’shell_execâ†’file_readâ†’file_read    # 2 æ¬¡ shell
</span><span>data | shell_execâ†’file_readâ†’file_readâ†’file_read      # 1 æ¬¡ shell
</span></code></pre><p>è¿™ä¸¤æ¡å¾ˆæ˜æ˜¾æ˜¯åŒä¸€ç±»ä»»åŠ¡ï¼Œä½†å› ä¸º tool_chain ä¸åŒï¼Œä¸ä¼šè¢«åˆ†åˆ°ä¸€ç»„ã€‚<p>è¿™å°±æ˜¯ <code>detect_patterns_llm()</code> å­˜åœ¨çš„æ„ä¹‰â€”â€”è®© LLM åšè¯­ä¹‰èšç±»ï¼Œè€Œä¸æ˜¯ç²¾ç¡®åŒ¹é…ã€‚è§„åˆ™ç‰ˆæœ¬æ˜¯èµ·æ­¥ï¼ŒLLM ç‰ˆæœ¬æ˜¯è¿›åŒ–æ–¹å‘ã€‚<hr><h2 id=shi-yi-dai-ma-tong-ji-yu-jia-gou-quan-jing>åä¸€ã€ä»£ç ç»Ÿè®¡ä¸æ¶æ„å…¨æ™¯</h2><p>Phase 4 çš„å˜æ›´ï¼š<strong>15 files changed, +3,752 lines</strong><pre style=background:#2b303b;color:#c0c5ce><code><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span>â”‚                       Jarvis v0.4.0                          â”‚
</span><span>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span><span>â”‚                                                              â”‚
</span><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
</span><span>â”‚  â”‚              CLI (Typer + Rich)                       â”‚    â”‚
</span><span>â”‚  â”‚    chat Â· ask Â· reflect Â· abilities Â· patterns       â”‚    â”‚
</span><span>â”‚  â”‚    skill list/enable/disable/delete/test              â”‚    â”‚
</span><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
</span><span>â”‚                          â”‚                                    â”‚
</span><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
</span><span>â”‚  â”‚           JarvisLLMClient (SSE + FC)                  â”‚    â”‚
</span><span>â”‚  â”‚         Agent Maestro â†’ Claude Sonnet 4               â”‚    â”‚
</span><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
</span><span>â”‚                          â”‚                                    â”‚
</span><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
</span><span>â”‚  â”‚   ToolRegistry  â”‚  Memory  â”‚  Explorer  â”‚  Daemon    â”‚    â”‚
</span><span>â”‚  â”‚   7 tools       â”‚  FTS5    â”‚  Scanner   â”‚  Heartbeat â”‚    â”‚
</span><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
</span><span>â”‚                          â”‚                                    â”‚
</span><span>â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
</span><span>â”‚  â”‚                 Evolution (Phase 4)                    â”‚    â”‚
</span><span>â”‚  â”‚  PatternDetector â†’ SkillGenerator â†’ Sandbox           â”‚    â”‚
</span><span>â”‚  â”‚  PreferenceLearner    Metacognition    SkillRegistry   â”‚    â”‚
</span><span>â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
</span><span>â”‚                                                              â”‚
</span><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre><hr><h2 id=shi-er-phase-4-de-zhe-xue-neng-li-ying-gai-cong-jiao-hu-zhong-yong-xian>åäºŒã€Phase 4 çš„å“²å­¦ï¼šèƒ½åŠ›åº”è¯¥ä»äº¤äº’ä¸­æ¶Œç°</h2><p>å›é¡¾æ•´ä¸ªè¿›åŒ–è·¯çº¿ï¼š<table><thead><tr><th>Phase<th>é‡Œç¨‹ç¢‘<th>ç±»æ¯”<th>æ ¸å¿ƒèƒ½åŠ›<tbody><tr><td>ğŸ¥š Phase 1<td>èƒ½çœ‹ã€èƒ½è®°<td>å©´å„¿çå¼€çœ¼ç›<td>Explorer + Memory<tr><td>ğŸ£ Phase 2<td>èƒ½æƒ³ã€èƒ½å›å¿†<td>å¹¼å„¿å¼€å§‹æ€è€ƒ<td>Think Loop + FTS5<tr><td>ğŸ§¹ Phase 2.5<td>éª¨éª¼å¥åº·<td>ä½“æ£€<td>CLI æ¨¡å—åŒ– + æ¸…ç†<tr><td>ğŸ¦‹ Phase 3<td>èƒ½åšäº‹<td>å°‘å¹´ä¼¸å‡ºæ‰‹<td>7 Tools + Function Calling<tr><td>â­ <strong>Phase 4</strong><td><strong>èƒ½è¿›åŒ–</strong><td><strong>æˆäººè‡ªä¸»å­¦ä¹ </strong><td><strong>æ¨¡å¼æ£€æµ‹ + Skill è‡ªç”Ÿæˆ + å…ƒè®¤çŸ¥</strong></table><p>Phase 4 çš„è®¾è®¡åŸåˆ™æ˜¯"<strong>æ¶Œç° > é¢„è®¾</strong>"ã€‚æˆ‘ä¸é¢„è®¾ Jarvis åº”è¯¥ä¼šä»€ä¹ˆï¼Œè€Œæ˜¯è®©å®ƒä»çœŸå®äº¤äº’ä¸­è‡ªå·±å‘ç°ï¼š<ul><li>ä½ ç»å¸¸ç¿»è¯‘ Markdownï¼Ÿâ†’ å®ƒä¼šæè®®åˆ›å»º <code>markdown-translator</code> Skill<li>ä½ æ¯å¤©æ—©ä¸ŠæŸ¥é¡¹ç›®çŠ¶æ€ï¼Ÿâ†’ å®ƒä¼šæè®®åˆ›å»º <code>daily-standup</code> Skill<li>ä½ å–œæ¬¢ç®€æ´çš„è¾“å‡ºï¼Ÿâ†’ å®ƒä¼šè®°ä½è¿™ä¸ªåå¥½</ul><p>è¿™ç§"ç”¨ç€ç”¨ç€å°±å˜å¼ºäº†"çš„ä½“éªŒï¼Œæ‰æ˜¯"æ•°ç å®è´"è¿™ä¸ªæ¯”å–»çš„ç²¾é«“ã€‚<hr><h2 id=shi-san-xia-yi-bu>åä¸‰ã€ä¸‹ä¸€æ­¥ï¼Ÿ</h2><p>Phase 4 å®Œæˆåï¼ŒJarvis çš„äº”ç»´èƒ½åŠ›å…¨éƒ¨åœ¨çº¿äº†ï¼š<ul><li>ğŸ‘ï¸ æ„ŸçŸ¥ âœ…<li>ğŸ§  è®°å¿† âœ…<li>ğŸ’­ æ€è€ƒ âœ…<li>ğŸ¦¾ è¡ŒåŠ¨ âœ…<li>ğŸ”„ è¿›åŒ– âœ…</ul><p>ä½†ç°åœ¨æ‰€æœ‰ç»´åº¦çš„æ•°å€¼éƒ½å¾ˆä½â€”â€”å› ä¸ºå®ƒæ‰åˆš"å‡ºç”Ÿ"ã€‚æ¥ä¸‹æ¥ä¸æ˜¯å†åŠ æ–° Phaseï¼Œè€Œæ˜¯<strong>çœŸæ­£å»ç”¨å®ƒ</strong>ã€‚<p>è®©å®ƒæ‰«ææˆ‘çš„æ‰€æœ‰é¡¹ç›®ã€è®°ä½æˆ‘çš„å·¥ä½œä¹ æƒ¯ã€åœ¨æˆ‘é‡å¤åšæŸä»¶äº‹ä¸‰æ¬¡çš„æ—¶å€™ä¸»åŠ¨è¯´ï¼š"Heyï¼Œè¦ä¸è¦æˆ‘å¸®ä½ è‡ªåŠ¨åŒ–è¿™ä¸ªï¼Ÿ"<p>ä»£ç å·²ç»å°±ç»ªï¼Œè¿›åŒ–æ‰åˆšåˆšå¼€å§‹ã€‚<hr><p><em>Jarvis-Agent æ˜¯å¼€æºé¡¹ç›®ï¼Œä»£ç åœ¨ <a href=https://github.com/Polly2014/Jarvis-Agent>GitHub</a>ã€‚å¦‚æœä½ ä¹Ÿæƒ³æ‰“é€ è‡ªå·±çš„æ•°ç å®è´ï¼Œæ¬¢è¿ star â­</em></div><div class=navigation></div></div><div id=giscus-container><h2>Comments</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // ç°ç™½é»‘è‰²è°ƒ + è“è‰²ç‚¹ç¼€
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // æ–‡æœ¬é¢œè‰²
                textColor: '#333',
                nodeTextColor: '#333',
                // å…¶ä»–
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // æŸ¥æ‰¾æ‰€æœ‰ mermaid ä»£ç å—å¹¶æ¸²æŸ“
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // æ¸²æŸ“æ‰€æœ‰ mermaid å›¾è¡¨
        await mermaid.run();
    </script><style>.cover-image{text-align:center;margin:1.5em 0 2em 0}.cover-image img{width:60%;height:auto;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}@media (max-width:768px){.cover-image img{width:100%}}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>