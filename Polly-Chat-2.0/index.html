<!doctype html><html><head><title>Polly Chat 2.0: From Clunky Backend to Zero-Backend</title><meta content="åšå®¢é¦–é¡µçš„ AI èŠå¤©åŠŸèƒ½è¿æ¥ 2.0 é‡æ„â€”â€”å‘Šåˆ«è‡ƒè‚¿åç«¯ï¼Œç›´è¿ CopilotXï¼Œç”¨ memory ç³»ç»ŸåŠ¨æ€ç”Ÿæˆäººè®¾ï¼ŒSSE æµå¼å“åº”è®©å¯¹è¯ä¸æ»‘å¦‚èŠå¾®ä¿¡ã€‚" name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content=#333 name=theme-color><meta content=article property=og:type><meta content=https://polly.wang/Polly-Chat-2.0/ property=og:url><meta content="Polly Chat 2.0: From Clunky Backend to Zero-Backend" property=og:title><meta content="åšå®¢é¦–é¡µçš„ AI èŠå¤©åŠŸèƒ½è¿æ¥ 2.0 é‡æ„â€”â€”å‘Šåˆ«è‡ƒè‚¿åç«¯ï¼Œç›´è¿ CopilotXï¼Œç”¨ memory ç³»ç»ŸåŠ¨æ€ç”Ÿæˆäººè®¾ï¼ŒSSE æµå¼å“åº”è®©å¯¹è¯ä¸æ»‘å¦‚èŠå¾®ä¿¡ã€‚" property=og:description><meta content=https://polly.wang/Polly-Chat-2.0/cover.jpg property=og:image><meta content="Polly Blog" property=og:site_name><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://polly.wang/Polly-Chat-2.0/ name=twitter:url><meta content="Polly Chat 2.0: From Clunky Backend to Zero-Backend" name=twitter:title><meta content="åšå®¢é¦–é¡µçš„ AI èŠå¤©åŠŸèƒ½è¿æ¥ 2.0 é‡æ„â€”â€”å‘Šåˆ«è‡ƒè‚¿åç«¯ï¼Œç›´è¿ CopilotXï¼Œç”¨ memory ç³»ç»ŸåŠ¨æ€ç”Ÿæˆäººè®¾ï¼ŒSSE æµå¼å“åº”è®©å¯¹è¯ä¸æ»‘å¦‚èŠå¾®ä¿¡ã€‚" name=twitter:description><meta content=https://polly.wang/Polly-Chat-2.0/cover.jpg name=twitter:image><meta content=2026-02-13T00:00:00 property=article:published_time><meta content=Polly property=article:author><meta content=CopilotX property=article:tag><meta content=Digital-Polly property=article:tag><meta content=Blog property=article:tag><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-8JD13N7PHS" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8JD13N7PHS';);</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/cfp><i class="fas fa-calendar-alt"></i>CFP</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change Log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>Polly Chat 2.0: From Clunky Backend to Zero-Backend</h1><div class=cover-image><img alt="Polly Chat 2.0: From Clunky Backend to Zero-Backend" loading=lazy src=cover.jpg></div><div class=content><p>å‡Œæ™¨ 1 ç‚¹ï¼Œæœ‹å‹å‘æ¶ˆæ¯æŠ±æ€¨ï¼š"ä½ é¦–é¡µé‚£ä¸ªèŠå¤©æœºå™¨äººï¼Œå¤ªæ…¢äº†ï¼Œç­‰åŠå¤©æ‰å‡ºæ¥å‡ ä¸ªå­—ã€‚"<p>æˆ‘æ‰“å¼€ Chrome DevTools çœ‹äº†çœ¼â€”â€”ç¡®å®ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦è¦ 5-15 ç§’ï¼Œæ•´ä¸ªå›å¤å®Œè¦ 20+ ç§’ã€‚è¿™ä½“éªŒï¼Œæ”¾åœ¨ 2026 å¹´ç®€ç›´æ˜¯è€ƒå¤çº§åˆ«ã€‚<p>æ˜¯æ—¶å€™é‡æ„äº†ã€‚</p><span id=continue-reading></span><h2 id=mag-wen-ti-zhen-duan>ğŸ” é—®é¢˜è¯Šæ–­</h2><p>è€æ¶æ„é•¿è¿™æ ·ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>Blog Frontend â†’ Polly-Blog-Backend (Python/FastAPI) â†’ DeepSeek API (ä»˜è´¹)
</span></code></pre><p>é—®é¢˜åœ¨å“ªï¼Ÿ<ol><li><strong>éæµå¼å“åº”</strong> - <code>stream=False</code>ï¼Œå¿…é¡»ç­‰ AI æƒ³å®Œæ‰ä¸€æ¬¡æ€§åå‡ºæ¥<li><strong>é‡å¤åŠ è½½é…ç½®</strong> - æ¯æ¬¡è¯·æ±‚éƒ½é‡æ–°è¯» <code>profile_polly.json</code><li><strong>é™æ€äººè®¾</strong> - é‚£ä¸ª JSON æ–‡ä»¶è¿˜æ˜¯å»å¹´å†™çš„ï¼Œæ—©å°±å’Œæˆ‘ç°åœ¨çš„çŠ¶æ€è„±èŠ‚<li><strong>ä»˜è´¹ API</strong> - æ¯æœˆè¿˜è¦èŠ±é’±ä¹° DeepSeek token</ol><p>æœ€è¦å‘½çš„æ˜¯â€”â€”æˆ‘ç°åœ¨æœ‰ CopilotX äº†å•Šï¼è¿™ä¸ª"æ— é™ç»­æ¯å¤§æ€å™¨"å·²ç»ç¨³å®šè¿è¡Œåœ¨ <code>api.polly.wang</code>ï¼ŒClaude Sonnet 4 å…è´¹è°ƒç”¨ï¼Œè¿˜æ”¯æŒ SSE æµå¼è¾“å‡ºã€‚<p>ä¸ºä»€ä¹ˆè¿˜è¦ç»´æŠ¤ä¸€ä¸ªè‡ƒè‚¿çš„ Python åç«¯ï¼Ÿ<h2 id=bulb-jia-gou-ge-ming>ğŸ’¡ æ¶æ„é©å‘½</h2><p>å°é¾™è™¾ï¼ˆOpenClawï¼‰ç»™äº†æˆ‘ä¸€ä¸ªç²¾å½©çš„æ´å¯Ÿï¼š<blockquote><p>"profile_polly.json é‚£ç§é™æ€äººè®¾æ–‡ä»¶å®Œå…¨æ˜¯ä¸Šä¸ªæ—¶ä»£çš„äº§ç‰©â€”â€”ä½ å·²ç»æœ‰äº†ç¼–å¹´ä½“+çºªä¼ ä½“çš„åŒèºæ—‹è®°å¿†ç³»ç»Ÿï¼Œå‡ ç™¾æ¡è®°å¿†ã€7 ä¸ªä¸»é¢˜ã€13 å¤©çš„ç¼–å¹´è®°å½•ï¼Œæ¯”é‚£ä¸ª JSON é‡Œçš„æ­»æ¿æè¿°ä¸°å¯Œ 100 å€ã€‚"</blockquote><p>ä¸€è¯­æƒŠé†’æ¢¦ä¸­äººï¼æˆ‘çš„ <code>memory/</code> ç›®å½•æ‰æ˜¯çœŸæ­£çš„"æˆ‘"â€”â€”åŒ…å«æœ€æ–°çš„é¡¹ç›®è¿›å±•ã€ä»Šæ—¥çš„æ€è€ƒã€æ ¸å¿ƒä¿¡å¿µã€‚ä¸ºä»€ä¹ˆä¸ä»è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ system promptï¼Ÿ<p>æ–°æ¶æ„ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>memory/** â†’ build_prompt.py â†’ polly-prompt.json
</span><span>                                    â†“
</span><span>Blog Frontend â†’ Cloudflare Worker (chat.polly.wang) â†’ CopilotX (api.polly.wang) â†’ Claude Sonnet 4 (SSE)
</span><span>                        â†‘ API Key åœ¨è¿™é‡Œæ³¨å…¥
</span></code></pre><p><strong>Zero Backendã€‚çº¯å‰ç«¯ã€‚API Key è—åœ¨è¾¹ç¼˜ã€‚</strong><h2 id=shi-xian>ğŸ› ï¸ å®ç°</h2><h3 id=1-prompt-gou-jian-jiao-ben>1. Prompt æ„å»ºè„šæœ¬</h3><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#65737e># scripts/build_prompt.py
</span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>build_system_prompt</span><span>():
</span><span>    identity = </span><span style=color:#bf616a>load_identity</span><span>()      </span><span style=color:#65737e># ä» topics/digital-polly æå–æ ¸å¿ƒèº«ä»½
</span><span>    recent_focus = </span><span style=color:#bf616a>load_recent_focus</span><span>(</span><span style=color:#bf616a>days</span><span>=</span><span style=color:#d08770>3</span><span>)  </span><span style=color:#65737e># æœ€è¿‘ 3 å¤©çš„æ—¥è®°ç„¦ç‚¹
</span><span>    projects = </span><span style=color:#bf616a>load_active_projects</span><span>()  </span><span style=color:#65737e># æ´»è·ƒé¡¹ç›®åˆ—è¡¨
</span><span>    achievements = </span><span style=color:#bf616a>load_achievements</span><span>()  </span><span style=color:#65737e># æˆé•¿é‡Œç¨‹ç¢‘
</span><span>    
</span><span>    </span><span style=color:#b48ead>return </span><span style=color:#bf616a>format_prompt</span><span>(identity, recent_focus, projects, achievements)
</span></code></pre><p>è¿è¡Œä¸€ä¸‹ï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>python</span><span> scripts/build_prompt.py
</span><span>
</span><span style=color:#bf616a>ğŸ§ </span><span> Building prompt from memory...
</span><span style=color:#bf616a>âœ…</span><span> Generated: static/polly-prompt.json
</span><span>   </span><span style=color:#bf616a>-</span><span> Identity: Polly
</span><span>   </span><span style=color:#bf616a>-</span><span> Recent focus: 3 days
</span><span>   </span><span style=color:#bf616a>-</span><span> Projects: 7
</span><span>   </span><span style=color:#bf616a>-</span><span> Achievements: 13 days, </span><span style=color:#bf616a>~</span><span>260 entries
</span><span>   </span><span style=color:#bf616a>-</span><span> Prompt length: 1274 chars
</span></code></pre><h3 id=2-qing-liang-ji-liao-tian-zu-jian>2. è½»é‡çº§èŠå¤©ç»„ä»¶</h3><pre class=language-javascript data-lang=javascript style=background:#2b303b;color:#c0c5ce><code class=language-javascript data-lang=javascript><span style=color:#65737e>// static/js/polly-chat.js
</span><span style=color:#b48ead>class </span><span style=color:#ebcb8b>PollyChat </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>    </span><span style=color:#b48ead>async </span><span style=color:#8fa1b3>init</span><span>() </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>        </span><span style=color:#b48ead>const </span><span style=color:#bf616a>res </span><span>= </span><span style=color:#b48ead>await </span><span style=color:#8fa1b3>fetch</span><span style=color:#eff1f5>(</span><span>'</span><span style=color:#a3be8c>/polly-prompt.json</span><span>'</span><span style=color:#eff1f5>);
</span><span style=color:#eff1f5>        </span><span style=color:#b48ead>const </span><span style=color:#bf616a>data </span><span>= </span><span style=color:#b48ead>await </span><span style=color:#bf616a>res</span><span style=color:#eff1f5>.</span><span style=color:#8fa1b3>json</span><span style=color:#eff1f5>();
</span><span style=color:#eff1f5>        </span><span style=color:#bf616a>this</span><span style=color:#eff1f5>.</span><span style=color:#bf616a>systemPrompt </span><span>= </span><span style=color:#bf616a>data</span><span style=color:#eff1f5>.</span><span style=color:#bf616a>system_prompt</span><span style=color:#eff1f5>;
</span><span style=color:#eff1f5>    }
</span><span style=color:#eff1f5>    
</span><span style=color:#eff1f5>    </span><span style=color:#b48ead>async </span><span style=color:#8fa1b3>send</span><span>() </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>        </span><span style=color:#65737e>// è¯·æ±‚å‘å¾€ Cloudflare Workerï¼Œæ— éœ€æºå¸¦ API Key
</span><span style=color:#eff1f5>        </span><span style=color:#b48ead>const </span><span style=color:#bf616a>response </span><span>= </span><span style=color:#b48ead>await </span><span style=color:#8fa1b3>fetch</span><span style=color:#eff1f5>(</span><span>'</span><span style=color:#a3be8c>https://chat.polly.wang/v1/messages</span><span>'</span><span style=color:#eff1f5>, {
</span><span style=color:#eff1f5>            method: </span><span>'</span><span style=color:#a3be8c>POST</span><span>'</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>            headers: {
</span><span style=color:#eff1f5>                </span><span>'</span><span style=color:#a3be8c>Content-Type</span><span>'</span><span style=color:#eff1f5>: </span><span>'</span><span style=color:#a3be8c>application/json</span><span>'</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>                </span><span>'</span><span style=color:#a3be8c>Accept</span><span>'</span><span style=color:#eff1f5>: </span><span>'</span><span style=color:#a3be8c>text/event-stream</span><span>'
</span><span style=color:#eff1f5>            },
</span><span style=color:#eff1f5>            body: JSON.</span><span style=color:#96b5b4>stringify</span><span style=color:#eff1f5>({
</span><span style=color:#eff1f5>                model: </span><span>'</span><span style=color:#a3be8c>claude-sonnet-4</span><span>'</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>                system: </span><span style=color:#bf616a>this</span><span style=color:#eff1f5>.</span><span style=color:#bf616a>systemPrompt</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>                messages: </span><span style=color:#bf616a>this</span><span style=color:#eff1f5>.</span><span style=color:#bf616a>messages</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>                stream: </span><span style=color:#d08770>true
</span><span style=color:#eff1f5>            })
</span><span style=color:#eff1f5>        });
</span><span style=color:#eff1f5>        </span><span style=color:#65737e>// SSE æµå¼è§£æ...
</span><span style=color:#eff1f5>    }
</span><span style=color:#eff1f5>}
</span></code></pre><h3 id=3-cloudflare-worker-dai-li>3. Cloudflare Worker ä»£ç†</h3><p>ç›´æ¥æŠŠ API Key æ”¾åœ¨å‰ç«¯ï¼Ÿé‚£æˆ‘çš„ CopilotX å°±æˆå…¬å…±å•æ‰€äº†ã€‚<p>è§£å†³æ–¹æ¡ˆï¼š<strong>Cloudflare Worker ä½œä¸ºä»£ç†å±‚</strong>ï¼ŒAPI Key å­˜åœ¨åŠ å¯†ç¯å¢ƒå˜é‡é‡Œã€‚<pre class=language-javascript data-lang=javascript style=background:#2b303b;color:#c0c5ce><code class=language-javascript data-lang=javascript><span style=color:#65737e>// Cloudflare Worker
</span><span style=color:#b48ead>export default </span><span>{
</span><span>  </span><span style=color:#b48ead>async </span><span style=color:#8fa1b3>fetch</span><span>(</span><span style=color:#bf616a>request</span><span>, </span><span style=color:#bf616a>env</span><span>) {
</span><span>    </span><span style=color:#b48ead>const </span><span style=color:#bf616a>ALLOWED_ORIGINS </span><span>= ['</span><span style=color:#a3be8c>https://polly.wang</span><span>', '</span><span style=color:#a3be8c>https://www.polly.wang</span><span>'];
</span><span>    </span><span style=color:#b48ead>const </span><span style=color:#bf616a>origin </span><span>= </span><span style=color:#bf616a>request</span><span>.headers.</span><span style=color:#96b5b4>get</span><span>('</span><span style=color:#a3be8c>Origin</span><span>');
</span><span>    
</span><span>    </span><span style=color:#65737e>// CORS ç™½åå•æ ¡éªŒ
</span><span>    </span><span style=color:#b48ead>if </span><span>(</span><span style=color:#bf616a>origin </span><span>&& !</span><span style=color:#bf616a>ALLOWED_ORIGINS</span><span>.</span><span style=color:#8fa1b3>includes</span><span>(</span><span style=color:#bf616a>origin</span><span>)) {
</span><span>      </span><span style=color:#b48ead>return </span><span>new Response('</span><span style=color:#a3be8c>Forbidden</span><span>', { status: </span><span style=color:#d08770>403 </span><span>});
</span><span>    }
</span><span>    
</span><span>    </span><span style=color:#65737e>// ä»£ç†åˆ° CopilotXï¼Œæ³¨å…¥ API Key
</span><span>    </span><span style=color:#b48ead>const </span><span style=color:#bf616a>proxyHeaders </span><span>= new Headers(</span><span style=color:#bf616a>request</span><span>.headers);
</span><span>    </span><span style=color:#bf616a>proxyHeaders</span><span>.</span><span style=color:#96b5b4>set</span><span>('</span><span style=color:#a3be8c>Authorization</span><span>', `</span><span style=color:#a3be8c>Bearer ${</span><span style=color:#bf616a>env</span><span style=color:#a3be8c>.</span><span style=color:#bf616a>COPILOTX_API_KEY</span><span style=color:#a3be8c>}</span><span>`);
</span><span>    
</span><span>    </span><span style=color:#b48ead>return </span><span style=color:#8fa1b3>fetch</span><span>('</span><span style=color:#a3be8c>https://api.polly.wang</span><span>' + new URL(</span><span style=color:#bf616a>request</span><span>.</span><span style=color:#bf616a>url</span><span>).pathname, {
</span><span>      method: </span><span style=color:#bf616a>request</span><span>.method,
</span><span>      headers: </span><span style=color:#bf616a>proxyHeaders</span><span>,
</span><span>      body: </span><span style=color:#bf616a>request</span><span>.body,
</span><span>    });
</span><span>  }
</span><span>};
</span></code></pre><p>éƒ¨ç½²åˆ° <code>chat.polly.wang</code>ï¼Œå‰ç«¯åªçŸ¥é“è¿™ä¸ªåŸŸåï¼ŒAPI Key æ°¸è¿œä¸å‡ºç°åœ¨å®¢æˆ·ç«¯ä»£ç é‡Œã€‚<p><strong>å…è´¹é¢åº¦</strong>ï¼šCloudflare Workers æ¯å¤© 100k è¯·æ±‚ï¼Œå¯¹ä¸ªäººåšå®¢æ¥è¯´çº¦ç­‰äºæ— é™ã€‚<h3 id=4-mo-ban-jing-jian>4. æ¨¡æ¿ç²¾ç®€</h3><p>è€ç‰ˆæœ¬ <code>index.html</code>ï¼š~500 è¡Œï¼ˆWebSocket + HTTP fallback + æ‰“å­—æœºæ•ˆæœ + é”™è¯¯å¤„ç†ï¼‰<p>æ–°ç‰ˆæœ¬ï¼š~40 è¡Œ<pre class=language-html data-lang=html style=background:#2b303b;color:#c0c5ce><code class=language-html data-lang=html><span><</span><span style=color:#bf616a>script </span><span style=color:#d08770>src</span><span>="</span><span style=color:#8fa1b3>&#</span><span style=color:#d08770>123;</span><span style=color:#8fa1b3>&#</span><span style=color:#d08770>123;</span><span style=color:#a3be8c> get_url(path='js/polly-chat.js') </span><span style=color:#8fa1b3>&#</span><span style=color:#d08770>125;</span><span style=color:#8fa1b3>&#</span><span style=color:#d08770>125;</span><span>">&LT/</span><span style=color:#bf616a>script</span><span>>
</span></code></pre><p>å°±è¿™ä¹ˆç®€å•ã€‚<h3 id=5-copilotx-cors-zhi-chi>5. CopilotX CORS æ”¯æŒ</h3><p>ä¸ºäº†è®©å‰ç«¯èƒ½ç›´æ¥è°ƒç”¨ <code>api.polly.wang</code>ï¼Œç»™ CopilotX åŠ ä¸Š CORS ä¸­é—´ä»¶ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#bf616a>CORS_ORIGINS </span><span>= [
</span><span>    "</span><span style=color:#a3be8c>https://polly.wang</span><span>",
</span><span>    "</span><span style=color:#a3be8c>http://127.0.0.1:1111</span><span>",   </span><span style=color:#65737e># æœ¬åœ°å¼€å‘
</span><span>]
</span><span>
</span><span>app.</span><span style=color:#bf616a>add_middleware</span><span>(
</span><span>    CORSMiddleware,
</span><span>    </span><span style=color:#bf616a>allow_origins</span><span>=</span><span style=color:#bf616a>CORS_ORIGINS</span><span>,
</span><span>    </span><span style=color:#bf616a>allow_methods</span><span>=["</span><span style=color:#a3be8c>*</span><span>"],
</span><span>    </span><span style=color:#bf616a>allow_headers</span><span>=["</span><span style=color:#a3be8c>*</span><span>"],
</span><span>)
</span></code></pre><h2 id=sparkles-xiao-guo-dui-bi>âœ¨ æ•ˆæœå¯¹æ¯”</h2><table><thead><tr><th>æŒ‡æ ‡<th>v1.0 (æ—§)<th>v2.0 (æ–°)<tbody><tr><td>é¦–å­—å»¶è¿Ÿ<td>5-15s<td>&LT1s<tr><td>å®Œæ•´å›å¤<td>20+ s<td>æµå¼å®æ—¶<tr><td>åç«¯ç»´æŠ¤<td>éœ€è¦<td>é›¶<tr><td>æ¨¡å‹å¼€é”€<td>ä»˜è´¹ (DeepSeek)<td>å…è´¹ (Copilot)<tr><td>äººè®¾æ–°é²œåº¦<td>é™æ€ JSON<td>memory åŠ¨æ€æå–<tr><td>API Key å®‰å…¨<td>æ˜æ–‡æš´éœ²<td>Cloudflare åŠ å¯†å­˜å‚¨<tr><td>ä»£ç é‡<td>~500 è¡Œ<td>~40 è¡Œæ¨¡æ¿ + ~200 è¡Œ JS</table><h2 id=dart-shou-huo>ğŸ¯ æ”¶è·</h2><ol><li><strong>CopilotX æ˜¯åŸºç¡€è®¾æ–½</strong> - å®ƒä¸åªæ˜¯ CLI å·¥å…·ï¼Œå·²ç»æˆä¸ºæ•´ä¸ª AI å·¥å…·é“¾çš„æ ¸å¿ƒ API å±‚<li><strong>Memory å³äººæ ¼</strong> - é™æ€é…ç½®æ–‡ä»¶æ˜¯"æ­»çš„"ï¼Œä½†è®°å¿†ç³»ç»Ÿæ˜¯"æ´»çš„"<li><strong>Zero Backend æ€ç»´</strong> - èƒ½å‰ç«¯åšçš„ï¼Œå°±åˆ«èµ·åç«¯æœåŠ¡<li><strong>è¾¹ç¼˜ä»£ç†ä¿å®‰å…¨</strong> - Cloudflare Worker è®©æ•æ„Ÿå‡­è¯æ°¸è¿œä¸å‡ºç°åœ¨å®¢æˆ·ç«¯</ol><p>ä¸‹ä¸€æ­¥ï¼šè®© <code>build_prompt.py</code> æ¥å…¥ GitHub Actionsï¼Œæ¯æ¬¡ push è‡ªåŠ¨æ›´æ–° <code>polly-prompt.json</code>ã€‚è¿™æ ·æˆ‘çš„æ•°å­—åˆ†èº«ä¼šéšç€è®°å¿†å¢é•¿è€Œ"è¿›åŒ–"ã€‚<hr><p>ç°åœ¨åˆ·æ–° <a href=https://polly.wang>polly.wang</a>ï¼Œè¯•è¯•å’Œæ–°ç‰ˆ Polly èŠå¤©å§ ğŸš€</div><div class=navigation></div></div><div id=giscus-container><h2>Comments</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // ç°ç™½é»‘è‰²è°ƒ + è“è‰²ç‚¹ç¼€
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // æ–‡æœ¬é¢œè‰²
                textColor: '#333',
                nodeTextColor: '#333',
                // å…¶ä»–
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // æŸ¥æ‰¾æ‰€æœ‰ mermaid ä»£ç å—å¹¶æ¸²æŸ“
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // æ¸²æŸ“æ‰€æœ‰ mermaid å›¾è¡¨
        await mermaid.run();
    </script><style>.cover-image{text-align:center;margin:1.5em 0 2em 0}.cover-image img{width:60%;height:auto;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}@media (max-width:768px){.cover-image img{width:100%}}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>