<!doctype html><html><head><title>ä»é›¶æ‰“é€ èµ›åšæœ‹å…‹é£æ ¼çš„AIç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼šPyWebView + Flask å…¨æ ˆå¼€å‘å®æˆ˜</title><meta content="æœ¬æ–‡è¯¦ç»†è®°å½•äº†å¦‚ä½•ä½¿ç”¨ PyWebView + Flask æ¶æ„å¼€å‘ä¸€æ¬¾èµ›åšæœ‹å…‹é£æ ¼çš„ AI ç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼Œæ¶µç›–è·¨å¹³å°æ‰“åŒ…ã€æˆæƒç³»ç»Ÿé›†æˆã€äº‘ç«¯åŒæ­¥ç­‰å®Œæ•´çš„å·¥ç¨‹åŒ–å®è·µã€‚" name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content=#333 name=theme-color><meta content=article property=og:type><meta content=https://polly.wang/cyber-resume-parser-pywebview-flask-fullstack/ property=og:url><meta content="ä»é›¶æ‰“é€ èµ›åšæœ‹å…‹é£æ ¼çš„AIç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼šPyWebView + Flask å…¨æ ˆå¼€å‘å®æˆ˜" property=og:title><meta content="æœ¬æ–‡è¯¦ç»†è®°å½•äº†å¦‚ä½•ä½¿ç”¨ PyWebView + Flask æ¶æ„å¼€å‘ä¸€æ¬¾èµ›åšæœ‹å…‹é£æ ¼çš„ AI ç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼Œæ¶µç›–è·¨å¹³å°æ‰“åŒ…ã€æˆæƒç³»ç»Ÿé›†æˆã€äº‘ç«¯åŒæ­¥ç­‰å®Œæ•´çš„å·¥ç¨‹åŒ–å®è·µã€‚" property=og:description><meta content=https://polly.wang/images/polly.png property=og:image><meta content="Polly Blog" property=og:site_name><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://polly.wang/cyber-resume-parser-pywebview-flask-fullstack/ name=twitter:url><meta content="ä»é›¶æ‰“é€ èµ›åšæœ‹å…‹é£æ ¼çš„AIç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼šPyWebView + Flask å…¨æ ˆå¼€å‘å®æˆ˜" name=twitter:title><meta content="æœ¬æ–‡è¯¦ç»†è®°å½•äº†å¦‚ä½•ä½¿ç”¨ PyWebView + Flask æ¶æ„å¼€å‘ä¸€æ¬¾èµ›åšæœ‹å…‹é£æ ¼çš„ AI ç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼Œæ¶µç›–è·¨å¹³å°æ‰“åŒ…ã€æˆæƒç³»ç»Ÿé›†æˆã€äº‘ç«¯åŒæ­¥ç­‰å®Œæ•´çš„å·¥ç¨‹åŒ–å®è·µã€‚" name=twitter:description><meta content=https://polly.wang/images/polly.png name=twitter:image><meta content=2025-12-14T00:00:00 property=article:published_time><meta content=Polly property=article:author><meta content=PyWebView property=article:tag><meta content=Flask property=article:tag><meta content=PyInstaller property=article:tag><meta content=æ¡Œé¢åº”ç”¨ property=article:tag><meta content=AI property=article:tag><meta content=DeepSeek property=article:tag><meta content=Supabase property=article:tag><meta content=è·¨å¹³å°æ‰“åŒ… property=article:tag><meta content=Python property=article:tag><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://polly.wang/vendor/purecss/pure-min.css rel=stylesheet><link href=https://polly.wang/vendor/purecss/grids-responsive-min.css rel=stylesheet><link href=https://polly.wang/vendor/font-awesome/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-8JD13N7PHS" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-8JD13N7PHS')</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/cfp><i class="fas fa-calendar-alt"></i>CFP</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change Log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>ä»é›¶æ‰“é€ èµ›åšæœ‹å…‹é£æ ¼çš„AIç®€å†è§£ææ¡Œé¢åº”ç”¨ï¼šPyWebView + Flask å…¨æ ˆå¼€å‘å®æˆ˜</h1><div class=content><div style="text-align:center;margin:20px 0"><img alt="Cyber Resume Parser æˆªå›¾" style="max-width:600px;width:100%;border-radius:8px;box-shadow:0 4px 20px rgba(168,85,247,.3)" src=ScreenShot.png></div><h2 id=kai-pian-dang-hr-yu-shang-ai>å¼€ç¯‡ï¼šå½“ HR é‡ä¸Š AI</h2><p>"å›¢é˜Ÿæ¯å¤©è¦å¤„ç†ä¸Šç™¾ä»½ç®€å†ï¼Œæ‰‹åŠ¨å½•å…¥ Excel ä¸ä»…æ…¢ï¼Œè¿˜æ—¶ä¸æ—¶å‡ºé”™â€”â€”å§“åå¡«é”™åˆ—ã€ç”µè¯æ¼äº†ä½ã€å­¦å†å†™ä¸²è¡Œ... æˆ‘æ—¢è¦ç›¯ç€å¥¹ä»¬çš„å·¥ä½œä¸¥æ ¼æŠŠå…³ï¼Œå¿™çš„æ—¶å€™è¿˜å¾—è‡ªå·±ä¸Šæ‰‹å¸®å¿™å½•ï¼ŒçœŸçš„å¿ƒç´¯ã€‚"<p>è¿™æ˜¯æœ‹å‹çš„çœŸå®åæ§½ã€‚ä½œä¸ºä¸€å HR æ€»ç›‘ï¼Œå¥¹ç®¡ç†ç€ä¸€ä¸ªå‡ äººçš„æ‹›è˜å›¢é˜Ÿã€‚æ¯åˆ°æ‹›è˜æ—ºå­£ï¼Œç®€å†åƒé›ªç‰‡ä¸€æ ·é£æ¥ï¼Œå›¢é˜Ÿæˆå‘˜æœºæ¢°æ€§åœ°ä» PDF é‡ŒæŠ ä¿¡æ¯ã€å¾€ Excel é‡Œå¡«æ•°æ®ï¼Œæ•ˆç‡ä½ä¸è¯´ï¼Œé”™è¯¯ç‡è¿˜å±…é«˜ä¸ä¸‹ã€‚å¥¹ä¸€è¾¹è¦æŠ½æŸ¥è´¨é‡ï¼Œä¸€è¾¹è¿˜å¾—äº²è‡ªä¸‹åœºæ•‘ç«ï¼Œæ ¹æœ¬è…¾ä¸å‡ºæ‰‹åšæ›´æœ‰ä»·å€¼çš„äººæ‰ç­›é€‰å·¥ä½œã€‚<p>ä½œä¸ºç¨‹åºå‘˜çš„æˆ‘ï¼Œæœ¬èƒ½ç«‹åˆ»è¢«æ¿€æ´»äº†â€”â€”è¿™ä¸å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å¯ä»¥ç”¨ AI è§£å†³çš„é—®é¢˜å—ï¼Ÿ<p>äºæ˜¯ï¼Œ<strong>Cyber Resume Parser</strong> è¯ç”Ÿäº†ã€‚ä¸€æ¬¾èåˆäº†èµ›åšæœ‹å…‹ç¾å­¦çš„ AI ç®€å†è§£æå·¥å…·ï¼Œèƒ½å¤Ÿä¸€é”®å°† PDF/Word ç®€å†è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„ Excel æ¨¡æ¿ï¼Œå½»åº•å‘Šåˆ«æ‰‹åŠ¨å½•å…¥çš„æ—¶ä»£ã€‚æœ¬æ–‡å°†å®Œæ•´è®°å½•è¿™æ¬¾åº”ç”¨ä»é›¶åˆ°å‘å¸ƒçš„å…¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æˆ‘è¸©è¿‡çš„é‚£äº›å‘ã€‚<h2 id=ji-zhu-jia-gou-xuan-xing-wei-shi-yao-shi-pywebview-flask>æŠ€æœ¯æ¶æ„é€‰å‹ï¼šä¸ºä»€ä¹ˆæ˜¯ PyWebView + Flaskï¼Ÿ</h2><p>åœ¨å¼€å§‹åŠ¨æ‰‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦åšä¸€ä¸ªå…³é”®å†³ç­–ï¼šç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆï¼Ÿ<h3 id=bei-xuan-fang-an-dui-bi>å¤‡é€‰æ–¹æ¡ˆå¯¹æ¯”</h3><table><thead><tr><th>æ–¹æ¡ˆ<th>ä¼˜ç‚¹<th>ç¼ºç‚¹<tbody><tr><td><strong>Electron</strong><td>ç”Ÿæ€æˆç†Ÿã€è·¨å¹³å°<td>åŒ…ä½“ç§¯å¤§ï¼ˆ100MB+ï¼‰ã€å†…å­˜å ç”¨é«˜<tr><td><strong>Tauri</strong><td>è½»é‡ã€Rust æ€§èƒ½<td>éœ€è¦å­¦ä¹  Rustã€ç”Ÿæ€è¾ƒæ–°<tr><td><strong>PyQt/Tkinter</strong><td>çº¯ Pythonã€åŸç”Ÿæ§ä»¶<td>UI å¼€å‘ç¹çã€ç¾è§‚åº¦æœ‰é™<tr><td><strong>PyWebView + Flask</strong><td>Web æŠ€æœ¯åš UIã€Python ç”Ÿæ€<td>ç›¸å¯¹å°ä¼—ã€æ–‡æ¡£è¾ƒå°‘</table><p>æœ€ç»ˆæˆ‘é€‰æ‹©äº† <strong>PyWebView + Flask</strong> çš„ç»„åˆï¼ŒåŸå› å¾ˆç®€å•ï¼š<ol><li><strong>Python ç”Ÿæ€</strong>ï¼šAI è§£æã€PDF å¤„ç†ã€Excel ç”Ÿæˆéƒ½æœ‰æˆç†Ÿçš„åº“<li><strong>Web UI çš„çµæ´»æ€§</strong>ï¼šç”¨ HTML/CSS/JS å¯ä»¥è½»æ¾å®ç°ç‚«é…·çš„èµ›åšæœ‹å…‹ç•Œé¢<li><strong>è½»é‡çº§</strong>ï¼šä¸éœ€è¦æ‰“åŒ…æ•´ä¸ª Chromium<li><strong>å¿«é€Ÿå¼€å‘</strong>ï¼šFlask æä¾›äº†ç†Ÿæ‚‰çš„åç«¯å¼€å‘ä½“éªŒ</ol><h3 id=jia-gou-she-ji>æ¶æ„è®¾è®¡</h3><pre class=language-mermaid data-lang=mermaid style=background:#2b303b;color:#c0c5ce><code class=language-mermaid data-lang=mermaid><span>graph TB
</span><span>    subgraph PyWebView["ğŸ–¥ï¸ PyWebView çª—å£"]
</span><span>        subgraph Frontend["å‰ç«¯å±‚"]
</span><span>            UI["HTML/CSS/JS&LTbr/>èµ›åšæœ‹å…‹é£æ ¼ UI"]
</span><span>        end
</span><span>        
</span><span>        UI &LT-->|HTTP| Backend
</span><span>        
</span><span>        subgraph Backend["Flask åç«¯æœåŠ¡"]
</span><span>            Parser["ğŸ“„ ç®€å†è§£æ&LTbr/>PyMuPDF"]
</span><span>            Excel["ğŸ“Š Excelç”Ÿæˆ&LTbr/>openpyxl"]
</span><span>            License["ğŸ” æˆæƒç®¡ç†&LTbr/>Supabase"]
</span><span>        end
</span><span>    end
</span><span>    
</span><span>    Parser -->|è°ƒç”¨| AI["ğŸ¤– DeepSeek API"]
</span><span>    License -->|éªŒè¯| Cloud["â˜ï¸ Supabase äº‘ç«¯"]
</span><span>    
</span><span>    style PyWebView fill:#f5f5f5,stroke:#999,stroke-width:2px
</span><span>    style Frontend fill:#e8e8e8,stroke:#888
</span><span>    style Backend fill:#e8e8e8,stroke:#888
</span><span>    style AI fill:#fafafa,stroke:#999
</span><span>    style Cloud fill:#fafafa,stroke:#999
</span></code></pre><h2 id=he-xin-mo-kuai-shi-xian>æ ¸å¿ƒæ¨¡å—å®ç°</h2><h3 id=1-jian-li-jie-xi-ai-de-mo-fa>1. ç®€å†è§£æï¼šAI çš„é­”æ³•</h3><p>ç®€å†è§£æçš„æ ¸å¿ƒæ˜¯è°ƒç”¨ DeepSeek å¤§æ¨¡å‹ï¼Œå°†éç»“æ„åŒ–çš„ç®€å†æ–‡æœ¬è½¬æ¢ä¸ºç»“æ„åŒ–çš„ JSON æ•°æ®ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>def </span><span style=color:#8fa1b3>parse_resume_with_llm</span><span>(</span><span style=color:#bf616a>text</span><span>: str) -> dict:
</span><span>    </span><span style=color:#65737e>"""ä½¿ç”¨ LLM è§£æç®€å†æ–‡æœ¬"""
</span><span>    client = </span><span style=color:#bf616a>OpenAI</span><span>(
</span><span>        </span><span style=color:#bf616a>api_key</span><span>=os.</span><span style=color:#bf616a>getenv</span><span>("</span><span style=color:#a3be8c>DEEPSEEK_API_KEY</span><span>"),
</span><span>        </span><span style=color:#bf616a>base_url</span><span>=os.</span><span style=color:#bf616a>getenv</span><span>("</span><span style=color:#a3be8c>DEEPSEEK_BASE_URL</span><span>")
</span><span>    )
</span><span>    
</span><span>    prompt = """</span><span style=color:#a3be8c>è¯·ä»ä»¥ä¸‹ç®€å†ä¸­æå–ä¿¡æ¯ï¼Œè¿”å› JSON æ ¼å¼ï¼š
</span><span style=color:#a3be8c>    {
</span><span style=color:#a3be8c>        "name": "å§“å",
</span><span style=color:#a3be8c>        "phone": "ç”µè¯",
</span><span style=color:#a3be8c>        "education": [{"school": "å­¦æ ¡", "major": "ä¸“ä¸š", "degree": "å­¦å†"}],
</span><span style=color:#a3be8c>        "work_experience": [{"company": "å…¬å¸", "position": "èŒä½"}],
</span><span style=color:#a3be8c>        ...
</span><span style=color:#a3be8c>    }
</span><span style=color:#a3be8c>    </span><span>"""
</span><span>    
</span><span>    response = client.chat.completions.</span><span style=color:#bf616a>create</span><span>(
</span><span>        </span><span style=color:#bf616a>model</span><span>=os.</span><span style=color:#bf616a>getenv</span><span>("</span><span style=color:#a3be8c>AI_MODEL</span><span>", "</span><span style=color:#a3be8c>deepseek-chat</span><span>"),
</span><span>        </span><span style=color:#bf616a>messages</span><span>=[{"</span><span style=color:#a3be8c>role</span><span>": "</span><span style=color:#a3be8c>user</span><span>", "</span><span style=color:#a3be8c>content</span><span>": prompt + text}],
</span><span>        </span><span style=color:#bf616a>response_format</span><span>={"</span><span style=color:#a3be8c>type</span><span>": "</span><span style=color:#a3be8c>json_object</span><span>"}
</span><span>    )
</span><span>    
</span><span>    </span><span style=color:#b48ead>return </span><span>json.</span><span style=color:#bf616a>loads</span><span>(response.choices[</span><span style=color:#d08770>0</span><span>].message.content)
</span></code></pre><p>è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼šä½¿ç”¨ <code>response_format={"type": "json_object"}</code> å¯ä»¥ç¡®ä¿æ¨¡å‹è¿”å›æœ‰æ•ˆçš„ JSONï¼Œé¿å…åç»­è§£æé”™è¯¯ã€‚<h3 id=2-sai-bo-peng-ke-ui-rang-gong-ju-ye-you-ling-hun>2. èµ›åšæœ‹å…‹ UIï¼šè®©å·¥å…·ä¹Ÿæœ‰çµé­‚</h3><p>æ—¢ç„¶æ˜¯ç»™æœ‹å‹åšçš„ï¼Œé‚£å¿…é¡»å¾—æœ‰ç‚¹ä»ªå¼æ„Ÿã€‚æˆ‘é€‰æ‹©äº†èµ›åšæœ‹å…‹é£æ ¼â€”â€”æ·±ç´«è‰²èƒŒæ™¯ã€éœ“è™¹è‰²æ¸å˜ã€ç²’å­åŠ¨ç”»ã€‚<pre class=language-css data-lang=css style=background:#2b303b;color:#c0c5ce><code class=language-css data-lang=css><span style=color:#8fa1b3>:</span><span style=color:#b48ead>root </span><span>{
</span><span>    --bg-primary: </span><span style=color:#96b5b4>#0f0f1a</span><span>;
</span><span>    --accent-purple: </span><span style=color:#96b5b4>#a855f7</span><span>;
</span><span>    --accent-cyan: </span><span style=color:#96b5b4>#06b6d4</span><span>;
</span><span>    --accent-pink: </span><span style=color:#96b5b4>#ec4899</span><span>;
</span><span>}
</span><span>
</span><span style=color:#8fa1b3>.</span><span style=color:#d08770>main-title </span><span>{
</span><span>    background: </span><span style=color:#96b5b4>linear-gradient</span><span>(</span><span style=color:#d08770>90deg</span><span>, var(--accent-purple), </span><span style=color:#96b5b4>var</span><span>(--accent-cyan), </span><span style=color:#96b5b4>var</span><span>(--accent-pink));
</span><span>    background-size: </span><span style=color:#d08770>200% 100%</span><span>;
</span><span>    -webkit-background-clip: text;
</span><span>    -webkit-text-fill-color: transparent;
</span><span>    animation: gradient-shift </span><span style=color:#d08770>4s </span><span>ease infinite;
</span><span>}
</span></code></pre><p>ç²’å­èƒŒæ™¯ç”¨çº¯ CSS å®ç°ï¼Œä¸éœ€è¦é¢å¤–çš„åº“ï¼š<pre class=language-css data-lang=css style=background:#2b303b;color:#c0c5ce><code class=language-css data-lang=css><span style=color:#8fa1b3>.</span><span style=color:#d08770>particle </span><span>{
</span><span>    position: absolute;
</span><span>    width: </span><span style=color:#d08770>4px</span><span>;
</span><span>    height: </span><span style=color:#d08770>4px</span><span>;
</span><span>    border-radius: </span><span style=color:#d08770>50%</span><span>;
</span><span>    opacity: </span><span style=color:#d08770>0.5</span><span>;
</span><span>    animation: float </span><span style=color:#d08770>20s </span><span>infinite linear;
</span><span>}
</span><span>
</span><span style=color:#b48ead>@keyframes </span><span>float {
</span><span>    </span><span style=color:#d08770>0% </span><span>{ transform: </span><span style=color:#96b5b4>translateY</span><span>(</span><span style=color:#d08770>100vh</span><span>) </span><span style=color:#96b5b4>scale</span><span>(</span><span style=color:#d08770>0</span><span>); opacity: </span><span style=color:#d08770>0</span><span>; }
</span><span>    </span><span style=color:#d08770>10% </span><span>{ opacity: </span><span style=color:#d08770>0.5</span><span>; transform: </span><span style=color:#96b5b4>scale</span><span>(</span><span style=color:#d08770>1</span><span>); }
</span><span>    </span><span style=color:#d08770>100% </span><span>{ transform: </span><span style=color:#96b5b4>translateY</span><span>(</span><span style=color:#d08770>-100vh</span><span>) </span><span style=color:#96b5b4>translateX</span><span>(</span><span style=color:#d08770>50px</span><span>) </span><span style=color:#96b5b4>scale</span><span>(</span><span style=color:#d08770>0</span><span>); opacity: </span><span style=color:#d08770>0</span><span>; }
</span><span>}
</span></code></pre><h3 id=3-shou-quan-xi-tong-supabase-yun-duan-yan-zheng>3. æˆæƒç³»ç»Ÿï¼šSupabase äº‘ç«¯éªŒè¯</h3><p>ä¸ºäº†æ§åˆ¶ä½¿ç”¨é…é¢ï¼ˆæ¯•ç«Ÿ API è°ƒç”¨æ˜¯æœ‰æˆæœ¬çš„ï¼‰ï¼Œæˆ‘é›†æˆäº† Supabase ä½œä¸ºæˆæƒåç«¯ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>class </span><span style=color:#ebcb8b>LicenseManager</span><span style=color:#eff1f5>:
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>validate_license</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>license_code</span><span>: str) -> dict:
</span><span>        </span><span style=color:#65737e># æŸ¥è¯¢æˆæƒç 
</span><span>        endpoint = </span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>licenses?code=eq.</span><span>{license_code}</span><span style=color:#a3be8c>&is_active=eq.true</span><span>"
</span><span>        result = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_supabase_request</span><span>("</span><span style=color:#a3be8c>GET</span><span>", endpoint)
</span><span>        
</span><span>        </span><span style=color:#b48ead>if </span><span>not result.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>data</span><span>"):
</span><span>            </span><span style=color:#b48ead>return </span><span>{"</span><span style=color:#a3be8c>valid</span><span>": </span><span style=color:#d08770>False</span><span>, "</span><span style=color:#a3be8c>message</span><span>": "</span><span style=color:#a3be8c>æ— æ•ˆçš„æˆæƒç </span><span>"}
</span><span>        
</span><span>        license_info = result["</span><span style=color:#a3be8c>data</span><span>"][</span><span style=color:#d08770>0</span><span>]
</span><span>        
</span><span>        </span><span style=color:#65737e># æ£€æŸ¥é…é¢
</span><span>        </span><span style=color:#b48ead>if </span><span>not license_info.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>is_unlimited</span><span>"):
</span><span>            used = license_info.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>used_quota</span><span>", </span><span style=color:#d08770>0</span><span>)
</span><span>            total = license_info.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>total_quota</span><span>", </span><span style=color:#d08770>0</span><span>)
</span><span>            </span><span style=color:#b48ead>if </span><span>used >= total:
</span><span>                </span><span style=color:#b48ead>return </span><span>{"</span><span style=color:#a3be8c>valid</span><span>": </span><span style=color:#d08770>False</span><span>, "</span><span style=color:#a3be8c>message</span><span>": </span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>é…é¢å·²ç”¨å®Œ (</span><span>{used}</span><span style=color:#a3be8c>/</span><span>{total}</span><span style=color:#a3be8c>)</span><span>"}
</span><span>        
</span><span>        </span><span style=color:#b48ead>return </span><span>{"</span><span style=color:#a3be8c>valid</span><span>": </span><span style=color:#d08770>True</span><span>, "</span><span style=color:#a3be8c>license_info</span><span>": license_info}
</span></code></pre><p>å½“ç„¶ï¼Œç»™æœ‹å‹çš„æˆæƒç æ˜¯æ— é™é…é¢çš„ VIP å¾…é‡ ğŸ˜<h2 id=kua-ping-tai-da-bao-cai-keng-shi-lu>è·¨å¹³å°æ‰“åŒ…ï¼šè¸©å‘å®å½•</h2><p>è¿™éƒ¨åˆ†æ˜¯æ•´ä¸ªé¡¹ç›®ä¸­æœ€"åˆºæ¿€"çš„ç¯èŠ‚ã€‚PyInstaller æ‰“åŒ…çœ‹èµ·æ¥ç®€å•ï¼Œå®é™…ä¸Šæ¯ä¸ªå¹³å°éƒ½æœ‰è‡ªå·±çš„å‘ã€‚<h3 id=keng-1-macos-duan-kou-chong-tu>å‘ 1ï¼šmacOS ç«¯å£å†²çª</h3><p>é¦–æ¬¡è¿è¡Œæ—¶ï¼ŒFlask é»˜è®¤çš„ 5000 ç«¯å£ç«Ÿç„¶è¢«å ç”¨äº†ã€‚ä¸€æŸ¥æ‰å‘ç°æ˜¯ macOS Monterey çš„ <strong>AirPlay Receiver</strong> å ç”¨äº†è¿™ä¸ªç«¯å£ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#65737e># é»˜è®¤ç«¯å£ï¼ˆ5000 è¢« macOS AirPlay Receiver å ç”¨ï¼‰
</span><span style=color:#bf616a>DEFAULT_PORT </span><span>= </span><span style=color:#d08770>5050
</span></code></pre><h3 id=keng-2-windows-bian-ma-wen-ti>å‘ 2ï¼šWindows ç¼–ç é—®é¢˜</h3><p>Windows æ§åˆ¶å°é»˜è®¤ä½¿ç”¨ cp1252 ç¼–ç ï¼Œè€Œæˆ‘çš„ä»£ç é‡Œæœ‰ä¸­æ–‡å’Œ emoji...<pre style=background:#2b303b;color:#c0c5ce><code><span>UnicodeEncodeError: 'charmap' codec can't encode characters
</span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶å¼ºåˆ¶è®¾ç½® UTF-8 ç¼–ç ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>if </span><span>sys.platform == '</span><span style=color:#a3be8c>win32</span><span>':
</span><span>    </span><span style=color:#b48ead>if </span><span style=color:#96b5b4>hasattr</span><span>(sys.stdout, '</span><span style=color:#a3be8c>reconfigure</span><span>'):
</span><span>        sys.stdout.</span><span style=color:#bf616a>reconfigure</span><span>(</span><span style=color:#bf616a>encoding</span><span>='</span><span style=color:#a3be8c>utf-8</span><span>', </span><span style=color:#bf616a>errors</span><span>='</span><span style=color:#a3be8c>replace</span><span>')
</span><span>    os.environ['</span><span style=color:#a3be8c>PYTHONIOENCODING</span><span>'] = '</span><span style=color:#a3be8c>utf-8</span><span>'
</span></code></pre><h3 id=keng-3-onefile-vs-onedir-de-jue-ze>å‘ 3ï¼š<code>--onefile</code> vs <code>--onedir</code> çš„æŠ‰æ‹©</h3><p>PyInstaller æä¾›ä¸¤ç§æ‰“åŒ…æ¨¡å¼ï¼š<table><thead><tr><th>æ¨¡å¼<th>å¯åŠ¨é€Ÿåº¦<th>æ–‡ä»¶ç»“æ„<th>ç¨³å®šæ€§<tbody><tr><td><code>--onefile</code><td>æ…¢ï¼ˆ10-20ç§’è§£å‹ï¼‰<td>å•ä¸ª exe<td>æ›´ç¨³å®š<tr><td><code>--onedir</code><td>å¿«ï¼ˆ3-5ç§’ï¼‰<td>æ–‡ä»¶å¤¹<td>å¯èƒ½æœ‰è·¯å¾„é—®é¢˜</table><p>æˆ‘åŸæœ¬å€¾å‘äº <code>--onedir</code> ä»¥è·å¾—æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦ï¼Œä½†åœ¨ Windows ä¸Šé‡åˆ°äº† pythonnet åŠ è½½å¤±è´¥çš„é—®é¢˜ã€‚ç»è¿‡åå¤æµ‹è¯•ï¼Œæœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº† <code>--onefile</code> æ¨¡å¼â€”â€”è™½ç„¶é¦–æ¬¡å¯åŠ¨æ…¢ä¸€ç‚¹ï¼Œä½†"ä¸æ»‘"æ— æŠ¥é”™ã€‚<h3 id=keng-4-pywebview-de-gui-hou-duan>å‘ 4ï¼šPyWebView çš„ GUI åç«¯</h3><p>PyWebView åœ¨ Windows ä¸Šå¯ä»¥ä½¿ç”¨å¤šç§æ¸²æŸ“åç«¯ï¼š<ul><li><strong>EdgeChromium</strong>ï¼ˆéœ€è¦ pythonnetï¼‰ï¼šç°ä»£æ¸²æŸ“ï¼Œæ•ˆæœæœ€å¥½<li><strong>MSHTML</strong>ï¼ˆIE å†…æ ¸ï¼‰ï¼šå…¼å®¹æ€§å¼ºï¼Œä½†æ¸²æŸ“æ•ˆæœä¸€èˆ¬<li><strong>CEF</strong>ï¼šéœ€è¦é¢å¤–å®‰è£…</ul><p>æœ€ç»ˆé…ç½®ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>if </span><span>platform.</span><span style=color:#bf616a>system</span><span>() == '</span><span style=color:#a3be8c>Windows</span><span>':
</span><span>    webview.</span><span style=color:#bf616a>start</span><span>(</span><span style=color:#bf616a>gui</span><span>='</span><span style=color:#a3be8c>edgechromium</span><span>')  </span><span style=color:#65737e># ä½¿ç”¨ Edge æ¸²æŸ“
</span><span style=color:#b48ead>else</span><span>:
</span><span>    webview.</span><span style=color:#bf616a>start</span><span>()  </span><span style=color:#65737e># macOS ä½¿ç”¨é»˜è®¤çš„ cocoa
</span></code></pre><h3 id=github-actions-zi-dong-gou-jian>GitHub Actions è‡ªåŠ¨æ„å»º</h3><p>ä¸ºäº†è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹ï¼Œæˆ‘é…ç½®äº† GitHub Actionsï¼š<pre class=language-yaml data-lang=yaml style=background:#2b303b;color:#c0c5ce><code class=language-yaml data-lang=yaml><span style=color:#bf616a>name</span><span>: </span><span style=color:#a3be8c>Build and Release
</span><span>
</span><span style=color:#d08770>on</span><span>:
</span><span>  </span><span style=color:#bf616a>push</span><span>:
</span><span>    </span><span style=color:#bf616a>tags</span><span>:
</span><span>      - '</span><span style=color:#a3be8c>v*</span><span>'
</span><span>
</span><span style=color:#bf616a>jobs</span><span>:
</span><span>  </span><span style=color:#bf616a>build-macos</span><span>:
</span><span>    </span><span style=color:#bf616a>runs-on</span><span>: </span><span style=color:#a3be8c>macos-latest
</span><span>    </span><span style=color:#bf616a>steps</span><span>:
</span><span>    - </span><span style=color:#bf616a>name</span><span>: </span><span style=color:#a3be8c>Build Desktop
</span><span>      </span><span style=color:#bf616a>run</span><span>: </span><span style=color:#b48ead>|
</span><span style=color:#a3be8c>        pyinstaller --name="Cyber Resume Parser" \
</span><span style=color:#a3be8c>          --onefile \
</span><span style=color:#a3be8c>          --windowed \
</span><span style=color:#a3be8c>          --icon=icon.jpg \
</span><span style=color:#a3be8c>          --add-data="static:static" \
</span><span style=color:#a3be8c>          desktop_app.py
</span><span style=color:#a3be8c>
</span><span>  </span><span style=color:#bf616a>build-windows</span><span>:
</span><span>    </span><span style=color:#bf616a>runs-on</span><span>: </span><span style=color:#a3be8c>windows-latest
</span><span>    </span><span style=color:#bf616a>steps</span><span>:
</span><span>    - </span><span style=color:#bf616a>name</span><span>: </span><span style=color:#a3be8c>Install pythonnet
</span><span>      </span><span style=color:#bf616a>run</span><span>: </span><span style=color:#a3be8c>pip install pythonnet clr-loader
</span><span>    
</span><span>    - </span><span style=color:#bf616a>name</span><span>: </span><span style=color:#a3be8c>Build Desktop
</span><span>      </span><span style=color:#bf616a>run</span><span>: </span><span style=color:#b48ead>|
</span><span style=color:#a3be8c>        pyinstaller --name="Cyber Resume Parser" `
</span><span style=color:#a3be8c>          --onefile `
</span><span style=color:#a3be8c>          --windowed `
</span><span style=color:#a3be8c>          --collect-all=pythonnet `
</span><span style=color:#a3be8c>          --collect-all=webview `
</span><span style=color:#a3be8c>          desktop_app.py
</span></code></pre><p>ç°åœ¨åªéœ€è¦æ¨é€ä¸€ä¸ª tagï¼Œå°±èƒ½è‡ªåŠ¨æ„å»º macOS å’Œ Windows åŒå¹³å°çš„å®‰è£…åŒ…ã€‚<h2 id=bing-xing-chu-li-pi-liang-jie-xi-de-xing-neng-you-hua>å¹¶è¡Œå¤„ç†ï¼šæ‰¹é‡è§£æçš„æ€§èƒ½ä¼˜åŒ–</h2><p>å½“æœ‹å‹å‘Šè¯‰æˆ‘å¥¹æœ‰æ—¶å€™éœ€è¦ä¸€æ¬¡æ€§å¤„ç†å‡ åä»½ç®€å†æ—¶ï¼Œæˆ‘æ„è¯†åˆ°ä¸²è¡Œå¤„ç†æ˜¯ä¸å¯æ¥å—çš„ã€‚äºæ˜¯å¼•å…¥äº†å¹¶è¡Œå¤„ç†ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#bf616a>MAX_PARALLEL_WORKERS </span><span>= </span><span style=color:#d08770>3  </span><span style=color:#65737e># é¿å… API é™æµ
</span><span>
</span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>process_all_parallel</span><span>():
</span><span>    </span><span style=color:#b48ead>with </span><span style=color:#bf616a>ThreadPoolExecutor</span><span>(</span><span style=color:#bf616a>max_workers</span><span>=</span><span style=color:#bf616a>MAX_PARALLEL_WORKERS</span><span>) </span><span style=color:#b48ead>as </span><span>executor:
</span><span>        future_to_task = {
</span><span>            executor.</span><span style=color:#bf616a>submit</span><span>(process_single_task, task): task 
</span><span>            </span><span style=color:#b48ead>for </span><span>task </span><span style=color:#b48ead>in </span><span>pending_tasks
</span><span>        }
</span><span>        
</span><span>        </span><span style=color:#b48ead>for </span><span>future </span><span style=color:#b48ead>in </span><span style=color:#bf616a>as_completed</span><span>(future_to_task):
</span><span>            task = future_to_task[future]
</span><span>            </span><span style=color:#b48ead>try</span><span>:
</span><span>                future.</span><span style=color:#bf616a>result</span><span>()
</span><span>                </span><span style=color:#96b5b4>print</span><span>(</span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>[OK] </span><span>{task.filename}</span><span style=color:#a3be8c> done</span><span>")
</span><span>            </span><span style=color:#b48ead>except </span><span>Exception </span><span style=color:#b48ead>as </span><span>e:
</span><span>                </span><span style=color:#96b5b4>print</span><span>(</span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>[ERR] </span><span>{task.filename}</span><span style=color:#a3be8c> failed: </span><span>{e}")
</span></code></pre><p>è¿™é‡Œæœ‰ä¸ªé‡è¦ç»†èŠ‚ï¼š<strong>é…é¢æ‰£å‡å¿…é¡»åœ¨å¹¶è¡Œå¤„ç†ä¹‹å‰æ‰¹é‡å®Œæˆ</strong>ï¼Œå¦åˆ™å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰£å‡ä¼šå¯¼è‡´ Supabase è¿æ¥ç«äº‰é—®é¢˜ã€‚<h2 id=yun-duan-tong-bu-gou-jian-ren-cai-ku>äº‘ç«¯åŒæ­¥ï¼šæ„å»ºäººæ‰åº“</h2><p>æ—¢ç„¶æ¯ä»½ç®€å†éƒ½ä¼šè¢«è§£ææˆç»“æ„åŒ–æ•°æ®ï¼Œä¸ºä»€ä¹ˆä¸é¡ºä¾¿å­˜åˆ°äº‘ç«¯å‘¢ï¼Ÿè¿™æ ·å°±èƒ½é€æ­¥æ„å»ºä¸€ä¸ªå¯æœç´¢çš„äººæ‰åº“ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>def </span><span style=color:#8fa1b3>log_resume_result</span><span>(</span><span style=color:#bf616a>license_code</span><span>, </span><span style=color:#bf616a>filename</span><span>, </span><span style=color:#bf616a>result_json</span><span>, </span><span style=color:#bf616a>status</span><span>):
</span><span>    </span><span style=color:#65737e>"""å¼‚æ­¥ä¸Šä¼ è§£æç»“æœåˆ°äº‘ç«¯"""
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>_upload</span><span>():
</span><span>        log_data = {
</span><span>            "</span><span style=color:#a3be8c>license_code</span><span>": license_code,
</span><span>            "</span><span style=color:#a3be8c>filename</span><span>": filename,
</span><span>            "</span><span style=color:#a3be8c>result_json</span><span>": result_json,  </span><span style=color:#65737e># å®Œæ•´çš„è§£æç»“æœ
</span><span>            "</span><span style=color:#a3be8c>status</span><span>": status,
</span><span>            "</span><span style=color:#a3be8c>app_version</span><span>": </span><span style=color:#bf616a>APP_VERSION</span><span>,
</span><span>            "</span><span style=color:#a3be8c>client_info</span><span>": </span><span style=color:#bf616a>_get_client_info</span><span>()
</span><span>        }
</span><span>        </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_supabase_request</span><span>("</span><span style=color:#a3be8c>POST</span><span>", "</span><span style=color:#a3be8c>usage_logs</span><span>", log_data)
</span><span>    
</span><span>    </span><span style=color:#65737e># åå°çº¿ç¨‹å¼‚æ­¥ä¸Šä¼ ï¼Œä¸é˜»å¡ä¸»æµç¨‹
</span><span>    thread = threading.</span><span style=color:#bf616a>Thread</span><span>(</span><span style=color:#bf616a>target</span><span>=_upload, </span><span style=color:#bf616a>daemon</span><span>=</span><span style=color:#d08770>True</span><span>)
</span><span>    thread.</span><span style=color:#bf616a>start</span><span>()
</span></code></pre><p>ä½¿ç”¨ <code>daemon=True</code> ç¡®ä¿ä¸Šä¼ çº¿ç¨‹ä¸ä¼šé˜»å¡ç¨‹åºé€€å‡ºã€‚<h2 id=zui-zhong-cheng-guo>æœ€ç»ˆæˆæœ</h2><p>ç»è¿‡ä¸¤å¤©çš„å¼€å‘å’Œè°ƒè¯•ï¼ŒCyber Resume Parser v2.0.0 ç»ˆäºå‘å¸ƒäº†ï¼š<ul><li>âœ… æ”¯æŒ PDF/Word ç®€å†æ™ºèƒ½è§£æ<li>âœ… èµ›åšæœ‹å…‹é£æ ¼ç‚«é…· UI<li>âœ… æ‰¹é‡å¤„ç† + å¹¶è¡ŒåŠ é€Ÿ<li>âœ… åœ¨çº¿æˆæƒ + é…é¢ç®¡ç†<li>âœ… äº‘ç«¯åŒæ­¥æ„å»ºäººæ‰åº“<li>âœ… macOS/Windows åŒå¹³å°æ”¯æŒ<li>âœ… GitHub Actions è‡ªåŠ¨å‘å¸ƒ</ul><h2 id=zong-jie-yu-fan-si>æ€»ç»“ä¸åæ€</h2><p>è¿™ä¸ªé¡¹ç›®è®©æˆ‘å¯¹ Python æ¡Œé¢åº”ç”¨å¼€å‘æœ‰äº†æ›´æ·±çš„ç†è§£ï¼š<ol><li><p><strong>PyWebView + Flask æ˜¯ä¸ªå¥½é€‰æ‹©</strong>ï¼šWeb æŠ€æœ¯åš UI çœŸçš„å¾ˆçµæ´»ï¼ŒPython ç”Ÿæ€åšåç«¯çœŸçš„å¾ˆçœå¿ƒ</p><li><p><strong>è·¨å¹³å°æ‰“åŒ…æ˜¯ä¸ªå¤§å‘</strong>ï¼šæ¯ä¸ªå¹³å°éƒ½æœ‰è‡ªå·±çš„"ç‰¹è‰²"é—®é¢˜ï¼Œéœ€è¦è€å¿ƒè°ƒè¯•</p><li><p><strong>ç”¨æˆ·ä½“éªŒç»†èŠ‚å¾ˆé‡è¦</strong>ï¼šä»å¯åŠ¨é€Ÿåº¦åˆ°æˆæƒæç¤ºï¼Œæ¯ä¸ªç»†èŠ‚éƒ½å½±å“ä½¿ç”¨ä½“éªŒ</p><li><p><strong>å…ˆåš MVPï¼Œå†è¿­ä»£ä¼˜åŒ–</strong>ï¼šä¸è¦ä¸€å¼€å§‹å°±è¿½æ±‚å®Œç¾ï¼Œå…ˆè®©æ ¸å¿ƒåŠŸèƒ½è·‘èµ·æ¥</p></ol><p>å¦‚æœä½ ä¹Ÿæœ‰ç±»ä¼¼çš„å·¥å…·ç±»éœ€æ±‚ï¼Œä¸å¦¨è¯•è¯• PyWebView + Flask çš„ç»„åˆã€‚ä»£ç å·²å¼€æºåœ¨ GitHubï¼Œæ¬¢è¿ Star å’Œ PRï¼<hr><p><em>Written in code, meant for you!</em> ğŸ’<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href=https://github.com/Polly2014/Hr_Resume_Translator>https://github.com/Polly2014/Hr_Resume_Translator</a></div><div class=navigation></div></div><div id=giscus-container><h2>Comments</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // ç°ç™½é»‘è‰²è°ƒ + è“è‰²ç‚¹ç¼€
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // æ–‡æœ¬é¢œè‰²
                textColor: '#333',
                nodeTextColor: '#333',
                // å…¶ä»–
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // æŸ¥æ‰¾æ‰€æœ‰ mermaid ä»£ç å—å¹¶æ¸²æŸ“
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // æ¸²æŸ“æ‰€æœ‰ mermaid å›¾è¡¨
        await mermaid.run();
    </script><style>.cover-image{text-align:center;margin:1.5em 0 2em 0}.cover-image img{width:60%;height:auto;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}@media (max-width:768px){.cover-image img{width:100%}}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>