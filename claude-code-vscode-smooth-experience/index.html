<!doctype html><html><head><title>🛠️ 在 VS Code 中打造丝滑的 Claude Code 体验</title><meta content="Claude Code 官方推荐用 iTerm 跑 CLI，但我发现在 VS Code 里用 Copilot 扩展调用更丝滑。本文分享我的配置方案：CLAUDE.md 项目上下文、Skills 专业技能系统、Memory 记忆追踪，以及如何让 Claude Code 和 Copilot 共享同一份指令文件。" name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content=#333 name=theme-color><meta content=article property=og:type><meta content=https://polly.wang/claude-code-vscode-smooth-experience/ property=og:url><meta content="🛠️ 在 VS Code 中打造丝滑的 Claude Code 体验" property=og:title><meta content="Claude Code 官方推荐用 iTerm 跑 CLI，但我发现在 VS Code 里用 Copilot 扩展调用更丝滑。本文分享我的配置方案：CLAUDE.md 项目上下文、Skills 专业技能系统、Memory 记忆追踪，以及如何让 Claude Code 和 Copilot 共享同一份指令文件。" property=og:description><meta content=https://polly.wang/claude-code-vscode-smooth-experience/cover.jpg property=og:image><meta content="Polly Blog" property=og:site_name><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://polly.wang/claude-code-vscode-smooth-experience/ name=twitter:url><meta content="🛠️ 在 VS Code 中打造丝滑的 Claude Code 体验" name=twitter:title><meta content="Claude Code 官方推荐用 iTerm 跑 CLI，但我发现在 VS Code 里用 Copilot 扩展调用更丝滑。本文分享我的配置方案：CLAUDE.md 项目上下文、Skills 专业技能系统、Memory 记忆追踪，以及如何让 Claude Code 和 Copilot 共享同一份指令文件。" name=twitter:description><meta content=https://polly.wang/claude-code-vscode-smooth-experience/cover.jpg name=twitter:image><meta content=2026-01-30T00:00:00 property=article:published_time><meta content=Polly property=article:author><meta content="Claude Code" property=article:tag><meta content="VS Code" property=article:tag><meta content=AI编程 property=article:tag><meta content=开发效率 property=article:tag><meta content="Agent Skills" property=article:tag><meta content=最佳实践 property=article:tag><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-8JD13N7PHS" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8JD13N7PHS';);</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/cfp><i class="fas fa-calendar-alt"></i>CFP</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change Log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>🛠️ 在 VS Code 中打造丝滑的 Claude Code 体验</h1><div class=cover-image><img alt="🛠️ 在 VS Code 中打造丝滑的 Claude Code 体验" loading=lazy src=cover.jpg></div><div class=content><h2 id=cong-yi-ci-bai-mang-huo-shuo-qi>从一次"白忙活"说起</h2><p>今天我花了一整天开发一个语音控制 Copilot 的插件，结果发现 VS Code 早就自带了这功能。<p>但这次踩坑让我意外发现了一个更重要的事情：<strong>Claude Code 在 VS Code 里的体验，其实可以比 CLI 更丝滑</strong>。<hr><h2 id=wei-shi-yao-zai-vs-code-li-yong-claude-code>为什么在 VS Code 里用 Claude Code？</h2><p>Claude Code 官方推荐的方式是在终端里运行 CLI：<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>claude
</span></code></pre><p>这样能用，但有几个痛点：<ul><li>没有语法高亮的代码预览<li>文件编辑需要切换窗口确认<li>上下文管理全靠手动 <code>/add</code></ul><p>而在 VS Code 里，通过 GitHub Copilot 扩展调用 Claude（是的，Copilot 现在支持选择 Claude 模型），你可以获得：<table><thead><tr><th>功能<th>CLI<th>VS Code<tbody><tr><td>代码高亮<td>❌<td>✅<tr><td>文件内编辑预览<td>❌<td>✅<tr><td>自动上下文感知<td>部分<td>✅<tr><td>快捷键触发<td>❌<td>✅<tr><td>与 Copilot 无缝切换<td>❌<td>✅</table><p>更重要的是，通过合理配置，你可以让 Claude <strong>记住</strong>你的项目偏好、编码风格，甚至过去的对话内容。<hr><h2 id=pei-zhi-yi-claude-md-xiang-mu-shang-xia-wen>配置一：CLAUDE.md 项目上下文</h2><p>这是最基础也最重要的配置。在项目根目录创建 <code>CLAUDE.md</code>：<pre class=language-markdown data-lang=markdown style=background:#2b303b;color:#c0c5ce><code class=language-markdown data-lang=markdown><span style=color:#8fa1b3># CLAUDE.md
</span><span>
</span><span style=color:#8fa1b3>## Project Overview
</span><span>这是 Polly 的个人网站，使用 Zola 静态站点生成器...
</span><span>
</span><span style=color:#8fa1b3>## Commands
</span><span>zola serve    # 本地开发
</span><span>zola build    # 构建发布
</span><span>
</span><span style=color:#8fa1b3>## Architecture
</span><span>/content/blog/  - 博客文章
</span><span>/templates/     - Tera 模板
</span><span>/static/        - 静态资源
</span><span>
</span><span style=color:#8fa1b3>## Coding Style
</span><span style=color:#bf616a>- 使用中文注释
</span><span style=color:#bf616a>- 函数命名用 snake_case
</span><span style=color:#bf616a>- 博客文件命名：YYYYMMDD-slug/index.md
</span></code></pre><p>Claude Code 会自动读取这个文件作为项目上下文。每次对话，它都知道：<ul><li>这是什么项目<li>怎么运行和构建<li>代码规范是什么</ul><p><strong>效果</strong>：问"帮我写个博客文章"时，Claude 会自动使用正确的 frontmatter 格式和文件位置。<hr><h2 id=pei-zhi-er-skills-xi-tong>配置二：Skills 系统</h2><p>CLAUDE.md 解决了"项目是什么"，但没解决"任务怎么做"。<p>这就是 Skills 的作用——<strong>让 Claude 学会特定领域的专业知识</strong>。<p>在 <code>.claude/skills/</code> 目录下，每个文件夹是一个 Skill：<pre style=background:#2b303b;color:#c0c5ce><code><span>.claude/skills/
</span><span>├── blog-writer/          # 博客写作专家
</span><span>│   └── SKILL.md
</span><span>├── paper-writer/         # 论文写作专家
</span><span>│   └── SKILL.md
</span><span>├── memory-keeper/        # 记忆管理
</span><span>│   └── SKILL.md
</span><span>└── mcp-builder/          # MCP 服务器开发
</span><span>    └── SKILL.md
</span></code></pre><p>以 <code>blog-writer</code> 为例，SKILL.md 里定义了：<ul><li>触发词："写博文"、"记录项目"<li>写作流程：理解需求 → 生成大纲 → 撰写正文 → 输出文件<li>Frontmatter 规范<li>写作风格指南</ul><p>当你说"帮我写篇博客"，Claude 会自动加载这个 Skill，按照预设流程执行。<p><strong>这就像给 Claude 安装了"职业培训模块"。</strong><hr><h2 id=pei-zhi-san-memory-ji-yi-xi-tong>配置三：Memory 记忆系统</h2><p>Skills 让 Claude 知道"怎么做"，但它还是不"认识"你。<p>每次对话，Claude 都是从零开始。它不知道：<ul><li>你上周在做什么项目<li>你之前做过什么决策<li>你有什么长期目标</ul><p>我的解决方案是建立一个 <strong>双轨记忆系统</strong>：<pre style=background:#2b303b;color:#c0c5ce><code><span>memory/
</span><span>├── daily/              # 编年体：按日期记录
</span><span>│   └── 2026/01/30.md   # 今天的对话记录
</span><span>├── topics/             # 纪传体：按主题追踪
</span><span>│   └── voicepilot/     # VoicePilot 项目的完整历史
</span><span>└── index.md            # 记忆索引
</span></code></pre><p>每次对话结束时，我会说"记录一下"，Claude 会：<ol><li>提取今天的重要内容，追加到 <code>daily/2026/01/30.md</code><li>识别关联主题，更新对应的 topic 文件<li>刷新索引</ol><p>下次对话时，Claude 可以通过这些文件"回忆"过去的上下文。<p><strong>这让 Claude 从"失忆症患者"变成了能持续陪伴的"老朋友"。</strong><hr><h2 id=pei-zhi-si-yu-copilot-gong-xiang-zhi-ling>配置四：与 Copilot 共享指令</h2><p>一个实用的小技巧：让 Claude Code 和 GitHub Copilot 共用同一份指令文件。<p>GitHub Copilot 使用 <code>.github/copilot-instructions.md</code> 作为自定义指令。我们可以创建一个符号链接：<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#96b5b4>cd</span><span> .github
</span><span style=color:#bf616a>ln -sf</span><span> ../CLAUDE.md copilot-instructions.md
</span></code></pre><p>现在：<ul><li>Claude Code 读取 <code>CLAUDE.md</code><li>Copilot 读取 <code>.github/copilot-instructions.md</code>（实际指向 CLAUDE.md）</ul><p><strong>一份文档，两个 AI 助手都能用。</strong><hr><h2 id=wan-zheng-gong-zuo-liu-yan-shi>完整工作流演示</h2><p>假设我要写一篇博文记录今天的 VoicePilot 开发经历：<ol><li><strong>触发 Skill</strong>：在 Chat 里说"写篇博文记录 VoicePilot"<li><strong>Claude 加载 blog-writer Skill</strong>，按流程询问细节<li><strong>生成大纲</strong>，我确认后开始写作<li><strong>输出完整文件</strong>，包含正确的 frontmatter 和文件路径<li><strong>说"记录一下"</strong>，Claude 把今天的经历存入 Memory<li><strong>下次对话</strong>，Claude 知道我在做什么项目</ol><p>整个过程，<strong>Claude 就像一个了解我的私人助理</strong>，而不是每次都需要从头介绍的陌生人。<hr><h2 id=claude-code-vs-copilot-wo-de-xuan-ze>Claude Code vs Copilot：我的选择</h2><p>两者我都在用，但场景不同：<table><thead><tr><th>场景<th>选择<th>原因<tbody><tr><td>快速代码补全<td>Copilot<td>Tab 补全更快<tr><td>复杂任务/多步骤<td>Claude<td>推理能力更强<tr><td>写文档/博客<td>Claude<td>自然语言更优<tr><td>代码解释<td>都行<td>各有千秋<tr><td>项目级重构<td>Claude<td>上下文理解更好</table><p><strong>最佳实践</strong>：用 Copilot 做 inline 补全，用 Claude 做 Chat 对话。<hr><h2 id=zong-jie-rang-ai-cheng-wei-lao-peng-you>总结：让 AI 成为"老朋友"</h2><p>传统的 AI 编程助手是"工具"——你问，它答，然后遗忘一切。<p>通过 CLAUDE.md、Skills、Memory 这套配置，Claude 变成了"老朋友"：<ul><li><strong>知道你的项目</strong>（CLAUDE.md）<li><strong>掌握专业技能</strong>（Skills）<li><strong>记住过去的对话</strong>（Memory）<li><strong>风格保持一致</strong>（共享指令）</ul><p>这不需要复杂的配置，只需要几个 Markdown 文件。<p>如果你也在用 Claude Code，不妨试试这套方案。相信我，体验会完全不同。<hr><h2 id=xiang-guan-zi-yuan>相关资源</h2><ul><li><a href=https://docs.anthropic.com/en/docs/claude-code>Claude Code 官方文档</a><li><a href=https://code.visualstudio.com/docs/copilot/customization/custom-instructions>VS Code Copilot 自定义指令</a><li><a href=https://github.com/Polly2014/www.polly.com/blob/main/CLAUDE.md>我的 CLAUDE.md 模板</a></ul><hr><p><em>下次 AI 忘记你是谁的时候，记得给它建个 Memory 系统。</em> 😄</div><div class=navigation></div></div><div id=giscus-container><h2>Comments</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // 灰白黑色调 + 蓝色点缀
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // 文本颜色
                textColor: '#333',
                nodeTextColor: '#333',
                // 其他
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // 查找所有 mermaid 代码块并渲染
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // 渲染所有 mermaid 图表
        await mermaid.run();
    </script><style>.cover-image{text-align:center;margin:1.5em 0 2em 0}.cover-image img{width:60%;height:auto;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}@media (max-width:768px){.cover-image img{width:100%}}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>