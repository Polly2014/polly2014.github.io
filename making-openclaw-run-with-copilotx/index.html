<!doctype html><html><head><title>ğŸ¦ è®©å°é¾™è™¾è·‘èµ·æ¥ï¼šç”¨ CopilotX é©±åŠ¨ OpenClaw çš„è°ƒè¯•ä¹‹æ—…</title><meta content="å½“ GitHub Copilot é‡ä¸Š OpenClawï¼Œä¸€åœºæŒç»­æ•°å°æ—¶çš„è°ƒè¯•ä¹‹æ—…ã€‚ä» 404 Not Found åˆ°æˆåŠŸå¯¹è¯ï¼Œå†åˆ°æ¥å…¥ Telegramâ€”â€”è®°å½•ç”¨ CopilotX ä½œä¸ºæ— é™ Claude API é©±åŠ¨ä¸ªäºº AI åŠ©æ‰‹çš„å®Œæ•´é…ç½®è¿‡ç¨‹ã€‚" name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content=#333 name=theme-color><meta content=article property=og:type><meta content=https://polly.wang/making-openclaw-run-with-copilotx/ property=og:url><meta content="ğŸ¦ è®©å°é¾™è™¾è·‘èµ·æ¥ï¼šç”¨ CopilotX é©±åŠ¨ OpenClaw çš„è°ƒè¯•ä¹‹æ—…" property=og:title><meta content="å½“ GitHub Copilot é‡ä¸Š OpenClawï¼Œä¸€åœºæŒç»­æ•°å°æ—¶çš„è°ƒè¯•ä¹‹æ—…ã€‚ä» 404 Not Found åˆ°æˆåŠŸå¯¹è¯ï¼Œå†åˆ°æ¥å…¥ Telegramâ€”â€”è®°å½•ç”¨ CopilotX ä½œä¸ºæ— é™ Claude API é©±åŠ¨ä¸ªäºº AI åŠ©æ‰‹çš„å®Œæ•´é…ç½®è¿‡ç¨‹ã€‚" property=og:description><meta content=https://polly.wang/making-openclaw-run-with-copilotx/cover.jpg property=og:image><meta content="Polly Blog" property=og:site_name><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://polly.wang/making-openclaw-run-with-copilotx/ name=twitter:url><meta content="ğŸ¦ è®©å°é¾™è™¾è·‘èµ·æ¥ï¼šç”¨ CopilotX é©±åŠ¨ OpenClaw çš„è°ƒè¯•ä¹‹æ—…" name=twitter:title><meta content="å½“ GitHub Copilot é‡ä¸Š OpenClawï¼Œä¸€åœºæŒç»­æ•°å°æ—¶çš„è°ƒè¯•ä¹‹æ—…ã€‚ä» 404 Not Found åˆ°æˆåŠŸå¯¹è¯ï¼Œå†åˆ°æ¥å…¥ Telegramâ€”â€”è®°å½•ç”¨ CopilotX ä½œä¸ºæ— é™ Claude API é©±åŠ¨ä¸ªäºº AI åŠ©æ‰‹çš„å®Œæ•´é…ç½®è¿‡ç¨‹ã€‚" name=twitter:description><meta content=https://polly.wang/making-openclaw-run-with-copilotx/cover.jpg name=twitter:image><meta content=2026-02-11T00:00:00 property=article:published_time><meta content=Polly property=article:author><meta content=OpenClaw property=article:tag><meta content=CopilotX property=article:tag><meta content="Claude API" property=article:tag><meta content="AI Agent" property=article:tag><meta content=è°ƒè¯• property=article:tag><meta content=å¼€æºé¡¹ç›® property=article:tag><meta content=Telegram property=article:tag><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://polly.wang/vendor/purecss/pure-min.css rel=stylesheet><link href=https://polly.wang/vendor/purecss/grids-responsive-min.css rel=stylesheet><link href=https://polly.wang/vendor/font-awesome/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-1N289C8N8W" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-1N289C8N8W')</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/cfp><i class="fas fa-calendar-alt"></i>CFP</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change Log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a onclick="gtag('event','social_click',{platform:'email'});" href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a onclick="gtag('event','social_click',{platform:'twitter'});" href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a onclick="gtag('event','social_click',{platform:'linkedin'});" href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a onclick="gtag('event','social_click',{platform:'github'});" href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>ğŸ¦ è®©å°é¾™è™¾è·‘èµ·æ¥ï¼šç”¨ CopilotX é©±åŠ¨ OpenClaw çš„è°ƒè¯•ä¹‹æ—…</h1><div class=cover-image><img alt="ğŸ¦ è®©å°é¾™è™¾è·‘èµ·æ¥ï¼šç”¨ CopilotX é©±åŠ¨ OpenClaw çš„è°ƒè¯•ä¹‹æ—…" loading=lazy src=cover.jpg></div><div class=content><p>æ™šä¸Š 10 ç‚¹ï¼Œå½“ WebChat çª—å£é‡Œç»ˆäºæ˜¾ç¤ºå‡º AI çš„å›å¤æ—¶ï¼Œæˆ‘å¿ä¸ä½å–Šå‡ºäº†"ç»ˆç»ˆç»ˆäºè·‘é€šå•¦ï¼" è¿™ä¸€åˆ»ï¼ŒæŒç»­æ•°å°æ—¶çš„è°ƒè¯•ä¹‹æ—…ç»ˆäºç”»ä¸Šäº†åœ†æ»¡çš„å¥å·ã€‚</p><span id=continue-reading></span><h2 id=clapper-bei-jing>ğŸ¬ èƒŒæ™¯</h2><p><a href=https://github.com/openclaw/openclaw>OpenClaw</a> æ˜¯ä¸€ä¸ªå¼€æºçš„ä¸ªäºº AI åŠ©æ‰‹æ¡†æ¶â€”â€”æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªèƒ½åŒæ—¶è¿æ¥ WhatsAppã€Telegramã€Discordã€Slackã€Signalã€iMessageã€å¾®ä¿¡ã€Teams çš„ AI ç®¡å®¶ï¼Œé€šè¿‡ç»Ÿä¸€çš„ Gateway æ§åˆ¶å¹³é¢ï¼Œè®©ä½ åœ¨ä»»ä½•æ¶ˆæ¯æ¸ é“éƒ½èƒ½ä¸ AI å¯¹è¯ã€‚<p>å®ƒçš„åå­—å¾ˆæœ‰æ„æ€ï¼Œå«"å°é¾™è™¾"ï¼ˆClaw = çˆªå­/é’³å­ï¼‰ã€‚ğŸ¦<p>é—®é¢˜æ˜¯ï¼šOpenClaw éœ€è¦ LLM æ¥é©±åŠ¨å¯¹è¯ï¼Œå®˜æ–¹é»˜è®¤æ”¯æŒ Anthropic å’Œ OpenAIã€‚ä½†è¿™äº› API éƒ½è¦é’±â€”â€”è€Œæˆ‘æ‰‹å¤´æœ‰ä¸€ä¸ª"æ— é™ Claude API"çš„ç¥å™¨ï¼š<strong>CopilotX</strong>ã€‚<p>CopilotX æ˜¯æˆ‘ä¹‹å‰æ„å»ºçš„ä¸€ä¸ªé¡¹ç›®ï¼Œå®ƒé€šè¿‡ GitHub Copilot çš„å†…éƒ¨ API æä¾› Anthropic å…¼å®¹çš„ <code>/v1/messages</code> ç«¯ç‚¹ï¼Œéƒ¨ç½²åœ¨ <code>https://api.polly.wang</code>ã€‚ç†è®ºä¸Šï¼Œåªè¦é…ç½®æ­£ç¡®ï¼Œå°±èƒ½è®© OpenClaw ç™½å«–æ— é™çš„ Claudeã€‚<p>è¯´å¹²å°±å¹²ã€‚<h2 id=wrench-di-yi-ge-keng-gateway-token>ğŸ”§ ç¬¬ä¸€ä¸ªå‘ï¼šGateway Token</h2><p>å®‰è£… OpenClaw å¾ˆé¡ºåˆ©ï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#96b5b4>cd</span><span> X-Workspace/openclaw
</span><span style=color:#bf616a>pnpm</span><span> install
</span><span style=color:#bf616a>pnpm</span><span> openclaw gateway
</span></code></pre><p>Gateway å¯åŠ¨äº†ï¼ŒWebChat ä¹Ÿåœ¨ <code>http://127.0.0.1:18789/__openclaw__/chat/</code> æ‰“å¼€äº†ã€‚ä½†è¾“å…¥æ¶ˆæ¯åï¼Œç•Œé¢æç¤ºï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>unauthorized: gateway token missing
</span></code></pre><p>ç¿»äº†ä¸€ä¸‹é…ç½®æ–‡æ¡£ï¼Œå‘ç° WebChat éœ€è¦è®¤è¯ã€‚åœ¨ <code>~/.openclaw/openclaw.json</code> æ·»åŠ ï¼š<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>gateway</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>mode</span><span>": "</span><span style=color:#a3be8c>local</span><span>",
</span><span>    "</span><span style=color:#a3be8c>auth</span><span>": { "</span><span style=color:#a3be8c>token</span><span>": "</span><span style=color:#a3be8c>polly-openclaw-local-dev</span><span>" },
</span><span>    "</span><span style=color:#a3be8c>controlUi</span><span>": { "</span><span style=color:#a3be8c>allowInsecureAuth</span><span>": </span><span style=color:#d08770>true </span><span>}
</span><span>  }
</span><span>}
</span></code></pre><p>é‡å¯åï¼Œåœ¨ WebChat è¾“å…¥ tokenï¼Œè®¤è¯é€šè¿‡ã€‚âœ…<h2 id=globe-with-meridians-di-er-ge-keng-pei-zhi-zi-ding-yi-provider>ğŸŒ ç¬¬äºŒä¸ªå‘ï¼šé…ç½®è‡ªå®šä¹‰ Provider</h2><p>ç°åœ¨è¦è®© OpenClaw ä½¿ç”¨ CopilotX è€Œä¸æ˜¯ Anthropicã€‚æˆ‘æœ€åˆçš„æ€è·¯æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#b48ead>export </span><span style=color:#bf616a>ANTHROPIC_BASE_URL</span><span>=</span><span style=color:#a3be8c>https://api.polly.wang/v1
</span><span style=color:#b48ead>export </span><span style=color:#bf616a>ANTHROPIC_API_KEY</span><span>=</span><span style=color:#a3be8c>polly-copilotx-xxx
</span></code></pre><p>ç„¶è€Œï¼Œå®Œå…¨ä¸ç”Ÿæ•ˆã€‚æ—¥å¿—æ˜¾ç¤ºè¯·æ±‚ä¾ç„¶å‘å¾€ <code>https://api.anthropic.com</code>ã€‚<p>æ·±å…¥ç ”ç©¶ä»£ç åå‘ç°ï¼ŒOpenClaw ä½¿ç”¨çš„ <code>@mariozechner/pi-ai</code> SDK ä¸ä»ç¯å¢ƒå˜é‡è¯»å– <code>baseUrl</code>â€”â€”å®ƒä»é…ç½®æ–‡ä»¶çš„ <code>model.baseUrl</code> å­—æ®µè¯»å–ã€‚<p>æ­£ç¡®çš„é…ç½®æ–¹å¼æ˜¯åˆ›å»ºè‡ªå®šä¹‰ Providerï¼š<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>models</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>mode</span><span>": "</span><span style=color:#a3be8c>merge</span><span>",
</span><span>    "</span><span style=color:#a3be8c>providers</span><span>": {
</span><span>      "</span><span style=color:#a3be8c>copilotx</span><span>": {
</span><span>        "</span><span style=color:#a3be8c>baseUrl</span><span>": "</span><span style=color:#a3be8c>https://api.polly.wang/v1</span><span>",
</span><span>        "</span><span style=color:#a3be8c>api</span><span>": "</span><span style=color:#a3be8c>anthropic-messages</span><span>",
</span><span>        "</span><span style=color:#a3be8c>apiKey</span><span>": "</span><span style=color:#a3be8c>polly-copilotx-xxx</span><span>",
</span><span>        "</span><span style=color:#a3be8c>models</span><span>": [
</span><span>          {
</span><span>            "</span><span style=color:#a3be8c>id</span><span>": "</span><span style=color:#a3be8c>claude-opus-4-6</span><span>",
</span><span>            "</span><span style=color:#a3be8c>name</span><span>": "</span><span style=color:#a3be8c>Claude Opus 4.6 (CopilotX)</span><span>",
</span><span>            "</span><span style=color:#a3be8c>contextWindow</span><span>": </span><span style=color:#d08770>200000</span><span>,
</span><span>            "</span><span style=color:#a3be8c>maxTokens</span><span>": </span><span style=color:#d08770>32000</span><span>,
</span><span>            "</span><span style=color:#a3be8c>input</span><span>": ["</span><span style=color:#a3be8c>text</span><span>", "</span><span style=color:#a3be8c>image</span><span>"],
</span><span>            "</span><span style=color:#a3be8c>reasoning</span><span>": </span><span style=color:#d08770>true
</span><span>          }
</span><span>        ]
</span><span>      }
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre><p>æ³¨æ„è¿™é‡Œæœ‰ä¸ªå…³é”®ç»†èŠ‚ï¼š<strong>å¿…é¡»åŒ…å« <code>models</code> æ•°ç»„</strong>ï¼æˆ‘ç¬¬ä¸€æ¬¡æ¼æ‰äº†ï¼Œå¯¼è‡´é…ç½®æ ¡éªŒå¤±è´¥ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>models.providers.copilotx.models: Invalid input: expected array, received undefined
</span></code></pre><h2 id=dart-di-san-ge-keng-mo-ren-mo-xing-wei-she-zhi>ğŸ¯ ç¬¬ä¸‰ä¸ªå‘ï¼šé»˜è®¤æ¨¡å‹æœªè®¾ç½®</h2><p>é…ç½®å¥½ Provider åï¼Œå‘é€æ¶ˆæ¯è¿˜æ˜¯å¤±è´¥ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>No API key found for provider "anthropic"
</span></code></pre><p>æ—¥å¿—æ˜¾ç¤ºï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>agent model: anthropic/claude-opus-4-6
</span></code></pre><p>è™½ç„¶æˆ‘é…ç½®äº† <code>copilotx</code> Providerï¼Œä½†é»˜è®¤æ¨¡å‹è¿˜æ˜¯ <code>anthropic</code>ï¼éœ€è¦æ˜¾å¼è®¾ç½®ï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pnpm</span><span> openclaw models set copilotx/claude-opus-4-6
</span></code></pre><p>ç°åœ¨æ—¥å¿—å˜æˆäº†ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>agent model: copilotx/claude-opus-4-6
</span></code></pre><p>è¿›æ­¥äº†ï¼ä½†å‘æ¶ˆæ¯ä¾ç„¶æ²¡æœ‰å›å¤ï¼Œæ—¥å¿—ä¹Ÿæ²¡æœ‰é”™è¯¯ã€‚<h2 id=mag-di-si-ge-keng-404-not-found>ğŸ” ç¬¬å››ä¸ªå‘ï¼š404 Not Found</h2><p>æœ€æŠ˜ç£¨äººçš„ä¸€ä¸ªå‘ã€‚è¡¨é¢ä¸Šä¸€åˆ‡æ­£å¸¸â€”â€”è¯·æ±‚å‘é€äº†ï¼Œ1.5ç§’åå®Œæˆï¼Œæ²¡æœ‰æŠ¥é”™ã€‚ä½† WebChat å°±æ˜¯ä¸æ˜¾ç¤º AI å›å¤ã€‚<p>æˆ‘å»ç¿» session æ–‡ä»¶ <code>~/.openclaw/agents/main/sessions/*.jsonl</code>ï¼Œç»ˆäºæ‰¾åˆ°äº†çœŸç›¸ï¼š<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>role</span><span>": "</span><span style=color:#a3be8c>assistant</span><span>",
</span><span>  "</span><span style=color:#a3be8c>content</span><span>": [],
</span><span>  "</span><span style=color:#a3be8c>stopReason</span><span>": "</span><span style=color:#a3be8c>error</span><span>",
</span><span>  "</span><span style=color:#a3be8c>errorMessage</span><span>": "</span><span style=color:#a3be8c>404 {</span><span style=color:#96b5b4>\"</span><span style=color:#a3be8c>detail</span><span style=color:#96b5b4>\"</span><span style=color:#a3be8c>:</span><span style=color:#96b5b4>\"</span><span style=color:#a3be8c>Not Found</span><span style=color:#96b5b4>\"</span><span style=color:#a3be8c>}</span><span>"
</span><span>}
</span></code></pre><p><strong>404ï¼</strong> è¯·æ±‚ URL æœ‰é—®é¢˜ã€‚<p>çµå…‰ä¸€é—ªï¼Œæˆ‘æµ‹è¯•äº†ä¸¤ä¸ª URLï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># è¿™ä¸ªæœ‰æ•ˆï¼ˆ200ï¼‰
</span><span style=color:#bf616a>curl</span><span> https://api.polly.wang/v1/messages
</span><span>
</span><span style=color:#65737e># è¿™ä¸ª 404
</span><span style=color:#bf616a>curl</span><span> https://api.polly.wang/v1/v1/messages
</span></code></pre><p>é—®é¢˜æ‰¾åˆ°äº†ï¼<strong>Anthropic SDK ä¼šè‡ªåŠ¨è¿½åŠ  <code>/v1</code></strong>ï¼Œè€Œæˆ‘çš„ <code>baseUrl</code> å·²ç»å¸¦äº† <code>/v1</code>ï¼Œå¯¼è‡´æœ€ç»ˆå˜æˆ <code>/v1/v1/messages</code>ã€‚<p>ä¿®å¤å¾ˆç®€å•â€”â€”æŠŠ <code>baseUrl</code> ä» <code>https://api.polly.wang/v1</code> æ”¹æˆ <code>https://api.polly.wang</code>ï¼š<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>baseUrl</span><span>": "</span><span style=color:#a3be8c>https://api.polly.wang</span><span>"
</span><span>}
</span></code></pre><p>åŒæ—¶æ›´æ–° agent çš„ <code>models.json</code>ï¼š<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>cat ~</span><span>/.openclaw/agents/main/agent/models.json | \
</span><span>  </span><span style=color:#bf616a>jq </span><span>'</span><span style=color:#a3be8c>.providers.copilotx.baseUrl = "https://api.polly.wang"</span><span>' > /tmp/tmp.json && \
</span><span>  </span><span style=color:#bf616a>mv</span><span> /tmp/tmp.json </span><span style=color:#bf616a>~</span><span>/.openclaw/agents/main/agent/models.json
</span></code></pre><p>é‡å¯ Gatewayâ€”â€”<p><strong>ç»ˆäºè·‘é€šäº†ï¼</strong> ğŸ‰<p><img alt="OpenClaw WebChat æˆåŠŸè¿è¡Œ" src=https://polly.wang/making-openclaw-run-with-copilotx/ScreenShot.png><h2 id=bar-chart-zui-zhong-pei-zhi-qing-dan>ğŸ“Š æœ€ç»ˆé…ç½®æ¸…å•</h2><p>ç»è¿‡è¿™æ¬¡è°ƒè¯•ï¼Œå®Œæ•´çš„é…ç½®å¦‚ä¸‹ï¼š<h3 id=openclaw-openclaw-json>~/.openclaw/openclaw.json</h3><pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>models</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>mode</span><span>": "</span><span style=color:#a3be8c>merge</span><span>",
</span><span>    "</span><span style=color:#a3be8c>providers</span><span>": {
</span><span>      "</span><span style=color:#a3be8c>copilotx</span><span>": {
</span><span>        "</span><span style=color:#a3be8c>baseUrl</span><span>": "</span><span style=color:#a3be8c>https://api.polly.wang</span><span>",
</span><span>        "</span><span style=color:#a3be8c>api</span><span>": "</span><span style=color:#a3be8c>anthropic-messages</span><span>",
</span><span>        "</span><span style=color:#a3be8c>apiKey</span><span>": "</span><span style=color:#a3be8c>your-api-key</span><span>",
</span><span>        "</span><span style=color:#a3be8c>models</span><span>": [
</span><span>          {
</span><span>            "</span><span style=color:#a3be8c>id</span><span>": "</span><span style=color:#a3be8c>claude-opus-4-6</span><span>",
</span><span>            "</span><span style=color:#a3be8c>name</span><span>": "</span><span style=color:#a3be8c>Claude Opus 4.6 (CopilotX)</span><span>",
</span><span>            "</span><span style=color:#a3be8c>contextWindow</span><span>": </span><span style=color:#d08770>200000</span><span>,
</span><span>            "</span><span style=color:#a3be8c>maxTokens</span><span>": </span><span style=color:#d08770>32000</span><span>,
</span><span>            "</span><span style=color:#a3be8c>input</span><span>": ["</span><span style=color:#a3be8c>text</span><span>", "</span><span style=color:#a3be8c>image</span><span>"],
</span><span>            "</span><span style=color:#a3be8c>reasoning</span><span>": </span><span style=color:#d08770>true
</span><span>          }
</span><span>        ]
</span><span>      }
</span><span>    }
</span><span>  },
</span><span>  "</span><span style=color:#a3be8c>gateway</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>mode</span><span>": "</span><span style=color:#a3be8c>local</span><span>",
</span><span>    "</span><span style=color:#a3be8c>auth</span><span>": { "</span><span style=color:#a3be8c>token</span><span>": "</span><span style=color:#a3be8c>your-token</span><span>" },
</span><span>    "</span><span style=color:#a3be8c>controlUi</span><span>": { "</span><span style=color:#a3be8c>allowInsecureAuth</span><span>": </span><span style=color:#d08770>true </span><span>}
</span><span>  }
</span><span>}
</span></code></pre><h3 id=she-zhi-mo-ren-mo-xing>è®¾ç½®é»˜è®¤æ¨¡å‹</h3><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pnpm</span><span> openclaw models set copilotx/claude-opus-4-6
</span></code></pre><h3 id=qi-dong>å¯åŠ¨</h3><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pnpm</span><span> openclaw gateway
</span><span style=color:#65737e># è®¿é—® http://127.0.0.1:18789/__openclaw__/chat/
</span></code></pre><h2 id=bulb-cai-keng-su-cha-biao>ğŸ’¡ è¸©å‘é€ŸæŸ¥è¡¨</h2><table><thead><tr><th>é—®é¢˜<th>åŸå› <th>è§£å†³æ–¹æ¡ˆ<tbody><tr><td><code>gateway token missing</code><td>WebChat éœ€è¦è®¤è¯<td>é…ç½® <code>gateway.auth.token</code><tr><td><code>ANTHROPIC_BASE_URL</code> ä¸ç”Ÿæ•ˆ<td>SDK ä» config è¯»å–ï¼Œä¸ä» env<td>ä½¿ç”¨ <code>models.providers</code> é…ç½®<tr><td><code>models: expected array</code><td>Provider é…ç½®ç¼ºå°‘ models æ•°ç»„<td>å¿…é¡»åŒ…å«å®Œæ•´çš„ models å®šä¹‰<tr><td><code>No API key for anthropic</code><td>é»˜è®¤æ¨¡å‹æœªæ›´æ”¹<td>è¿è¡Œ <code>openclaw models set</code><tr><td><code>404 Not Found</code><td>baseUrl å¤šäº† <code>/v1</code><td>ä½¿ç”¨ä¸å¸¦ <code>/v1</code> çš„ baseUrl</table><h2 id=thinking-fan-si>ğŸ¤” åæ€</h2><p>è¿™æ¬¡è°ƒè¯•è®©æˆ‘ä½“ä¼šåˆ°å‡ ç‚¹ï¼š<ol><li><p><strong>æ—¥å¿—æ˜¯é‡‘çŸ¿</strong>ï¼šOpenClaw çš„ trace çº§åˆ«æ—¥å¿—éå¸¸è¯¦ç»†ï¼Œ<code>/tmp/openclaw/*.log</code> é‡Œè—ç€æ‰€æœ‰çœŸç›¸</p><li><p><strong>Session æ–‡ä»¶ä¼šè¯´è¯</strong>ï¼šAPI è¿”å›çš„é”™è¯¯ä¿¡æ¯è¢«ä¿å­˜åœ¨ <code>.jsonl</code> æ–‡ä»¶é‡Œï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºåœ¨ç•Œé¢ä¸Š</p><li><p><strong>SDK ä¼šè‡ªåŠ¨è¿½åŠ è·¯å¾„</strong>ï¼šè¿™æ˜¯ä¸ªå¸¸è§çš„å‘ï¼ŒAnthropic SDKã€OpenAI SDK éƒ½ä¼šåšç±»ä¼¼çš„äº‹æƒ…</p><li><p><strong>ä¸¤å±‚é…ç½®</strong>ï¼šOpenClaw æœ‰å…¨å±€é…ç½®ï¼ˆ<code>~/.openclaw/openclaw.json</code>ï¼‰å’Œ agent çº§é…ç½®ï¼ˆ<code>~/.openclaw/agents/main/agent/models.json</code>ï¼‰ï¼Œéƒ½è¦æ›´æ–°</p></ol><p>ç°åœ¨ï¼Œæˆ‘æ‹¥æœ‰äº†ä¸€ä¸ªç”¨æ— é™ Claude API é©±åŠ¨çš„ä¸ªäºº AI åŠ©æ‰‹ç½‘å…³ã€‚å¯ä»¥é€šè¿‡ WhatsAppã€Telegramã€Discord ç­‰ä»»ä½•æ¸ é“ä¸ AI å¯¹è¯ï¼Œè€Œæˆæœ¬æ˜¯â€”â€”é›¶ã€‚<p>å°é¾™è™¾ï¼Œè·‘èµ·æ¥äº†ï¼ğŸ¦<h2 id=iphone-hou-ji-jie-ru-telegram-2yue-12ri-geng-xin>ğŸ“± åè®°ï¼šæ¥å…¥ Telegramï¼ˆ2æœˆ12æ—¥æ›´æ–°ï¼‰</h2><p>ç¬¬äºŒå¤©ï¼Œæˆ‘å†³å®šè®©å°é¾™è™¾èµ°å‡º WebChatï¼Œæ¥å…¥ Telegramã€‚<h3 id=chuang-jian-telegram-bot>åˆ›å»º Telegram Bot</h3><ol><li>åœ¨ Telegram æœç´¢ <strong>@BotFather</strong><li>å‘é€ <code>/newbot</code>ï¼Œç»™ bot èµ·åï¼ˆæˆ‘å–äº†"å°é¾™è™¾åŠ©æ‰‹"ï¼‰<li>è®¾ç½® usernameï¼š<code>xiaolongxia_ai_bot</code><li>å¤åˆ¶ BotFather è¿”å›çš„ token</ol><h3 id=pei-zhi-telegram-channel>é…ç½® Telegram Channel</h3><p>åœ¨ <code>~/.openclaw/openclaw.json</code> çš„ <code>channels</code> éƒ¨åˆ†æ·»åŠ ï¼š<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>channels</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>telegram</span><span>": {
</span><span>      "</span><span style=color:#a3be8c>botToken</span><span>": "</span><span style=color:#a3be8c>your-telegram-bot-token</span><span>",
</span><span>      "</span><span style=color:#a3be8c>dmPolicy</span><span>": "</span><span style=color:#a3be8c>allowlist</span><span>",
</span><span>      "</span><span style=color:#a3be8c>allowFrom</span><span>": [</span><span style=background:#bf616a;color:#2b303b>your-telegram-user-id</span><span>],
</span><span>      "</span><span style=color:#a3be8c>proxy</span><span>": "</span><span style=color:#a3be8c>http://127.0.0.1:7890</span><span>"
</span><span>    }
</span><span>  },
</span><span>  "</span><span style=color:#a3be8c>plugins</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>entries</span><span>": {
</span><span>      "</span><span style=color:#a3be8c>telegram</span><span>": { "</span><span style=color:#a3be8c>enabled</span><span>": </span><span style=color:#d08770>true </span><span>}
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre><p>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š<ul><li><code>dmPolicy</code> åªæ¥å— <code>"pairing"</code> / <code>"allowlist"</code> / <code>"open"</code> / <code>"disabled"</code>ï¼Œæˆ‘ä¹‹å‰å†™æˆ <code>"allowFrom"</code> å¯¼è‡´é…ç½®æ ¡éªŒå¤±è´¥<li>è·å–ä½ çš„ Telegram ç”¨æˆ· IDï¼šåœ¨ Telegram æœç´¢ <strong>@userinfobot</strong>ï¼Œå‘ä»»æ„æ¶ˆæ¯å³å¯è·å–<li><strong>ç½‘ç»œé—®é¢˜</strong>ï¼šå›½å†…æ— æ³•ç›´è¿ Telegram APIï¼Œéœ€è¦é…ç½® <code>proxy</code>ï¼ˆæˆ‘ç”¨ ClashXï¼Œç«¯å£ 7890ï¼‰<li><code>plugins.entries.telegram.enabled</code> å¿…é¡»è®¾ä¸º <code>true</code>ï¼Œå¦åˆ™æ’ä»¶ä¸ä¼šå¯åŠ¨</ul><h3 id=telegram-cai-keng-su-cha-biao>Telegram è¸©å‘é€ŸæŸ¥è¡¨</h3><table><thead><tr><th>é—®é¢˜<th>åŸå› <th>è§£å†³æ–¹æ¡ˆ<tbody><tr><td><code>dmPolicy: Invalid option</code><td>å€¼å†™é”™äº†<td>ä½¿ç”¨ <code>"allowlist"</code> è€Œé <code>"allowFrom"</code><tr><td><code>fetch failed</code><td>æ— æ³•è®¿é—® Telegram API<td>é…ç½® <code>proxy: "http://127.0.0.1:7890"</code><tr><td><code>telegram: disabled</code><td>æ’ä»¶æœªå¯ç”¨<td><code>plugins.entries.telegram.enabled = true</code></table><p>é…ç½®å®Œæˆåé‡å¯ Gatewayï¼Œå» Telegram æœç´¢ <code>@xiaolongxia_ai_bot</code>ï¼Œå‘æ¶ˆæ¯â€”â€”<strong>æ”¶åˆ° AI å›å¤äº†ï¼</strong><p><img alt="OpenClaw Telegram æˆåŠŸè¿è¡Œ" src=https://polly.wang/making-openclaw-run-with-copilotx/ScreenShot_Telegram.png><p>ç°åœ¨å°é¾™è™¾çœŸçš„è·‘èµ·æ¥äº†ï¼šWebChat + Telegram åŒæ¸ é“ï¼Œå…¨éƒ¨ç”± CopilotX é©±åŠ¨ï¼ğŸ¦<hr><p><em>å¦‚æœä½ ä¹Ÿæƒ³å°è¯•è¿™ä¸ªé…ç½®ï¼ŒOpenClaw é¡¹ç›®åœ°å€ï¼šhttps://github.com/openclaw/openclaw</em></div><div class=navigation></div></div><div id=giscus-container><h2>Comments</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // ç°ç™½é»‘è‰²è°ƒ + è“è‰²ç‚¹ç¼€
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // æ–‡æœ¬é¢œè‰²
                textColor: '#333',
                nodeTextColor: '#333',
                // å…¶ä»–
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // æŸ¥æ‰¾æ‰€æœ‰ mermaid ä»£ç å—å¹¶æ¸²æŸ“
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // æ¸²æŸ“æ‰€æœ‰ mermaid å›¾è¡¨
        await mermaid.run();
    </script><script>(function(){if(typeof gtag!=='function')return;var a=document.querySelector('.blog-post .content');if(a&&'IntersectionObserver' in window){var b=false;var c=new IntersectionObserver(function(h){if(h[0].isIntersecting&&!b){b=true;gtag('event','blog_read_complete',{article_title:document.title,article_path:location.pathname});c.disconnect()}},{threshold:0.1});var d=a.lastElementChild||a;c.observe(d)};var e=document.getElementById('giscus-container');if(e&&'IntersectionObserver' in window){var f=false;var g=new IntersectionObserver(function(h){if(h[0].isIntersecting&&!f){f=true;gtag('event','comment_view',{article_title:document.title,article_path:location.pathname});g.disconnect()}},{threshold:0.1});g.observe(e)}})()</script><style>.cover-image{text-align:center;margin:1.5em 0 2em 0}.cover-image img{width:60%;height:auto;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}@media (max-width:768px){.cover-image img{width:100%}}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>