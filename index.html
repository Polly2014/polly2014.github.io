<!DOCTYPE html>
<html>
<head>
    <title>Polly&#x27;s Blog</title>
    <meta name="description" content="Wangbaoli">
    <meta name="keywords" content="Polly, Blog, Baoli Wang">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!--<link rel="stylesheet" href="https://polly2014.github.io/css/style.css">-->
    <link rel="stylesheet" href="https://polly2014.github.io/css/style_new.css">
    
</head>
<body>
    <!-- 添加汉堡菜单按钮 -->
    <div class="menu-toggle">
        <img src=https://polly2014.github.io/images/polly.png alt="Menu">
    </div>
    <!-- 添加遮罩层 -->
    <div class="overlay"></div>
    <div class="pure-g container">
        <div class="sidebar pure-u-1 pure-u-md-1-5">
            <div class="title">
                <a class="pure-menu-heading" href=https://polly2014.github.io>
                    <img class="avatar pure-img-responsive" src=https://polly2014.github.io/images/polly.png>
                </a>
                <div class="introduction">
                    <p>Polly&#x27;s Blog</p>
                </div>
                <div class="nav">
                    <ul class="nav-links">
                        <li><a href=https://polly2014.github.io><i class="fas fa-home"></i>Home</a></li>
                        <li><a href=https://polly2014.github.io/archive><i class="fas fa-archive"></i>Archive</a></li>
                        <li><a href=https://polly2014.github.io/tags><i class="fas fa-folder"></i>Category</a></li>
                        <li><a href=https://polly2014.github.io/blog><i class="fas fa-file-alt"></i>Posts</a></li>
                        <li><a href=https://polly2014.github.io/publication><i class="fas fa-file-pdf"></i>Research</a></li>
                        <li><a href=https://polly2014.github.io/about><i class="fas fa-info-circle"></i>About Me</a></li>
                    </ul>
                </div>
                <div class="social">
                    <ul class="social-links">
                        <li><a href="mailto:26716201@qq.com"><i class="fas fa-envelope"></i></a></li>
                        <li><a href="https://twitter.com/Polly__007"><i class="fab fa-twitter"></i></a></li>
                        <li><a href="https://www.linkedin.com/in/baoliwang"><i class="fab fa-linkedin-in"></i></a></li>
                        <li><a href="https://github.com/Polly2014"><i class="fab fa-github"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="content pure-u-1 pure-u-md-4-5">
            
    <!-- 
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-002&#x2F;">OpenHands 源码解析系列（二）：前端架构与用户交互流程</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 前端的技术栈、组件设计及与后端的交互逻辑。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;hack-for-droiyan&#x2F;">Droiyan手游渗透测试</a></h2>
                <p class="post-date">2023-12-28</p>
            </div>
            <p class="post-summary pure-u-1">童年沉迷的网迷，如今推出了手游，氪金的不行，生气之余，渗透测试一波 &gt;_&lt;</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;travel-list-with-tesla&#x2F;">生活不止眼前的苟且，还是诗和远方的田野</a></h2>
                <p class="post-date">2024-07-08</p>
            </div>
            <p class="post-summary pure-u-1">灵魂和身体，总要有一个在路上</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;register-openai-chatgpt&#x2F;">OpenAI ChatGPT注册指南</a></h2>
                <p class="post-date">2024-08-15</p>
            </div>
            <p class="post-summary pure-u-1">拥抱开源，GPT Changes the World!</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-server-api-document&#x2F;">OpenHands API 使用指南：构建智能化开发体验</a></h2>
                <p class="post-date">2025-02-25</p>
            </div>
            <p class="post-summary pure-u-1">OpenHands Server API Documentation</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-009&#x2F;">OpenHands 源码解析系列（九）：从源码到实践</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">从源码到实践，帮助开发者快速上手 OpenHands 的开发与部署。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-007&#x2F;">OpenHands 源码解析系列（七）：事件流与存储管理</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 的事件流处理逻辑和存储管理模块的实现细节。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;how-to-build-blog-with-zola&#x2F;">如何借助GPT搭建Zola个人博客</a></h2>
                <p class="post-date">2024-05-01</p>
            </div>
            <p class="post-summary pure-u-1">本文将详细介绍如何借助GPT搭建Zola个人博客。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-deployment-guidance&#x2F;">Azure部署OpenHands指南</a></h2>
                <p class="post-date">2025-02-12</p>
            </div>
            <p class="post-summary pure-u-1">OpenHands可谓AI时代的程序员瑞士军刀，本文详细介绍如何在Azure上安装Docker、Docker Compose，部署OpenHands，并配置Azure的GPT-4o API接口。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-005&#x2F;">OpenHands 源码解析系列（五）：代理系统与任务分配</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 的代理设计模式及其在任务分配中的作用。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-004&#x2F;">OpenHands 源码解析系列（四）：对话管理与意图解析</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 如何解析用户输入并分配代理。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-redevelopment-frontend-001&#x2F;">OpenHands 二次开发系列（一）：前端重构设计规划</a></h2>
                <p class="post-date">2025-02-26</p>
            </div>
            <p class="post-summary pure-u-1">OpenHands Re-development: Frontend Design</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-001&#x2F;">OpenHands 源码解析系列（一）：项目概览与架构设计</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">快速了解 OpenHands 的整体架构和模块设计。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-010&#x2F;">OpenHands 源码解析系列（十）：总结与展望</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">总结 OpenHands 源码解析系列的核心内容，并展望其未来发展方向。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-008&#x2F;">OpenHands 源码解析系列（八）：安全性与扩展性设计</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 的安全性设计与系统扩展性的实现细节。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-003&#x2F;">OpenHands 源码解析系列（三）：后端架构与核心模块</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 后端的模块划分、启动流程及核心逻辑。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;azure-deepseek-service-deployment-guidance&#x2F;">Azure部署DeepSeek&#x2F;GPT大模型服务</a></h2>
                <p class="post-date">2025-02-11</p>
            </div>
            <p class="post-summary pure-u-1">详细介绍如何在Azure Foundry上部署各种大模型服务。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;second-post&#x2F;">我的博文标题2</a></h2>
                <p class="post-date">2023-05-02</p>
            </div>
            <p class="post-summary pure-u-1">这是博文的摘要。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-vs-coding-copilots&#x2F;">OpenHands vs Coding Copilots: 深度剖析与对比</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">深度剖析 OpenHands 与 Github Copilot、Cursor 等 Coding Copilot&#x2F;Agent 的区别，探索其设计理念与应用场景。</p>
        </div>
    
        <div class="blog-post pure-g">
            <div class="post-header">
                <h2 class="post-title"><a href="https:&#x2F;&#x2F;polly2014.github.io&#x2F;openhands-source-code-analysis-006&#x2F;">OpenHands 源码解析系列（六）：与大语言模型（LLM）的交互</a></h2>
                <p class="post-date">2025-02-24</p>
            </div>
            <p class="post-summary pure-u-1">解析 OpenHands 如何通过 LLM 模块与大语言模型交互。</p>
        </div>
     -->
    <div class="polly-chat">
        <h2>Welcome to talk with Polly</h2>
        <div id="chat-box">
            <!-- Chat messages will appear here -->
        </div>
        <div class="input-container">
            <input id="user-input" type="text" placeholder="Type your message here..." />
            <button id="send-button"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
        <script>
        // 在脚本部分添加打字机效果函数
        function typeWriter(element, text, speed = 50) {
            let i = 0;
            element.textContent = '';
            return new Promise(resolve => {
                function type() {
                    if (i < text.length) {
                        element.textContent += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        resolve();
                    }
                }
                type();
            });
        }

        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        // 页面加载完成后自动聚焦到输入框
        window.addEventListener('load', () => {
            userInput.focus();
        });

        // 当点击聊天框区域时，重新聚焦到输入框
        document.querySelector('.polly-chat').addEventListener('click', () => {
            userInput.focus();
        });

        // 防止点击输入框本身时触发重复聚焦
        userInput.addEventListener('click', (event) => {
            event.stopPropagation();
        });

        // 防止点击发送按钮时触发重复聚焦
        sendButton.addEventListener('click', (event) => {
            event.stopPropagation();
        });
    
        // 修改消息发送部分的代码
        async function sendMessage() {
            const userMessage = userInput.value;
            if (!userMessage) return;

            // 第一次发送消息时，展开聊天框
            const pollyChat = document.querySelector('.polly-chat');
            const chatBox = document.getElementById('chat-box');
            
            if (!pollyChat.classList.contains('expanded')) {
                pollyChat.classList.add('expanded');
                chatBox.classList.add('expanded');
                // 等待动画完成
                await new Promise(resolve => setTimeout(resolve, 300));
            }
        
            // Display user message
            const messageContainer = document.createElement('div');
            messageContainer.className = 'message-container user-message';
            
            const userBubble = document.createElement('div');
            userBubble.className = 'chat-bubble user';
            userBubble.textContent = userMessage;
            
            const userAvatar = document.createElement('div');
            userAvatar.className = 'chat-avatar';
            userAvatar.innerHTML = '<i class="fas fa-user"></i>'; // 使用FontAwesome图标
            
            messageContainer.appendChild(userBubble);
            messageContainer.appendChild(userAvatar);
            chatBox.appendChild(messageContainer);
        
            // Clear input field
            userInput.value = '';
        
            // Create Polly's message container
            const pollyContainer = document.createElement('div');
            pollyContainer.className = 'message-container polly-message';
            
            const pollyAvatar = document.createElement('div');
            pollyAvatar.className = 'chat-avatar';
            pollyAvatar.innerHTML = `<img src="https://polly2014.github.io/images/polly.png" alt="Polly">`;
            
            const pollyBubble = document.createElement('div');
            pollyBubble.className = 'chat-bubble polly';
            pollyBubble.textContent = 'Polly is thinking...';
            
            pollyContainer.appendChild(pollyAvatar);
            pollyContainer.appendChild(pollyBubble);
            chatBox.appendChild(pollyContainer);
        
            // Scroll to the bottom
            chatBox.scrollTop = chatBox.scrollHeight;

            // 创建 Polly 的思考动画
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'thinking';
            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('span');
                thinkingDiv.appendChild(dot);
            }
            pollyBubble.innerHTML = '';
            pollyBubble.appendChild(thinkingDiv);
    
            // Fetch Polly's response from the LLM Service
            try {
                const response = await fetch('http://localhost:50206/api/polly', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: userMessage })
                });
                const data = await response.json();

                // 移除思考动画
                pollyBubble.innerHTML = '';
                
                // 使用打字机效果显示回复
                await typeWriter(pollyBubble, data.reply);
                
                // 添加淡入效果显示回复
                // pollyBubble.style.opacity = '0';
                // pollyBubble.textContent = data.reply;
                
                // 触发重排以确保动画生效
                // void pollyBubble.offsetWidth;
                
                // pollyBubble.style.transition = 'opacity 0.3s ease-out';
                // pollyBubble.style.opacity = '1';
            } catch (error) {
                // pollyBubble.textContent = 'Error: Unable to reach Polly.';
                // 移除思考动画
                pollyBubble.innerHTML = '';
                
                // 使用打字机效果显示回复
                await typeWriter(pollyBubble, 'Error: Unable to reach Polly. Will correct this issue soon.');
            }
    
            // Scroll to the bottom
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    
        // 点击发送按钮时发送消息
        sendButton.addEventListener('click', sendMessage);
    
        // 按下回车键时发送消息
        userInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                event.preventDefault(); // 防止输入框换行
                sendMessage();
            }
        });

        // 页面加载时添加一个淡入效果
        window.addEventListener('load', () => {
            const pollyChat = document.querySelector('.polly-chat');
            pollyChat.style.opacity = '0';
            userInput.focus();
            
            requestAnimationFrame(() => {
                pollyChat.style.transition = 'opacity 0.6s ease-out';
                pollyChat.style.opacity = '1';
            });
        });
    </script>
    

        </div>
    </div>
    <!-- 在body标签结束前添加JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.querySelector('.overlay');

            // 切换侧边栏显示状态
            function toggleSidebar() {
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
            }

            // 点击菜单按钮显示侧边栏
            menuToggle.addEventListener('click', toggleSidebar);

            // 点击遮罩层隐藏侧边栏
            overlay.addEventListener('click', toggleSidebar);

            // 处理移动端滑动手势
            let touchStartX = 0;
            let touchEndX = 0;

            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            }, false);

            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, false);

            function handleSwipe() {
                const swipeDistance = touchEndX - touchStartX;
                // 从左向右滑动显示菜单
                if (swipeDistance > 50 && touchStartX < 30) {
                    sidebar.classList.add('active');
                    overlay.classList.add('active');
                }
                // 从右向左滑动隐藏菜单
                else if (swipeDistance < -50 && sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
                    overlay.classList.remove('active');
                }
            }
        });
    </script>
</body>
</html>