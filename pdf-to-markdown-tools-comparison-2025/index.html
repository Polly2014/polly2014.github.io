<!doctype html><html><head><title>Polly Blog - AI Assistant, Tutorials, and Insights</title><meta content="Explore Polly Blog for AI tutorials, insights, and updates on cutting-edge technology." name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-8JD13N7PHS" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-8JD13N7PHS')</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>2025年PDF转Markdown工具终极指南：MinerU、Marker、Nougat等8款工具深度对比</h1><div class=content><p>最近在处理一本技术书籍《AV1视频编解码标准：原理与算法实现》的翻译工作时，我需要将PDF转换为Markdown格式。这本书包含大量数学公式、复杂表格和技术图表，普通的<code>pdftotext</code>工具完全无法胜任。于是我花了相当多的时间研究和测试各种PDF转Markdown工具，在这里分享我的发现和实战经验。<h2 id=wei-shi-yao-xu-yao-gao-zhi-liang-de-pdfzhuan-markdowngong-ju>为什么需要高质量的PDF转Markdown工具？</h2><p>在AI时代，文档的结构化处理变得越来越重要。无论是构建RAG（检索增强生成）系统、训练语言模型，还是简单地将技术书籍数字化以便翻译和编辑，我们都需要将PDF转换为机器可读的格式。<p>传统工具如<code>pdftotext</code>存在诸多问题：<ul><li><strong>公式丢失</strong>：数学公式变成乱码或完全丢失<li><strong>表格崩坏</strong>：精心排版的表格变成一团乱麻<li><strong>图片忽略</strong>：重要的图表完全被跳过<li><strong>换行混乱</strong>：页眉页脚混入正文，段落被随意切割<li><strong>阅读顺序错误</strong>：多栏布局导致文本顺序混乱</ul><p>好消息是，2024-2025年间涌现了一批基于深度学习的PDF解析工具，它们能够很好地解决这些问题。<h2 id=ba-kuan-zhu-liu-gong-ju-shen-du-dui-bi>八款主流工具深度对比</h2><p>经过大量研究和实际测试，我整理了目前最值得关注的8款PDF转Markdown工具：<h3 id=bar-chart-gong-neng-dui-bi-zong-lan>📊 功能对比总览</h3><table><thead><tr><th>工具<th style=text-align:center>公式支持<th style=text-align:center>表格支持<th style=text-align:center>图片提取<th style=text-align:center>中文支持<th style=text-align:center>开源<th>适用场景<tbody><tr><td><strong>MinerU</strong><td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>✅<td>中文技术文档首选<tr><td><strong>Marker</strong><td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>✅<td>快速批量处理<tr><td><strong>Nougat</strong><td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐<td style=text-align:center>⭐⭐⭐<td style=text-align:center>✅<td>英文学术论文<tr><td><strong>olmOCR</strong><td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>✅<td>大规模文档处理<tr><td><strong>Docling</strong><td style=text-align:center>⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐<td style=text-align:center>⭐⭐⭐<td style=text-align:center>✅<td>轻量级转换<tr><td><strong>pdf-craft</strong><td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>✅<td>电子书制作<tr><td><strong>Mathpix</strong><td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>❌<td>专业级商用<tr><td><strong>HunyuanOCR</strong><td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐<td style=text-align:center>⭐⭐⭐⭐⭐<td style=text-align:center>✅<td>新兴之星</table><h3 id=1-mineru-zhong-wen-wen-dang-chu-li-de-wang-zhe>1. MinerU —— 中文文档处理的王者</h3><p><strong>GitHub</strong>: <a href=https://github.com/opendatalab/MinerU>opendatalab/MinerU</a><br> <strong>最新版本</strong>: v1.3.12 (2025年4月)<p>MinerU由上海AI实验室的OpenDataLab团队开发，是目前处理中文技术文档的最佳选择。在OmniDocBench评测中得分<strong>90.67</strong>，布局检测能力更是高达<strong>97.5 mAP</strong>，位列第一。<p><strong>核心优势：</strong><ul><li>🏆 <strong>布局检测第一</strong>：准确识别多栏、图文混排等复杂布局<li>📐 <strong>公式识别出色</strong>：支持LaTeX格式输出，行内和行间公式都能准确识别<li>📊 <strong>表格解析强大</strong>：集成RapidTable，单表解析速度提升10倍<li>🇨🇳 <strong>中文支持极佳</strong>：针对中文文档进行了专门优化<li>🔄 <strong>持续更新</strong>：团队活跃，问题修复及时</ul><p><strong>安装和使用：</strong><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># 安装
</span><span style=color:#bf616a>pip</span><span> install "</span><span style=color:#a3be8c>magic-pdf[full]</span><span>"
</span><span>
</span><span style=color:#65737e># 使用
</span><span style=color:#bf616a>magic-pdf -p</span><span> your_document.pdf</span><span style=color:#bf616a> -o</span><span> output_dir</span><span style=color:#bf616a> -m</span><span> auto</span><span style=color:#bf616a> -l</span><span> ch
</span></code></pre><p><strong>配置文件</strong> (<code>~/magic-pdf.json</code>)：<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>device-mode</span><span>": "</span><span style=color:#a3be8c>mps</span><span>",  </span><span style=color:#65737e>// Mac用户使用mps，NVIDIA用户使用cuda
</span><span>  "</span><span style=color:#a3be8c>table-config</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>model</span><span>": "</span><span style=color:#a3be8c>rapid_table</span><span>",
</span><span>    "</span><span style=color:#a3be8c>enable</span><span>": </span><span style=color:#d08770>true
</span><span>  },
</span><span>  "</span><span style=color:#a3be8c>formula-config</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>enable</span><span>": </span><span style=color:#d08770>true
</span><span>  }
</span><span>}
</span></code></pre><p>MinerU还提供了<strong>桌面版应用</strong>，对于不熟悉命令行的用户非常友好。不过在macOS上可能需要在系统设置中授予"完全磁盘访问权限"才能正常使用。<h3 id=2-marker-su-du-yu-zhi-liang-de-ping-heng>2. Marker —— 速度与质量的平衡</h3><p><strong>GitHub</strong>: <a href=https://github.com/VikParuchuri/marker>VikParuchuri/marker</a><br> <strong>最新版本</strong>: v1.10.1<p>Marker是一个管道式架构的PDF解析工具，基于Surya进行OCR和布局检测。它的特点是速度快、易于集成，适合需要快速处理大量文档的场景。<p><strong>核心优势：</strong><ul><li>⚡ <strong>速度快</strong>：相比端到端模型，管道式架构处理更快<li>🧩 <strong>模块化</strong>：各组件可独立替换和升级<li>🔧 <strong>易于定制</strong>：支持LLM增强进行结构优化<li>💻 <strong>资源友好</strong>：相比大模型方案，硬件要求更低</ul><p><strong>Benchmark结果</strong>（arXiv论文数据）：<table><thead><tr><th>模型<th>Edit Dist↓<th>BLEU↑<th>F1↑<tbody><tr><td>Nougat-base<td>0.38<td>0.54<td>0.73<tr><td>Marker<td>0.45<td>0.44<td>0.62</table><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># 安装
</span><span style=color:#bf616a>pip</span><span> install marker-pdf
</span><span>
</span><span style=color:#65737e># 使用
</span><span style=color:#bf616a>marker</span><span> your_document.pdf output_dir
</span></code></pre><h3 id=3-nougat-xue-zhu-lun-wen-de-zui-jia-ban-lu>3. Nougat —— 学术论文的最佳伴侣</h3><p><strong>GitHub</strong>: <a href=https://github.com/facebookresearch/nougat>facebookresearch/nougat</a><br> <strong>开发者</strong>: Meta AI<p>Nougat（Neural Optical Understanding for Academic Documents）是Meta推出的端到端文档理解模型，专门针对学术论文优化。<p><strong>核心优势：</strong><ul><li>📄 <strong>学术论文专精</strong>：对arXiv风格的论文处理效果极佳<li>🔢 <strong>公式识别顶级</strong>：复杂数学公式也能准确转换为LaTeX<li>📋 <strong>表格用LaTeX</strong>：表格以LaTeX格式输出，保持精确性</ul><p><strong>局限性：</strong><ul><li>中文支持较弱<li>浮动元素（图表）倾向于放在页面末尾<li>可能出现幻觉（hallucination）和重复问题</ul><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># 安装
</span><span style=color:#bf616a>pip</span><span> install nougat-ocr
</span><span>
</span><span style=color:#65737e># 使用
</span><span style=color:#bf616a>nougat</span><span> your_paper.pdf</span><span style=color:#bf616a> -o</span><span> output_dir
</span></code></pre><h3 id=4-olmocr-da-gui-mo-chu-li-de-li-qi>4. olmOCR —— 大规模处理的利器</h3><p><strong>GitHub</strong>: <a href=https://github.com/allenai/olmocr>allenai/olmocr</a><br> <strong>开发者</strong>: Allen Institute for AI<p>olmOCR基于Qwen2-VL-7B视觉语言模型微调而成，专注于大规模PDF文档处理。其最大特点是<strong>完全开源</strong>，包括训练数据、代码和方法论。<p><strong>核心优势：</strong><ul><li>🎯 <strong>高性价比</strong>：处理成本低于$200/百万页<li>📝 <strong>手写识别</strong>：支持手写内容识别<li>🔄 <strong>自动清理</strong>：自动去除页眉页脚<li>📊 <strong>多栏处理</strong>：正确处理复杂的多栏布局</ul><p><strong>Benchmark得分</strong>: 在olmOCR-bench上达到<strong>82.4分</strong><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># 安装
</span><span style=color:#bf616a>pip</span><span> install olmocr
</span><span>
</span><span style=color:#65737e># 使用
</span><span style=color:#bf616a>python -m</span><span> olmocr.pipeline ./workspace</span><span style=color:#bf616a> --markdown --pdfs</span><span> your_document.pdf
</span></code></pre><h3 id=5-docling-ibmde-qing-liang-ji-fang-an>5. Docling —— IBM的轻量级方案</h3><p><strong>GitHub</strong>: <a href=https://github.com/DS4SD/docling>DS4SD/docling</a><br> <strong>开发者</strong>: IBM<p>Docling是IBM推出的轻量级文档解析工具，专注于生成干净、人类可读的Markdown输出。<p><strong>核心优势：</strong><ul><li>🪶 <strong>轻量级</strong>：资源占用少，易于部署<li>📦 <strong>多格式支持</strong>：PDF、DOCX、PPTX、XLSX、HTML等<li>🔗 <strong>框架集成</strong>：与LangChain、LlamaIndex等无缝集成<li>📖 <strong>统一表示</strong>：DoclingDocument格式便于下游处理</ul><p><strong>适用场景：</strong><ul><li>数字原生PDF（非扫描件）<li>简单布局的文档<li>RAG应用的文档预处理</ul><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># 安装
</span><span style=color:#bf616a>pip</span><span> install docling
</span><span>
</span><span style=color:#65737e># 使用
</span><span style=color:#bf616a>from</span><span> docling.document_converter import DocumentConverter
</span><span>
</span><span style=color:#bf616a>converter</span><span> = DocumentConverter()
</span><span style=color:#bf616a>result</span><span> = converter.convert("</span><span style=color:#a3be8c>your_document.pdf</span><span>")
</span><span style=color:#bf616a>print</span><span>(result.document.export_to_markdown())
</span></code></pre><h3 id=6-pdf-craft-dian-zi-shu-zhi-zuo-shen-qi>6. pdf-craft —— 电子书制作神器</h3><p><strong>GitHub</strong>: <a href=https://github.com/oomol-lab/pdf-craft>oomol-lab/pdf-craft</a><br> <strong>最新版本</strong>: v1.0.5<p>pdf-craft是一个专注于扫描版书籍处理的工具，基于DeepSeek OCR，可以将PDF转换为Markdown或EPUB格式。<p><strong>核心优势：</strong><ul><li>📚 <strong>书籍专精</strong>：针对扫描版书籍优化<li>🚫 <strong>智能过滤</strong>：自动去除页眉、页脚、目录页<li>📖 <strong>EPUB输出</strong>：可直接生成电子书格式<li>🔢 <strong>脚注处理</strong>：正确处理学术文档中的脚注</ul><p><strong>特色功能：</strong><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>from </span><span>pdf_craft </span><span style=color:#b48ead>import </span><span>PDFPageExtractor, MarkdownWriter
</span><span>
</span><span style=color:#65737e># 表格渲染方式：HTML、图片裁剪
</span><span style=color:#65737e># 公式渲染方式：MathML、SVG、图片裁剪
</span></code></pre><h3 id=7-mathpix-shang-ye-ji-de-zhong-ji-fang-an>7. Mathpix —— 商业级的终极方案</h3><p><strong>官网</strong>: <a href=https://mathpix.com>mathpix.com</a><p>如果预算允许，Mathpix是公式识别领域的绝对王者。它不仅是工具，更是一个完整的API服务。<p><strong>核心优势：</strong><ul><li>🏆 <strong>公式识别最强</strong>：业界公认的最高准确率<li>📊 <strong>表格处理完美</strong>：支持合并单元格、嵌套表格<li>🌍 <strong>多语言支持</strong>：包括中文在内的多种语言<li>📤 <strong>多格式输出</strong>：Markdown、LaTeX、DOCX、HTML</ul><p><strong>适用场景：</strong><ul><li>商业项目，需要最高质量<li>大量数学公式的文档<li>需要API集成的工作流</ul><h3 id=8-hunyuanocr-teng-xun-de-xin-xing>8. HunyuanOCR —— 腾讯的新星</h3><p><strong>Hugging Face</strong>: <a href=https://huggingface.co/tencent/HunyuanOCR>tencent/HunyuanOCR</a><p>腾讯最新发布的开源OCR模型，仅1B参数却在多个基准测试中超越了DeepSeek-OCR。<p><strong>核心优势：</strong><ul><li>🎯 <strong>小而精</strong>：1B参数，易于部署<li>📊 <strong>Benchmark领先</strong>：OmniDocBench得分94.1<li>🌐 <strong>14语言支持</strong>：包括翻译功能<li>📋 <strong>结构化输出</strong>：表格和公式输出格式化良好</ul><h2 id=ru-he-xuan-ze-gua-he-ni-de-gong-ju>如何选择适合你的工具？</h2><p>根据我的实际使用经验，这里给出几个选择建议：<h3 id=an-wen-dang-lei-xing-xuan-ze>按文档类型选择</h3><table><thead><tr><th>文档类型<th>推荐工具<th>原因<tbody><tr><td>中文技术书籍<td><strong>MinerU</strong><td>中文支持最佳，公式表格都强<tr><td>英文学术论文<td><strong>Nougat</strong><td>专为学术论文设计<tr><td>扫描版老书<td><strong>pdf-craft</strong><td>智能过滤页眉页脚<tr><td>商业级需求<td><strong>Mathpix</strong><td>质量最高，API完善<tr><td>快速批量处理<td><strong>Marker</strong><td>速度快，资源占用低<tr><td>RAG预处理<td><strong>Docling</strong><td>与AI框架集成好</table><h3 id=an-ying-jian-tiao-jian-xuan-ze>按硬件条件选择</h3><table><thead><tr><th>硬件条件<th>推荐工具<tbody><tr><td>有NVIDIA GPU<td>MinerU、Nougat、olmOCR<tr><td>Apple Silicon Mac<td>MinerU (MPS模式)<tr><td>仅有CPU<td>Docling、Marker (慢)<tr><td>云端API<td>Mathpix、Mistral OCR</table><h3 id=an-shi-yong-chang-jing-xuan-ze>按使用场景选择</h3><table><thead><tr><th>场景<th>推荐方案<tbody><tr><td>单个文档快速转换<td>MinerU桌面版<tr><td>批量自动化处理<td>Marker + 脚本<tr><td>需要人工校对<td>Mathpix（有编辑器）<tr><td>大规模数据集构建<td>olmOCR（成本低）</table><h2 id=wo-de-shi-zhan-jing-yan>我的实战经验</h2><p>回到我最初的需求——处理《AV1视频编解码标准》这本技术书籍。经过测试，我最终选择了<strong>MinerU</strong>，原因如下：<ol><li><strong>中文支持</strong>：作为中文技术书籍，MinerU的中文识别率明显更高<li><strong>公式处理</strong>：视频编解码涉及大量数学公式，MinerU能很好地转换为LaTeX<li><strong>表格保持</strong>：书中有大量技术参数表，MinerU的RapidTable效果不错<li><strong>桌面版便捷</strong>：提供GUI界面，不需要每次都敲命令</ol><p>当然，MinerU也不是完美的。在处理过程中我发现：<ul><li>某些复杂的行内公式仍需手动修正<li>跨页表格可能被拆分<li>代码块有时候识别不准确</ul><p>这些问题可能需要后续人工校对，但整体来说，MinerU已经大大减轻了我的工作量。<h2 id=wei-lai-zhan-wang>未来展望</h2><p>PDF转Markdown领域正在快速发展。2025年值得关注的趋势包括：<ol><li><strong>VLM主导</strong>：基于视觉语言模型的端到端方案正在成为主流<li><strong>成本下降</strong>：开源模型的质量提升，商业API不再是唯一选择<li><strong>多模态融合</strong>：图文理解能力持续增强<li><strong>专业化细分</strong>：针对特定领域（医学、法律、金融）的专用模型</ol><p>如果你也在寻找PDF转Markdown的解决方案，希望这篇对比能帮助你做出选择。欢迎在评论区分享你的使用经验！<hr><p><strong>相关资源：</strong><ul><li><a href=https://github.com/opendatalab/MinerU>MinerU GitHub</a><li><a href=https://github.com/VikParuchuri/marker>Marker GitHub</a><li><a href=https://github.com/facebookresearch/nougat>Nougat GitHub</a><li><a href=https://github.com/allenai/olmocr>olmOCR GitHub</a><li><a href=https://github.com/DS4SD/docling>Docling GitHub</a><li><a href=https://github.com/oomol-lab/pdf-craft>pdf-craft GitHub</a></ul></div><div class=navigation></div></div><div id=giscus-container><h2>留言与讨论</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // 灰白黑色调 + 蓝色点缀
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // 文本颜色
                textColor: '#333',
                nodeTextColor: '#333',
                // 其他
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // 查找所有 mermaid 代码块并渲染
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // 渲染所有 mermaid 图表
        await mermaid.run();
    </script><style>.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>