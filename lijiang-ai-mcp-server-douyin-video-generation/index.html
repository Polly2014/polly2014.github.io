<!doctype html><html><head><title>ä»ä¼ ç»Ÿåˆ°æ™ºèƒ½ï¼šæ„å»ºä¸½æ±Ÿå®¢æ ˆæŠ–éŸ³è§†é¢‘ç”ŸæˆMCPæœåŠ¡å™¨çš„å®Œæ•´å®è·µ</title><meta content="è®°å½•æˆ‘ä¸ºä¸½æ±Ÿå®¢æ ˆé¡¹ç›®æ„å»ºæ™ºèƒ½æŠ–éŸ³è§†é¢‘ç”Ÿæˆç³»ç»Ÿçš„å®Œæ•´è¿‡ç¨‹ï¼šä»ä¼ ç»Ÿæ­£åˆ™è§£æå‡çº§åˆ°AIæ™ºèƒ½è§£æï¼Œå†åˆ°MCP Serveræ¶æ„å®ç°ï¼Œæœ€ç»ˆæ‰“é€ å‡ºä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆå‰§æœ¬ã€åˆ†é•œå’Œå›¾ç‰‡çš„å®Œæ•´å·¥å…·é“¾ã€‚" name=description><meta content="Polly, Blog, AI Blog, AI Assistant, Tutorials, Technology Blog, Baoli Wang" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content=#333 name=theme-color><meta content=article property=og:type><meta content=https://polly.wang/lijiang-ai-mcp-server-douyin-video-generation/ property=og:url><meta content=ä»ä¼ ç»Ÿåˆ°æ™ºèƒ½ï¼šæ„å»ºä¸½æ±Ÿå®¢æ ˆæŠ–éŸ³è§†é¢‘ç”ŸæˆMCPæœåŠ¡å™¨çš„å®Œæ•´å®è·µ property=og:title><meta content="è®°å½•æˆ‘ä¸ºä¸½æ±Ÿå®¢æ ˆé¡¹ç›®æ„å»ºæ™ºèƒ½æŠ–éŸ³è§†é¢‘ç”Ÿæˆç³»ç»Ÿçš„å®Œæ•´è¿‡ç¨‹ï¼šä»ä¼ ç»Ÿæ­£åˆ™è§£æå‡çº§åˆ°AIæ™ºèƒ½è§£æï¼Œå†åˆ°MCP Serveræ¶æ„å®ç°ï¼Œæœ€ç»ˆæ‰“é€ å‡ºä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆå‰§æœ¬ã€åˆ†é•œå’Œå›¾ç‰‡çš„å®Œæ•´å·¥å…·é“¾ã€‚" property=og:description><meta content=https://polly.wang/images/polly.png property=og:image><meta content="Polly Blog" property=og:site_name><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://polly.wang/lijiang-ai-mcp-server-douyin-video-generation/ name=twitter:url><meta content=ä»ä¼ ç»Ÿåˆ°æ™ºèƒ½ï¼šæ„å»ºä¸½æ±Ÿå®¢æ ˆæŠ–éŸ³è§†é¢‘ç”ŸæˆMCPæœåŠ¡å™¨çš„å®Œæ•´å®è·µ name=twitter:title><meta content="è®°å½•æˆ‘ä¸ºä¸½æ±Ÿå®¢æ ˆé¡¹ç›®æ„å»ºæ™ºèƒ½æŠ–éŸ³è§†é¢‘ç”Ÿæˆç³»ç»Ÿçš„å®Œæ•´è¿‡ç¨‹ï¼šä»ä¼ ç»Ÿæ­£åˆ™è§£æå‡çº§åˆ°AIæ™ºèƒ½è§£æï¼Œå†åˆ°MCP Serveræ¶æ„å®ç°ï¼Œæœ€ç»ˆæ‰“é€ å‡ºä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆå‰§æœ¬ã€åˆ†é•œå’Œå›¾ç‰‡çš„å®Œæ•´å·¥å…·é“¾ã€‚" name=twitter:description><meta content=https://polly.wang/images/polly.png name=twitter:image><meta content=2025-06-16T00:00:00 property=article:published_time><meta content=Polly property=article:author><meta content="MCP Server" property=article:tag><meta content=æŠ–éŸ³è§†é¢‘ property=article:tag><meta content=AIç”Ÿæˆ property=article:tag><meta content=DeepSeek property=article:tag><meta content=FastMCP property=article:tag><meta content=æ™ºèƒ½å®¢æ ˆ property=article:tag><meta content=åˆ†é•œç”Ÿæˆ property=article:tag><meta content="Claude Desktop" property=article:tag><link rel="shortcut icon" href=https://polly.wang/images/polly.ico type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=icon type=image/x-icon><link href=https://polly.wang/images/polly.ico rel=apple-touch-icon><link href=https://polly.wang/vendor/purecss/pure-min.css rel=stylesheet><link href=https://polly.wang/vendor/purecss/grids-responsive-min.css rel=stylesheet><link href=https://polly.wang/vendor/font-awesome/css/all.min.css rel=stylesheet><link href=https://polly.wang/css/style_new.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-8JD13N7PHS" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-8JD13N7PHS')</script><body><div class=menu-toggle><img alt=Menu src=https://polly.wang/images/polly.png></div><div class=overlay></div><div class="pure-g container"><div class="sidebar pure-u-1 pure-u-md-1-5"><div class=title><a class=pure-menu-heading href=https://polly.wang> <img class="avatar pure-img-responsive" src=https://polly.wang/images/polly.png> </a><div class=introduction><p>Polly's Blog</div><div class=nav><ul class=nav-links><li><a href=https://polly.wang><i class="fas fa-home"></i>Home</a><li><a href=https://polly.wang/archive><i class="fas fa-archive"></i>Archive</a><li><a href=https://polly.wang/category><i class="fas fa-folder"></i>Category</a><li><a href=https://polly.wang/blog><i class="fas fa-file-alt"></i>Posts</a><li><a href=https://polly.wang/cfp><i class="fas fa-calendar-alt"></i>CFP</a><li><a href=https://polly.wang/publication><i class="fas fa-file-pdf"></i>Research</a><li><a href=https://polly.wang/changelog><i class="fas fa-history"></i>Change Log</a><li><a href=https://polly.wang/about><i class="fas fa-info-circle"></i>About Me</a></ul></div><div class=social><ul class=social-links><li><a href=mailto:26716201@qq.com><i class="fas fa-envelope"></i></a><li><a href=https://twitter.com/Polly__007><i class="fab fa-twitter"></i></a><li><a href=https://www.linkedin.com/in/baoliwang><i class="fab fa-linkedin-in"></i></a><li><a href=https://github.com/Polly2014><i class="fab fa-github"></i></a></ul></div></div></div><div class="content pure-u-1 pure-u-md-4-5"><div class=blog-post><h1>ä»ä¼ ç»Ÿåˆ°æ™ºèƒ½ï¼šæ„å»ºä¸½æ±Ÿå®¢æ ˆæŠ–éŸ³è§†é¢‘ç”ŸæˆMCPæœåŠ¡å™¨çš„å®Œæ•´å®è·µ</h1><div class=content><h2 id=dou-yin-shi-pin-fen-jing-jiao-ben>æŠ–éŸ³è§†é¢‘åˆ†é•œè„šæœ¬</h2><table><thead><tr><th><strong>åˆ†é•œç¼–å·</strong><th><strong>æ—¶é•¿</strong><th><strong>ç”»é¢å†…å®¹</strong><th><strong>æ‹æ‘„è¦ç‚¹</strong><th><strong>å¯¹è¯/æ—ç™½</strong><th><strong>è§†è§‰æ•ˆæœ</strong><tbody><tr><td><strong>A-1</strong><td>0:00-0:10<td>ä¸½æ±Ÿå¤åŸå…¨æ™¯èˆªæ‹ï¼Œé˜³å…‰æ´’åœ¨çº³è¥¿æ—ä¼ ç»Ÿå»ºç­‘ä¸Šï¼Œé•œå¤´ç¼“ç¼“æ¨è¿›åˆ°ä¸€å®¶ç‰¹è‰²å®¢æ ˆé—¨å£<td>ä½¿ç”¨æ— äººæœºé«˜ç©ºä¿¯æ‹ï¼Œä¿æŒç¨³å®šåŒ€é€Ÿæ¨è¿›ï¼Œé€‰æ‹©é»„é‡‘æ—¶æ®µæ‹æ‘„<td>ï¼ˆç”»å¤–éŸ³ï¼‰'åœ¨ä¸½æ±Ÿï¼Œä¼ ç»Ÿä¸ç°ä»£çš„ç¢°æ’ï¼Œä¼šæ“¦å‡ºæ€æ ·çš„ç«èŠ±ï¼Ÿ'<td>æ·¡å…¥å¼€åœºï¼Œé…æ‚ æ‰¬çš„æ°‘æ—éŸ³ä¹<tr><td><strong>A-2</strong><td>0:10-0:20<td>å®¢æ ˆè€æ¿ï¼ˆèˆ…èˆ…ï¼‰åœ¨åº­é™¢é‡Œæ‰‹å†™åˆ†é•œè„šæœ¬ï¼Œè¡¨æƒ…è‹¦æ¼ï¼Œæ¡Œä¸Šå †æ»¡è‰ç¨¿çº¸<td>ä¸­æ™¯å¹³æ‹ï¼Œçªå‡ºäººç‰©è¡¨æƒ…å’Œæ‚ä¹±æ¡Œé¢ï¼Œè‡ªç„¶å…‰æ‹æ‘„<td>ï¼ˆèˆ…èˆ…å¹æ°”ï¼‰'æ¯å¤©å†™è„šæœ¬å¤ªè´¹æ—¶é—´äº†...'<td>é•œå¤´è½»å¾®æ™ƒåŠ¨è¡¨ç°çƒ¦æ¼æƒ…ç»ª<tr><td><strong>B-1</strong><td>0:20-0:30<td>ç”µè„‘å±å¹•ç‰¹å†™ï¼Œæ˜¾ç¤ºä»£ç è¿è¡Œè¿‡ç¨‹ï¼ŒAIæ­£åœ¨è‡ªåŠ¨ç”Ÿæˆåˆ†é•œè¡¨æ ¼<td>ä½è§’åº¦ç‰¹å†™å±å¹•ï¼Œé”®ç›˜æ•²å‡»å£°åŒæœŸå½•éŸ³<td>ï¼ˆé”®ç›˜å£°+ç”»å¤–éŸ³ï¼‰'ç”¨AIæŠ€æœ¯ï¼Œ1åˆ†é’Ÿæå®š3å°æ—¶çš„å·¥ä½œï¼'<td>ä»£ç å¿«é€Ÿæ»šåŠ¨ç‰¹æ•ˆï¼Œé…ç§‘æŠ€æ„ŸéŸ³æ•ˆ<tr><td><strong>B-2</strong><td>0:30-0:40<td>åˆ†å±ç”»é¢ï¼šå·¦ä¾§ä¼ ç»Ÿæ‰‹å·¥åˆ¶ä½œè§†é¢‘è¿‡ç¨‹ï¼Œå³ä¾§AIè‡ªåŠ¨ç”Ÿæˆè§†é¢‘è¿‡ç¨‹<td>å›ºå®šæœºä½å¯¹æ¯”æ‹æ‘„ï¼Œä¿æŒä¸¤ä¾§æ„å›¾å¯¹ç§°<td>ï¼ˆç”»å¤–éŸ³ï¼‰'ä¼ ç»ŸVSæ™ºèƒ½ï¼Œä½ pickå“ªç§æ–¹å¼ï¼Ÿ'<td>å·¦å³åˆ†å±è½¬åœºç‰¹æ•ˆ<tr><td><strong>C-1</strong><td>0:40-0:50<td>æ‰‹æœºå±å¹•æ˜¾ç¤ºClaude Desktopç•Œé¢ï¼ŒAIåŠ©æ‰‹æ­£åœ¨è°ƒç”¨MCPæœåŠ¡å™¨ç”Ÿæˆè§†é¢‘<td>æ‰‹æŒæ‹æ‘„ç¬¬ä¸€äººç§°è§†è§’ï¼Œçªå‡ºæ‰‹æœºæ“ä½œè¿‡ç¨‹<td>ï¼ˆç‚¹å‡»å£°+AIè¯­éŸ³ï¼‰'æ­£åœ¨ä¸ºæ‚¨ç”Ÿæˆä¸½æ±Ÿå®¢æ ˆå®£ä¼ è§†é¢‘...'<td>æ‰‹æœºç•Œé¢æ”¾å¤§ç‰¹æ•ˆ<tr><td><strong>C-2</strong><td>0:50-1:00<td>å®¢æ ˆå®æ™¯ä¸AIç”Ÿæˆè§†é¢‘ç”»é¢æ— ç¼åˆ‡æ¢ï¼Œå±•ç¤ºä¸åŒé£æ ¼æ•ˆæœ<td>ç›¸åŒæ„å›¾æ‹æ‘„å®æ™¯å’Œè™šæ‹Ÿç”»é¢ï¼Œä¾¿äºåæœŸåŒ¹é…<td>ï¼ˆç”»å¤–éŸ³ï¼‰'AIä¸ä»…èƒ½ç†è§£éœ€æ±‚ï¼Œè¿˜èƒ½ä¿æŒé£æ ¼ç»Ÿä¸€ï¼'<td>æµç•…çš„å˜å½¢è½¬åœºæ•ˆæœ<tr><td><strong>D-1</strong><td>1:00-1:10<td>èˆ…èˆ…æƒŠå–œåœ°çœ‹ç€ç”µè„‘ä¸Šç”Ÿæˆçš„è§†é¢‘æˆå“ï¼Œç«–èµ·å¤§æ‹‡æŒ‡<td>ä»ç”µè„‘å±å¹•æ‹‰å‡ºåˆ°äººç‰©ä¸­æ™¯ï¼Œæ•æ‰è‡ªç„¶è¡¨æƒ…<td>ï¼ˆèˆ…èˆ…ç¬‘ï¼‰'è¿™ä¸‹å¯ä»¥ä¸“å¿ƒç»è¥å®¢æ ˆå•¦ï¼'<td>ç”»é¢è°ƒäº®è¡¨ç°å–œæ‚¦æƒ…ç»ª<tr><td><strong>D-2</strong><td>1:10-1:20<td>å®¢æ ˆé—¨å£æŒ‚ä¸Š'æ™ºèƒ½ä½“éªŒå®¢æ ˆ'æ‹›ç‰Œï¼Œæ¸¸å®¢è¿›å‡ºçƒ­é—¹åœºæ™¯<td>å¹¿è§’é•œå¤´æ‹æ‘„å…¨æ™¯ï¼Œæ•æ‰äººç‰©è‡ªç„¶äº’åŠ¨<td>ï¼ˆç”»å¤–éŸ³ï¼‰'ç§‘æŠ€è®©ä¼ ç»Ÿæ–‡åŒ–ç„•å‘æ–°ç”Ÿï¼ç‚¹å‡»äº†è§£AIè§†é¢‘ç”Ÿæˆæ–¹æ¡ˆ~'<td>ç»“å°¾å¼¹å‡ºè”ç³»æ–¹å¼å­—å¹•</table><hr><p>ä½œä¸ºä¸€åAIå·¥ç¨‹å¸ˆï¼Œæœ€è¿‘ä¸ºèˆ…èˆ…çš„ä¸½æ±Ÿå®¢æ ˆé¡¹ç›®å¼€å‘äº†ä¸€å¥—å®Œæ•´çš„æŠ–éŸ³è§†é¢‘ç”Ÿæˆç³»ç»Ÿã€‚è¿™ä¸ªé¡¹ç›®ä¸ä»…è®©æˆ‘æ·±åº¦ä½“éªŒäº†ä»ä¼ ç»Ÿå·¥å…·åˆ°AIæ™ºèƒ½åŒ–çš„æŠ€æœ¯æ¼”è¿›ï¼Œæ›´è®©æˆ‘è§è¯äº†MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨åœ¨å®é™…åœºæ™¯ä¸­çš„å¼ºå¤§èƒ½åŠ›ã€‚<p>ä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«è¿™ä¸ªå®Œæ•´çš„æŠ€æœ¯å®è·µè¿‡ç¨‹ï¼Œä»æœ€åˆçš„éœ€æ±‚åˆ†æåˆ°æœ€ç»ˆçš„æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠå…¶ä¸­è¸©è¿‡çš„å‘å’Œæ”¶è·çš„ç»éªŒã€‚<h2 id=xiang-mu-bei-jing-wei-shi-yao-yao-zuo-zhe-ge-xi-tong>é¡¹ç›®èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªç³»ç»Ÿï¼Ÿ</h2><p>æ•…äº‹è¦ä»æˆ‘èˆ…èˆ…çš„ä¸½æ±Ÿå®¢æ ˆè¯´èµ·ã€‚ä½œä¸ºä¸€ä¸ªä¼ ç»Ÿçš„çº³è¥¿æ—å»ºç­‘æ”¹é€ é¡¹ç›®ï¼Œå®¢æ ˆéœ€è¦é€šè¿‡çŸ­è§†é¢‘æ¥å±•ç¤ºå…¶ç‹¬ç‰¹çš„æ–‡åŒ–é­…åŠ›å’Œç°ä»£åŒ–æ”¹é€ è¿‡ç¨‹ã€‚ä½†é—®é¢˜æ¥äº†ï¼š<ol><li><strong>å†…å®¹åˆ›ä½œæ•ˆç‡ä½</strong>ï¼šæ‰‹å·¥åˆ¶ä½œåˆ†é•œè„šæœ¬è€—æ—¶ä¸”ä¸“ä¸šè¦æ±‚é«˜<li><strong>è§†è§‰ä¸€è‡´æ€§éš¾ä¿è¯</strong>ï¼šå¤šä¸ªåˆ†é•œçš„è§†è§‰é£æ ¼å®¹æ˜“ä¸ç»Ÿä¸€<li><strong>æŠ€æœ¯é—¨æ§›é«˜</strong>ï¼šä¼ ç»Ÿè§†é¢‘åˆ¶ä½œéœ€è¦ä¸“ä¸šæŠ€èƒ½<li><strong>è¿œç¨‹åä½œå›°éš¾</strong>ï¼šæˆ‘åœ¨åŒ—äº¬ï¼Œèˆ…èˆ…åœ¨ä¸½æ±Ÿï¼Œæ²Ÿé€šæˆæœ¬é«˜</ol><p>ä½œä¸ºä¸€ä¸ªæŠ€æœ¯äººï¼Œæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯ï¼š<strong>è¿™äº›é—®é¢˜éƒ½å¯ä»¥ç”¨AIæ¥è§£å†³</strong>ã€‚<h2 id=xi-tong-jia-gou-yan-jin-cong-1-0dao-3-0de-kua-yue>ç³»ç»Ÿæ¶æ„æ¼”è¿›ï¼šä»1.0åˆ°3.0çš„è·¨è¶Š</h2><h3 id=1-0ban-ben-chuan-tong-zheng-ze-jie-xi-shi-dai>1.0ç‰ˆæœ¬ï¼šä¼ ç»Ÿæ­£åˆ™è§£ææ—¶ä»£</h3><p>æœ€åˆçš„æƒ³æ³•å¾ˆç®€å•ï¼šå†™ä¸€ä¸ªè„šæœ¬æ¥è§£æMarkdownåšæ–‡ä¸­çš„åˆ†é•œè¡¨æ ¼ï¼Œç„¶åè°ƒç”¨DALL-Eç”Ÿæˆå¯¹åº”çš„å›¾ç‰‡ã€‚<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#65737e># ä¼ ç»Ÿçš„æ­£åˆ™è¡¨è¾¾å¼è§£æ
</span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>parse_scene_table_regex</span><span>(</span><span style=color:#bf616a>content</span><span>: str) -> List[Dict]:
</span><span>    table_pattern = </span><span style=color:#b48ead>r</span><span>'</span><span style=color:#96b5b4>\|</span><span style=color:#d08770>\s</span><span>*</span><span style=color:#96b5b4>\*\*</span><span style=color:#a3be8c>(</span><span style=color:#d08770>[A-F]</span><span style=color:#a3be8c>-</span><span style=color:#d08770>\d</span><span>+</span><span style=color:#a3be8c>)</span><span style=color:#96b5b4>\*\*</span><span style=color:#d08770>\s</span><span>*</span><span style=color:#96b5b4>\|</span><span style=color:#a3be8c>(</span><span style=color:#d08770>[</span><span>^</span><span style=color:#d08770>|]</span><span>+</span><span style=color:#a3be8c>)</span><span style=color:#96b5b4>\|</span><span style=color:#a3be8c>(</span><span style=color:#d08770>[</span><span>^</span><span style=color:#d08770>|]</span><span>+</span><span style=color:#a3be8c>)</span><span style=color:#96b5b4>\|</span><span style=color:#a3be8c>(</span><span style=color:#d08770>[</span><span>^</span><span style=color:#d08770>|]</span><span>+</span><span style=color:#a3be8c>)</span><span style=color:#96b5b4>\|</span><span style=color:#a3be8c>(</span><span style=color:#d08770>[</span><span>^</span><span style=color:#d08770>|]</span><span>+</span><span style=color:#a3be8c>)</span><span style=color:#96b5b4>\|</span><span style=color:#a3be8c>(</span><span style=color:#d08770>[</span><span>^</span><span style=color:#d08770>|]</span><span>+</span><span style=color:#a3be8c>)</span><span style=color:#96b5b4>\|</span><span>'
</span><span>    matches = re.</span><span style=color:#bf616a>findall</span><span>(table_pattern, content, re.</span><span style=color:#bf616a>MULTILINE</span><span>)
</span><span>    </span><span style=color:#65737e># ... å¤æ‚çš„æ­£åˆ™å¤„ç†é€»è¾‘
</span></code></pre><p>è¿™ä¸ªç‰ˆæœ¬çš„é—®é¢˜å¾ˆå¿«å°±æš´éœ²å‡ºæ¥äº†ï¼š<ul><li><strong>è§£ææˆåŠŸç‡åªæœ‰60-70%</strong>ï¼šè¡¨æ ¼æ ¼å¼ç¨æœ‰å˜åŒ–å°±å¤±æ•ˆ<li><strong>æ‰©å±•æ€§å·®</strong>ï¼šæ·»åŠ æ–°çš„åˆ†é•œæ ¼å¼éœ€è¦é‡å†™æ­£åˆ™<li><strong>é”™è¯¯å¤„ç†å¤æ‚</strong>ï¼šå¾ˆéš¾å®šä½è§£æå¤±è´¥çš„å…·ä½“åŸå› </ul><h3 id=2-0ban-ben-aizhi-neng-jie-xi-de-jue-xing>2.0ç‰ˆæœ¬ï¼šAIæ™ºèƒ½è§£æçš„è§‰é†’</h3><p>è®¤è¯†åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„å±€é™æ€§åï¼Œæˆ‘å¼€å§‹æ€è€ƒï¼šæ—¢ç„¶AIèƒ½ç†è§£è‡ªç„¶è¯­è¨€ï¼Œä¸ºä»€ä¹ˆä¸è®©å®ƒæ¥ç†è§£åˆ†é•œè¡¨æ ¼å‘¢ï¼Ÿ<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>class </span><span style=color:#ebcb8b>SmartBlogParser</span><span style=color:#eff1f5>:
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#96b5b4>__init__</span><span>(</span><span style=color:#bf616a>self</span><span>):
</span><span>        </span><span style=color:#bf616a>self</span><span>.client = </span><span style=color:#bf616a>OpenAI</span><span>(
</span><span>            </span><span style=color:#bf616a>api_key</span><span>=os.</span><span style=color:#bf616a>getenv</span><span>("</span><span style=color:#a3be8c>DEEPSEEK_API_KEY</span><span>"),
</span><span>            </span><span style=color:#bf616a>base_url</span><span>="</span><span style=color:#a3be8c>https://api.deepseek.com</span><span>"
</span><span>        )
</span><span>    
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>parse_with_ai</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>content</span><span>: str) -> List[SceneData]:
</span><span>        prompt = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_generate_scene_analysis_prompt</span><span>(</span><span style=color:#bf616a>has_table</span><span>=</span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_detect_table</span><span>(content))
</span><span>        response = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_call_deepseek_api</span><span>(prompt.</span><span style=color:#bf616a>format</span><span>(</span><span style=color:#bf616a>content</span><span>=content))
</span><span>        </span><span style=color:#b48ead>return </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_parse_ai_response</span><span>(response)
</span></code></pre><p>å…³é”®çš„çªç ´åœ¨äºè®¾è®¡äº†<strong>è‡ªé€‚åº”çš„Promptæ¨¡æ¿</strong>ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>def </span><span style=color:#8fa1b3>_generate_scene_analysis_prompt</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>has_table</span><span>: bool) -> str:
</span><span>    </span><span style=color:#b48ead>if </span><span>has_table:
</span><span>        </span><span style=color:#b48ead>return </span><span>"""</span><span style=color:#a3be8c># åˆ†é•œè¡¨æ ¼æå–ä¸“å®¶
</span><span style=color:#a3be8c>        
</span><span style=color:#a3be8c>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è§†é¢‘åˆ†é•œè¡¨æ ¼è§£æä¸“å®¶ã€‚è¯·ç²¾ç¡®æå–åšæ–‡ä¸­çš„åˆ†é•œè¡¨æ ¼ä¿¡æ¯ã€‚
</span><span style=color:#a3be8c>
</span><span style=color:#a3be8c>## è¾“å‡ºæ ¼å¼
</span><span style=color:#a3be8c>è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºï¼š
</span><span style=color:#a3be8c>{
</span><span style=color:#a3be8c>  "extraction_method": "table_parsing",
</span><span style=color:#a3be8c>  "scenes": [...]
</span><span style=color:#a3be8c>}
</span><span style=color:#a3be8c>
</span><span style=color:#a3be8c>## åšæ–‡å†…å®¹
</span><span style=color:#d08770>{content}</span><span>"""
</span><span>    </span><span style=color:#b48ead>else</span><span>:
</span><span>        </span><span style=color:#b48ead>return </span><span>"""</span><span style=color:#a3be8c># æ™ºèƒ½åˆ†é•œç”Ÿæˆä¸“å®¶
</span><span style=color:#a3be8c>        
</span><span style=color:#a3be8c>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è§†é¢‘åˆ†é•œåˆ›ä½œä¸“å®¶ã€‚è¯·æ ¹æ®åšæ–‡å†…å®¹æ™ºèƒ½ç”Ÿæˆ8-12ä¸ªåˆ†é•œè„šæœ¬ã€‚
</span><span style=color:#a3be8c>
</span><span style=color:#a3be8c>## åˆ†é•œè®¾è®¡åŸåˆ™
</span><span style=color:#a3be8c>- å¼€å¤´ï¼šå¼•äººæ³¨ç›®çš„å¼€åœºï¼ˆ1-2ä¸ªåˆ†é•œï¼‰
</span><span style=color:#a3be8c>- ä¸»ä½“ï¼šå†…å®¹å±•å¼€å’Œé‡ç‚¹é˜è¿°ï¼ˆ6-8ä¸ªåˆ†é•œï¼‰
</span><span style=color:#a3be8c>- ç»“å°¾ï¼šæ€»ç»“æˆ–è¡ŒåŠ¨å·å¬ï¼ˆ1-2ä¸ªåˆ†é•œï¼‰
</span><span style=color:#a3be8c>
</span><span style=color:#d08770>{content}</span><span>"""
</span></code></pre><p>è¿™ä¸ªç‰ˆæœ¬çš„æå‡éå¸¸æ˜¾è‘—ï¼š<ul><li><strong>è§£ææˆåŠŸç‡æå‡åˆ°95-99%</strong><li><strong>æ”¯æŒå†…å®¹ç”Ÿæˆ</strong>ï¼šä¸ä»…èƒ½è§£æç°æœ‰è¡¨æ ¼ï¼Œè¿˜èƒ½åŸºäºå†…å®¹åˆ›å»ºæ–°åˆ†é•œ<li><strong>æ™ºèƒ½åŒ–ç¨‹åº¦é«˜</strong>ï¼šèƒ½ç†è§£ä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆæ›´åˆç†çš„åˆ†é•œåºåˆ—</ul><h3 id=3-0ban-ben-mcpfu-wu-qi-de-ge-ming-xing-sheng-ji>3.0ç‰ˆæœ¬ï¼šMCPæœåŠ¡å™¨çš„é©å‘½æ€§å‡çº§</h3><p>è™½ç„¶2.0ç‰ˆæœ¬å·²ç»å¾ˆå¼ºå¤§ï¼Œä½†æˆ‘å‘ç°äº†ä¸€ä¸ªæ›´æœ‰è¶£çš„å¯èƒ½æ€§ï¼š<strong>å¦‚æœèƒ½è®©Claude Desktopç›´æ¥è°ƒç”¨è¿™äº›åŠŸèƒ½ï¼Œå²‚ä¸æ˜¯èƒ½åˆ›é€ å‡ºæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Ÿ</strong><p>è¿™å°±æ˜¯MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨çš„ç”¨æ­¦ä¹‹åœ°ã€‚MCPæ˜¯Anthropicæ¨å‡ºçš„åè®®ï¼Œå…è®¸AIåŠ©æ‰‹ä¸å¤–éƒ¨å·¥å…·æ— ç¼é›†æˆã€‚<h2 id=mcpfu-wu-qi-shi-xian-shuang-xie-yi-jia-gou>MCPæœåŠ¡å™¨å®ç°ï¼šåŒåè®®æ¶æ„</h2><p>æˆ‘è®¾è®¡äº†ä¸€ä¸ªæ”¯æŒåŒåè®®çš„MCPæœåŠ¡å™¨æ¶æ„ï¼š<h3 id=stdio-mcpfu-wu-qi-claude-desktopji-cheng>STDIO MCPæœåŠ¡å™¨ï¼ˆClaude Desktopé›†æˆï¼‰</h3><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>from </span><span>fastmcp </span><span style=color:#b48ead>import </span><span>FastMCP
</span><span>
</span><span>mcp = </span><span style=color:#bf616a>FastMCP</span><span>("</span><span style=color:#a3be8c>Douyin Scene Generator</span><span>")
</span><span>
</span><span>@mcp.</span><span style=color:#bf616a>tool</span><span>()
</span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>parse_scenes_with_ai</span><span>(</span><span style=color:#bf616a>blog_path</span><span>: str, </span><span style=color:#bf616a>parser_type</span><span>: str = "</span><span style=color:#a3be8c>hybrid</span><span>") -> Dict[str, Any]:
</span><span>    </span><span style=color:#65737e>"""ä½¿ç”¨AIæ™ºèƒ½è§£æåšæ–‡ä¸­çš„åˆ†é•œè¡¨æ ¼ä¿¡æ¯"""
</span><span>    </span><span style=color:#b48ead>try</span><span>:
</span><span>        </span><span style=color:#b48ead>if </span><span>parser_type == "</span><span style=color:#a3be8c>smart</span><span>":
</span><span>            parser = </span><span style=color:#bf616a>SmartBlogParser</span><span>()
</span><span>        </span><span style=color:#b48ead>elif </span><span>parser_type == "</span><span style=color:#a3be8c>hybrid</span><span>":
</span><span>            parser = </span><span style=color:#bf616a>HybridBlogParser</span><span>(</span><span style=color:#bf616a>use_ai_fallback</span><span>=</span><span style=color:#d08770>True</span><span>, </span><span style=color:#bf616a>use_ai_enhancement</span><span>=</span><span style=color:#d08770>True</span><span>)
</span><span>        </span><span style=color:#b48ead>else</span><span>:
</span><span>            parser = </span><span style=color:#bf616a>BlogParser</span><span>()
</span><span>        
</span><span>        metadata, scenes = parser.</span><span style=color:#bf616a>parse_blog_post</span><span>(blog_path)
</span><span>        </span><span style=color:#65737e># ... å¤„ç†é€»è¾‘
</span><span>        
</span><span>        </span><span style=color:#b48ead>return </span><span>{
</span><span>            "</span><span style=color:#a3be8c>success</span><span>": </span><span style=color:#d08770>True</span><span>,
</span><span>            "</span><span style=color:#a3be8c>total_scenes</span><span>": </span><span style=color:#96b5b4>len</span><span>(scene_list),
</span><span>            "</span><span style=color:#a3be8c>scenes</span><span>": scene_list,
</span><span>            "</span><span style=color:#a3be8c>parser_used</span><span>": parser_type
</span><span>        }
</span><span>    </span><span style=color:#b48ead>except </span><span>Exception </span><span style=color:#b48ead>as </span><span>e:
</span><span>        </span><span style=color:#b48ead>return </span><span>{"</span><span style=color:#a3be8c>success</span><span>": </span><span style=color:#d08770>False</span><span>, "</span><span style=color:#a3be8c>error</span><span>": </span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>AIè§£æåˆ†é•œå¤±è´¥: </span><span>{</span><span style=color:#bf616a>str</span><span>(e)}"}
</span></code></pre><h3 id=http-mcpfu-wu-qi-web-apiji-cheng>HTTP MCPæœåŠ¡å™¨ï¼ˆWeb APIé›†æˆï¼‰</h3><p>ä¸ºäº†æä¾›æ›´å¥½çš„æ‰©å±•æ€§ï¼Œæˆ‘è¿˜å®ç°äº†HTTPç‰ˆæœ¬ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>from </span><span>fastapi </span><span style=color:#b48ead>import </span><span>FastAPI, HTTPException
</span><span style=color:#b48ead>from </span><span>fastapi.responses </span><span style=color:#b48ead>import </span><span>StreamingResponse
</span><span>
</span><span>app = </span><span style=color:#bf616a>FastAPI</span><span>(</span><span style=color:#bf616a>title</span><span>="</span><span style=color:#a3be8c>Douyin Scene Generator MCP Server</span><span>")
</span><span>
</span><span>@app.</span><span style=color:#bf616a>post</span><span>("</span><span style=color:#a3be8c>/tools/call</span><span>")
</span><span style=color:#b48ead>async def </span><span style=color:#8fa1b3>call_tool</span><span>(</span><span style=color:#bf616a>request</span><span>: ToolCallRequest):
</span><span>    </span><span style=color:#65737e>"""ç»Ÿä¸€çš„å·¥å…·è°ƒç”¨æ¥å£"""
</span><span>    tool_name = request.tool_name
</span><span>    
</span><span>    </span><span style=color:#b48ead>if </span><span>tool_name == "</span><span style=color:#a3be8c>parse_scenes_with_ai</span><span>":
</span><span>        </span><span style=color:#b48ead>return await </span><span style=color:#bf616a>_parse_scenes_with_ai</span><span>(**request.parameters)
</span><span>    </span><span style=color:#b48ead>elif </span><span>tool_name == "</span><span style=color:#a3be8c>generate_scene_images</span><span>":
</span><span>        </span><span style=color:#b48ead>return await </span><span style=color:#bf616a>_generate_scene_images</span><span>(**request.parameters)
</span><span>    </span><span style=color:#65737e># ... å…¶ä»–å·¥å…·
</span><span>    
</span><span>    </span><span style=color:#b48ead>raise </span><span style=color:#bf616a>HTTPException</span><span>(</span><span style=color:#bf616a>status_code</span><span>=</span><span style=color:#d08770>404</span><span>, </span><span style=color:#bf616a>detail</span><span>=</span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>å·¥å…· </span><span>{tool_name}</span><span style=color:#a3be8c> ä¸å­˜åœ¨</span><span>")
</span><span>
</span><span>@app.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>/tools/batch_process/stream</span><span>")
</span><span style=color:#b48ead>async def </span><span style=color:#8fa1b3>batch_process_stream</span><span>(</span><span style=color:#bf616a>blog_dir</span><span>: str, </span><span style=color:#bf616a>pattern</span><span>: str = "</span><span style=color:#a3be8c>**/*index.md</span><span>"):
</span><span>    </span><span style=color:#65737e>"""æµå¼æ‰¹é‡å¤„ç†æ¥å£"""
</span><span>    </span><span style=color:#b48ead>return </span><span style=color:#bf616a>StreamingResponse</span><span>(
</span><span>        </span><span style=color:#bf616a>_batch_process_blogs_stream</span><span>(blog_dir, pattern),
</span><span>        </span><span style=color:#bf616a>media_type</span><span>="</span><span style=color:#a3be8c>text/event-stream</span><span>"
</span><span>    )
</span></code></pre><h2 id=he-xin-gong-neng-mo-kuai-she-ji>æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è®¾è®¡</h2><h3 id=1-zhi-neng-nei-rong-ti-qu-qi>1. æ™ºèƒ½å†…å®¹æå–å™¨</h3><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>class </span><span style=color:#ebcb8b>OptimizedContentExtractor</span><span style=color:#eff1f5>:
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>extract_content_for_ai_analysis</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>blog_path</span><span>: str) -> Dict[str, Any]:
</span><span>        </span><span style=color:#65737e>"""ä¸ºAIåˆ†ææå–å’Œé¢„å¤„ç†åšæ–‡å†…å®¹"""
</span><span>        content = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_read_blog_file</span><span>(blog_path)
</span><span>        metadata = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_extract_metadata</span><span>(content)
</span><span>        
</span><span>        </span><span style=color:#65737e># æ™ºèƒ½æ£€æµ‹å†…å®¹ç±»å‹
</span><span>        has_scene_table = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_detect_scene_table</span><span>(content)
</span><span>        content_type = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_analyze_content_type</span><span>(content, metadata)
</span><span>        
</span><span>        </span><span style=color:#65737e># ç”Ÿæˆé€‚é…çš„Promptæ¨¡æ¿
</span><span>        prompt_template = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_generate_scene_analysis_prompt</span><span>(has_scene_table)
</span><span>        
</span><span>        </span><span style=color:#b48ead>return </span><span>{
</span><span>            "</span><span style=color:#a3be8c>success</span><span>": </span><span style=color:#d08770>True</span><span>,
</span><span>            "</span><span style=color:#a3be8c>content</span><span>": </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_clean_content_for_ai</span><span>(content),
</span><span>            "</span><span style=color:#a3be8c>metadata</span><span>": metadata,
</span><span>            "</span><span style=color:#a3be8c>has_scene_table</span><span>": has_scene_table,
</span><span>            "</span><span style=color:#a3be8c>content_type</span><span>": content_type,
</span><span>            "</span><span style=color:#a3be8c>recommended_prompt</span><span>": prompt_template,
</span><span>            "</span><span style=color:#a3be8c>analysis_suggestions</span><span>": </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_generate_analysis_suggestions</span><span>(content_type)
</span><span>        }
</span></code></pre><h3 id=2-duo-mo-shi-jie-xi-qi>2. å¤šæ¨¡å¼è§£æå™¨</h3><p>ç³»ç»Ÿæ”¯æŒä¸‰ç§è§£ææ¨¡å¼ï¼š<ul><li><strong>Regexæ¨¡å¼</strong>ï¼šä¼ ç»Ÿæ­£åˆ™è¡¨è¾¾å¼ï¼Œé€‚ç”¨äºæ ¼å¼ä¸¥æ ¼çš„è¡¨æ ¼<li><strong>Smartæ¨¡å¼</strong>ï¼šçº¯AIè§£æï¼Œé€‚ç”¨äºå¤æ‚æˆ–éæ ‡å‡†æ ¼å¼<li><strong>Hybridæ¨¡å¼</strong>ï¼šæ™ºèƒ½æ··åˆï¼Œå…ˆæ­£åˆ™åAIï¼Œå…¼é¡¾æ•ˆç‡å’Œå‡†ç¡®æ€§</ul><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>class </span><span style=color:#ebcb8b>HybridBlogParser</span><span style=color:#eff1f5>:
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#96b5b4>__init__</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>use_ai_fallback</span><span>=</span><span style=color:#d08770>True</span><span>, </span><span style=color:#bf616a>use_ai_enhancement</span><span>=</span><span style=color:#d08770>True</span><span>):
</span><span>        </span><span style=color:#bf616a>self</span><span>.regex_parser = </span><span style=color:#bf616a>BlogParser</span><span>()
</span><span>        </span><span style=color:#bf616a>self</span><span>.smart_parser = </span><span style=color:#bf616a>SmartBlogParser</span><span>()
</span><span>        </span><span style=color:#bf616a>self</span><span>.use_ai_fallback = use_ai_fallback
</span><span>        </span><span style=color:#bf616a>self</span><span>.use_ai_enhancement = use_ai_enhancement
</span><span>    
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>parse_blog_post</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>blog_path</span><span>: str) -> Tuple[Dict, List[SceneData]]:
</span><span>        </span><span style=color:#65737e># å…ˆå°è¯•æ­£åˆ™è§£æ
</span><span>        metadata, scenes = </span><span style=color:#bf616a>self</span><span>.regex_parser.</span><span style=color:#bf616a>parse_blog_post</span><span>(blog_path)
</span><span>        
</span><span>        </span><span style=color:#65737e># å¦‚æœå¤±è´¥æˆ–ç»“æœä¸ç†æƒ³ï¼Œä½¿ç”¨AIå¢å¼º
</span><span>        </span><span style=color:#b48ead>if </span><span>not scenes and </span><span style=color:#bf616a>self</span><span>.use_ai_fallback:
</span><span>            </span><span style=color:#bf616a>_</span><span>, scenes = </span><span style=color:#bf616a>self</span><span>.smart_parser.</span><span style=color:#bf616a>parse_blog_post</span><span>(blog_path)
</span><span>        
</span><span>        </span><span style=color:#b48ead>if </span><span>scenes and </span><span style=color:#bf616a>self</span><span>.use_ai_enhancement:
</span><span>            scenes = </span><span style=color:#bf616a>self</span><span>.smart_parser.</span><span style=color:#bf616a>enhance_scenes_with_ai</span><span>(scenes)
</span><span>        
</span><span>        </span><span style=color:#b48ead>return </span><span>metadata, scenes
</span></code></pre><h3 id=3-tu-pian-sheng-cheng-guan-li-qi>3. å›¾ç‰‡ç”Ÿæˆç®¡ç†å™¨</h3><pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>class </span><span style=color:#ebcb8b>ImageManager</span><span style=color:#eff1f5>:
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>generate_scene_image</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>scene</span><span>: SceneData, </span><span style=color:#bf616a>blog_metadata</span><span>: Dict) -> Optional[str]:
</span><span>        </span><span style=color:#65737e>"""ä¸ºå•ä¸ªåˆ†é•œç”Ÿæˆå›¾ç‰‡"""
</span><span>        prompt = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_build_image_prompt</span><span>(scene, blog_metadata)
</span><span>        
</span><span>        </span><span style=color:#b48ead>try</span><span>:
</span><span>            response = </span><span style=color:#bf616a>self</span><span>.client.images.</span><span style=color:#bf616a>generate</span><span>(
</span><span>                </span><span style=color:#bf616a>model</span><span>="</span><span style=color:#a3be8c>dall-e-3</span><span>",
</span><span>                </span><span style=color:#bf616a>prompt</span><span>=prompt,
</span><span>                </span><span style=color:#bf616a>size</span><span>=</span><span style=color:#bf616a>self</span><span>.config.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>size</span><span>", "</span><span style=color:#a3be8c>1024x1024</span><span>"),
</span><span>                </span><span style=color:#bf616a>quality</span><span>=</span><span style=color:#bf616a>self</span><span>.config.</span><span style=color:#bf616a>get</span><span>("</span><span style=color:#a3be8c>quality</span><span>", "</span><span style=color:#a3be8c>standard</span><span>"),
</span><span>                </span><span style=color:#bf616a>n</span><span>=</span><span style=color:#d08770>1
</span><span>            )
</span><span>            
</span><span>            image_url = response.data[</span><span style=color:#d08770>0</span><span>].url
</span><span>            local_path = </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_download_and_save_image</span><span>(image_url, scene.scene_id, blog_metadata)
</span><span>            
</span><span>            </span><span style=color:#b48ead>return </span><span>local_path
</span><span>        </span><span style=color:#b48ead>except </span><span>Exception </span><span style=color:#b48ead>as </span><span>e:
</span><span>            logger.</span><span style=color:#bf616a>error</span><span>(</span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>ç”Ÿæˆå›¾ç‰‡å¤±è´¥ (åœºæ™¯ </span><span>{scene.scene_id}</span><span style=color:#a3be8c>): </span><span>{e}")
</span><span>            </span><span style=color:#b48ead>return </span><span style=color:#d08770>None
</span><span>    
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>_build_image_prompt</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>scene</span><span>: SceneData, </span><span style=color:#bf616a>metadata</span><span>: Dict) -> str:
</span><span>        </span><span style=color:#65737e>"""æ„å»ºå›¾ç‰‡ç”Ÿæˆçš„æç¤ºè¯"""
</span><span>        base_prompt = </span><span style=color:#b48ead>f</span><span>"""
</span><span style=color:#a3be8c>        åœºæ™¯å†…å®¹ï¼š</span><span>{scene.content}
</span><span style=color:#a3be8c>        æ‹æ‘„è¦ç‚¹ï¼š</span><span>{scene.shooting_tips}
</span><span style=color:#a3be8c>        è§†è§‰æ•ˆæœï¼š</span><span>{scene.visual_effects}
</span><span style=color:#a3be8c>        
</span><span style=color:#a3be8c>        é£æ ¼è¦æ±‚ï¼š
</span><span style=color:#a3be8c>        - çº³è¥¿æ—ä¼ ç»Ÿå»ºç­‘é£æ ¼
</span><span style=color:#a3be8c>        - ç°ä»£åŒ–æ”¹é€ å…ƒç´ 
</span><span style=color:#a3be8c>        - æ¸©æš–çš„äººæ–‡æ°”æ¯
</span><span style=color:#a3be8c>        - é«˜è´¨é‡æ‘„å½±é£æ ¼
</span><span style=color:#a3be8c>        </span><span>"""
</span><span>        
</span><span>        </span><span style=color:#b48ead>return </span><span style=color:#bf616a>self</span><span>.</span><span style=color:#bf616a>_refine_prompt_for_dalle</span><span>(base_prompt)
</span></code></pre><h2 id=xiang-mu-guan-li-poetrytong-yi-hua>é¡¹ç›®ç®¡ç†ï¼šPoetryç»Ÿä¸€åŒ–</h2><p>ä¸ºäº†ç®€åŒ–é¡¹ç›®ç®¡ç†ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªPoetryç®¡ç†å™¨ï¼š<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>class </span><span style=color:#ebcb8b>PoetryManager</span><span style=color:#eff1f5>:
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#96b5b4>__init__</span><span>(</span><span style=color:#bf616a>self</span><span>):
</span><span>        </span><span style=color:#bf616a>self</span><span>.project_root = </span><span style=color:#bf616a>Path</span><span>(__file__).parent
</span><span>        </span><span style=color:#bf616a>self</span><span>.tools_dir = </span><span style=color:#bf616a>self</span><span>.project_root
</span><span>    
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>start_stdio_server</span><span>(</span><span style=color:#bf616a>self</span><span>):
</span><span>        </span><span style=color:#65737e>"""å¯åŠ¨STDIO MCPæœåŠ¡å™¨"""
</span><span>        </span><span style=color:#96b5b4>print</span><span>("</span><span style=color:#a3be8c>ğŸš€ å¯åŠ¨STDIO MCPæœåŠ¡å™¨...</span><span>")
</span><span>        subprocess.</span><span style=color:#bf616a>run</span><span>([
</span><span>            "</span><span style=color:#a3be8c>poetry</span><span>", "</span><span style=color:#a3be8c>run</span><span>", "</span><span style=color:#a3be8c>python</span><span>", "</span><span style=color:#a3be8c>-m</span><span>", "</span><span style=color:#a3be8c>douyin_generator.cli</span><span>", "</span><span style=color:#a3be8c>--mcp-server</span><span>"
</span><span>        ], </span><span style=color:#bf616a>cwd</span><span>=</span><span style=color:#bf616a>self</span><span>.tools_dir)
</span><span>    
</span><span>    </span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>start_http_server</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>port</span><span>=</span><span style=color:#d08770>8000</span><span>):
</span><span>        </span><span style=color:#65737e>"""å¯åŠ¨HTTP MCPæœåŠ¡å™¨"""
</span><span>        </span><span style=color:#96b5b4>print</span><span>(</span><span style=color:#b48ead>f</span><span>"</span><span style=color:#a3be8c>ğŸŒ å¯åŠ¨HTTP MCPæœåŠ¡å™¨ (ç«¯å£ </span><span>{port}</span><span style=color:#a3be8c>)...</span><span>")
</span><span>        subprocess.</span><span style=color:#bf616a>run</span><span>([
</span><span>            "</span><span style=color:#a3be8c>poetry</span><span>", "</span><span style=color:#a3be8c>run</span><span>", "</span><span style=color:#a3be8c>uvicorn</span><span>", "</span><span style=color:#a3be8c>mcp_server.http_server:app</span><span>",
</span><span>            "</span><span style=color:#a3be8c>--host</span><span>", "</span><span style=color:#a3be8c>0.0.0.0</span><span>", "</span><span style=color:#a3be8c>--port</span><span>", </span><span style=color:#bf616a>str</span><span>(port), "</span><span style=color:#a3be8c>--reload</span><span>"
</span><span>        ], </span><span style=color:#bf616a>cwd</span><span>=</span><span style=color:#bf616a>self</span><span>.tools_dir)
</span></code></pre><h2 id=shi-ji-shi-yong-ti-yan>å®é™…ä½¿ç”¨ä½“éªŒ</h2><h3 id=claude-desktopji-cheng>Claude Desktopé›†æˆ</h3><p>é…ç½®æ–‡ä»¶ <code>claude_desktop_config.json</code>ï¼š<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>  "</span><span style=color:#a3be8c>mcpServers</span><span>": {
</span><span>    "</span><span style=color:#a3be8c>douyin-scene-generator</span><span>": {
</span><span>      "</span><span style=color:#a3be8c>command</span><span>": "</span><span style=color:#a3be8c>/Users/polly/Downloads/Sublime_Workspace/Zola_Workspace/www.polly.com/tools/mcp_server/start_server.sh</span><span>"
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre><p>ä½¿ç”¨æ—¶åªéœ€åœ¨Claudeä¸­è¯´ï¼š<blockquote><p>"å¸®æˆ‘è§£æè¿™ä¸ªåšæ–‡çš„åˆ†é•œè¡¨æ ¼ï¼š/path/to/blog.mdï¼Œä½¿ç”¨æ™ºèƒ½æ¨¡å¼"</blockquote><p>Claudeä¼šè‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„MCPå·¥å…·ï¼Œè¿”å›è§£æç»“æœã€‚<h3 id=http-apidiao-yong>HTTP APIè°ƒç”¨</h3><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e># å¥åº·æ£€æŸ¥
</span><span style=color:#bf616a>curl</span><span> http://localhost:8000/health
</span><span>
</span><span style=color:#65737e># è·å–å·¥å…·åˆ—è¡¨
</span><span style=color:#bf616a>curl</span><span> http://localhost:8000/tools
</span><span>
</span><span style=color:#65737e># AIè§£æåšæ–‡
</span><span style=color:#bf616a>curl -X</span><span> POST http://localhost:8000/tools/call \
</span><span style=color:#bf616a>  -H </span><span>"</span><span style=color:#a3be8c>Content-Type: application/json</span><span>" \
</span><span style=color:#bf616a>  -d </span><span>'</span><span style=color:#a3be8c>{
</span><span style=color:#a3be8c>    "tool_name": "parse_scenes_with_ai",
</span><span style=color:#a3be8c>    "parameters": {
</span><span style=color:#a3be8c>      "blog_path": "/path/to/blog.md",
</span><span style=color:#a3be8c>      "parser_type": "hybrid"
</span><span style=color:#a3be8c>    }
</span><span style=color:#a3be8c>  }</span><span>'
</span></code></pre><h2 id=xing-neng-you-hua-yu-jia-gou-si-kao>æ€§èƒ½ä¼˜åŒ–ä¸æ¶æ„æ€è€ƒ</h2><h3 id=jie-xi-xing-neng-dui-bi>è§£ææ€§èƒ½å¯¹æ¯”</h3><p>ç»è¿‡å®é™…æµ‹è¯•ï¼Œä¸åŒè§£ææ¨¡å¼çš„æ€§èƒ½è¡¨ç°ï¼š<table><thead><tr><th>è§£ææ¨¡å¼<th>æˆåŠŸç‡<th>å¹³å‡è€—æ—¶<th>é€‚ç”¨åœºæ™¯<tbody><tr><td>Regex<td>60-70%<td>0.1s<td>æ ‡å‡†æ ¼å¼è¡¨æ ¼<tr><td>Smart<td>95-99%<td>2-5s<td>å¤æ‚æ ¼å¼ã€å†…å®¹ç”Ÿæˆ<tr><td>Hybrid<td>90-95%<td>0.5-3s<td>å¹³è¡¡æ•ˆç‡ä¸å‡†ç¡®æ€§</table><h3 id=jia-gou-you-hua-fang-xiang>æ¶æ„ä¼˜åŒ–æ–¹å‘</h3><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ€è€ƒäº†ä¸€ä¸ªé‡è¦çš„æ¶æ„é—®é¢˜ï¼š<strong>æ˜¯å¦åº”è¯¥å°†æ‰€æœ‰AIæ¨ç†éƒ½äº¤ç»™Claudeå®¢æˆ·ç«¯ï¼Œè€Œè®©MCPæœåŠ¡å™¨ä¸“æ³¨äºæ•°æ®å¤„ç†ï¼Ÿ</strong><p>å½“å‰æ¶æ„ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>Claude Client -> Claude Desktop -> MCP Server -> SmartBlogParser -> DeepSeek API
</span></code></pre><p>ä¼˜åŒ–åæ¶æ„ï¼š<pre style=background:#2b303b;color:#c0c5ce><code><span>Claude Client -> ç»Ÿä¸€LLMæ¨ç† -> Claude Desktop -> MCP Server (çº¯æ•°æ®å¤„ç†)
</span></code></pre><p>è¿™ä¸ªä¼˜åŒ–çš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>å›å½’MCPåè®®çš„æœ¬è´¨</strong>ï¼šè®©AIè´Ÿè´£æ¨ç†ï¼Œè®©å·¥å…·è´Ÿè´£æ•°æ®å¤„ç†ã€‚å…·ä½“å®æ–½æ–¹æ¡ˆåŒ…æ‹¬ï¼š<ol><li><strong>Promptå·¥ç¨‹ç»Ÿä¸€åŒ–</strong>ï¼šå°†AIæ¨ç†èƒ½åŠ›ä»MCP Serverå‰¥ç¦»<li><strong>å·¥å…·èŒè´£é‡æ–°è®¾è®¡</strong>ï¼šä¸“æ³¨äºå†…å®¹æå–ã€æ ¼å¼è½¬æ¢ã€æ•°æ®éªŒè¯<li><strong>ç»Ÿä¸€çš„é”™è¯¯å¤„ç†</strong>ï¼šç®€åŒ–è°ƒè¯•å’Œç»´æŠ¤æµç¨‹</ol><h2 id=cai-guo-de-keng-yu-jie-jue-fang-an>è¸©è¿‡çš„å‘ä¸è§£å†³æ–¹æ¡ˆ</h2><h3 id=1-poetryhuan-jing-guan-li>1. Poetryç¯å¢ƒç®¡ç†</h3><p><strong>é—®é¢˜</strong>ï¼šClaude Desktopæ‰¾ä¸åˆ°poetryå‘½ä»¤<pre style=background:#2b303b;color:#c0c5ce><code><span>spawn poetry ENOENT
</span></code></pre><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„å’Œå¯åŠ¨è„šæœ¬<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#65737e>#!/bin/bash
</span><span style=color:#b48ead>export </span><span style=color:#bf616a>PATH</span><span>="</span><span style=color:#a3be8c>/Users/polly/.local/bin:</span><span>$</span><span style=color:#bf616a>PATH</span><span>"
</span><span style=color:#96b5b4>cd </span><span>"</span><span style=color:#a3be8c>/path/to/project/tools</span><span>"
</span><span style=color:#bf616a>poetry</span><span> install</span><span style=color:#bf616a> --no-dev
</span><span style=color:#96b5b4>exec</span><span> poetry run python -m mcp_server.server
</span></code></pre><h3 id=2-ai-apidiao-yong-you-hua>2. AI APIè°ƒç”¨ä¼˜åŒ–</h3><p><strong>é—®é¢˜</strong>ï¼šDeepSeek APIè°ƒç”¨å¶å°”è¶…æ—¶æˆ–è¿”å›æ ¼å¼ä¸æ­£ç¡®<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¢åŠ é‡è¯•æœºåˆ¶å’Œå“åº”éªŒè¯<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>def </span><span style=color:#8fa1b3>_call_deepseek_api_with_retry</span><span>(</span><span style=color:#bf616a>self</span><span>, </span><span style=color:#bf616a>prompt</span><span>: str, </span><span style=color:#bf616a>max_retries</span><span>=</span><span style=color:#d08770>3</span><span>) -> str:
</span><span>    </span><span style=color:#b48ead>for </span><span>attempt </span><span style=color:#b48ead>in </span><span style=color:#96b5b4>range</span><span>(max_retries):
</span><span>        </span><span style=color:#b48ead>try</span><span>:
</span><span>            response = </span><span style=color:#bf616a>self</span><span>.client.chat.completions.</span><span style=color:#bf616a>create</span><span>(
</span><span>                </span><span style=color:#bf616a>model</span><span>="</span><span style=color:#a3be8c>deepseek-chat</span><span>",
</span><span>                </span><span style=color:#bf616a>messages</span><span>=[{"</span><span style=color:#a3be8c>role</span><span>": "</span><span style=color:#a3be8c>user</span><span>", "</span><span style=color:#a3be8c>content</span><span>": prompt}],
</span><span>                </span><span style=color:#bf616a>temperature</span><span>=</span><span style=color:#d08770>0.1</span><span>,
</span><span>                </span><span style=color:#bf616a>timeout</span><span>=</span><span style=color:#d08770>30
</span><span>            )
</span><span>            
</span><span>            result = response.choices[</span><span style=color:#d08770>0</span><span>].message.content
</span><span>            </span><span style=color:#65737e># éªŒè¯JSONæ ¼å¼
</span><span>            json.</span><span style=color:#bf616a>loads</span><span>(result)
</span><span>            </span><span style=color:#b48ead>return </span><span>result
</span><span>            
</span><span>        </span><span style=color:#b48ead>except </span><span>Exception </span><span style=color:#b48ead>as </span><span>e:
</span><span>            </span><span style=color:#b48ead>if </span><span>attempt == max_retries - </span><span style=color:#d08770>1</span><span>:
</span><span>                </span><span style=color:#b48ead>raise </span><span>e
</span><span>            time.</span><span style=color:#bf616a>sleep</span><span>(</span><span style=color:#d08770>2 </span><span>** attempt)  </span><span style=color:#65737e># æŒ‡æ•°é€€é¿
</span></code></pre><h3 id=3-kua-ping-tai-jian-rong-xing>3. è·¨å¹³å°å…¼å®¹æ€§</h3><p><strong>é—®é¢˜</strong>ï¼šmacOSå’ŒLinuxçš„è·¯å¾„å¤„ç†å·®å¼‚<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨pathlibç»Ÿä¸€è·¯å¾„å¤„ç†<pre class=language-python data-lang=python style=background:#2b303b;color:#c0c5ce><code class=language-python data-lang=python><span style=color:#b48ead>from </span><span>pathlib </span><span style=color:#b48ead>import </span><span>Path
</span><span>
</span><span style=color:#b48ead>def </span><span style=color:#8fa1b3>get_project_root</span><span>() -> Path:
</span><span>    </span><span style=color:#65737e>"""è·å–é¡¹ç›®æ ¹ç›®å½•ï¼Œè·¨å¹³å°å…¼å®¹"""
</span><span>    current_file = </span><span style=color:#bf616a>Path</span><span>(__file__).</span><span style=color:#bf616a>resolve</span><span>()
</span><span>    </span><span style=color:#65737e># å‘ä¸ŠæŸ¥æ‰¾åŒ…å«pyproject.tomlçš„ç›®å½•
</span><span>    </span><span style=color:#b48ead>for </span><span>parent </span><span style=color:#b48ead>in </span><span>current_file.parents:
</span><span>        </span><span style=color:#b48ead>if </span><span>(parent / "</span><span style=color:#a3be8c>pyproject.toml</span><span>").</span><span style=color:#bf616a>exists</span><span>():
</span><span>            </span><span style=color:#b48ead>return </span><span>parent
</span><span>    </span><span style=color:#b48ead>return </span><span>current_file.parent
</span></code></pre><h2 id=xiang-mu-cheng-guo-yu-jie-zhi-ti-xian>é¡¹ç›®æˆæœä¸ä»·å€¼ä½“ç°</h2><h3 id=ding-liang-zhi-biao>å®šé‡æŒ‡æ ‡</h3><ul><li><strong>å¼€å‘æ•ˆç‡æå‡</strong>ï¼šåˆ†é•œåˆ¶ä½œæ—¶é—´ä»2-3å°æ—¶ç¼©çŸ­åˆ°10-15åˆ†é’Ÿ<li><strong>è§£æå‡†ç¡®ç‡</strong>ï¼šä»60%æå‡åˆ°95%ä»¥ä¸Š<li><strong>åŠŸèƒ½ä¸°å¯Œåº¦</strong>ï¼šä»å•ä¸€è§£ææ‰©å±•åˆ°è§£æ+ç”Ÿæˆ+å¢å¼ºçš„å®Œæ•´å·¥å…·é“¾<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šä»å‘½ä»¤è¡Œå·¥å…·å‡çº§åˆ°è‡ªç„¶è¯­è¨€äº¤äº’</ul><h3 id=ji-zhu-jie-zhi>æŠ€æœ¯ä»·å€¼</h3><ol><li><strong>MCPåè®®å®è·µ</strong>ï¼šæ·±åº¦ä½“éªŒäº†MCPæœåŠ¡å™¨çš„å¼€å‘å’Œéƒ¨ç½²<li><strong>AIå·¥ç¨‹åº”ç”¨</strong>ï¼šå°†å¤§æ¨¡å‹èƒ½åŠ›æœ‰æ•ˆé›†æˆåˆ°å®é™…ä¸šåŠ¡åœºæ™¯<li><strong>æ¶æ„è®¾è®¡æ€è€ƒ</strong>ï¼šä»å•ä½“åº”ç”¨åˆ°åˆ†å¸ƒå¼æœåŠ¡çš„æ¼”è¿›æ€è·¯<li><strong>è·¨å¹³å°å…¼å®¹</strong>ï¼šPoetry + Dockerçš„ç°ä»£åŒ–Pythoné¡¹ç›®ç®¡ç†</ol><h3 id=ye-wu-jie-zhi>ä¸šåŠ¡ä»·å€¼</h3><ol><li><strong>é™ä½é—¨æ§›</strong>ï¼šéæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½å¿«é€Ÿç”Ÿæˆä¸“ä¸šçš„è§†é¢‘å†…å®¹<li><strong>ä¿è¯è´¨é‡</strong>ï¼šAIç¡®ä¿äº†è§†è§‰é£æ ¼çš„ä¸€è‡´æ€§å’Œä¸“ä¸šæ€§<li><strong>æå‡æ•ˆç‡</strong>ï¼šè‡ªåŠ¨åŒ–å·¥ä½œæµå¤§å¹…æå‡å†…å®¹åˆ›ä½œæ•ˆç‡<li><strong>æ–‡åŒ–ä¼ æ‰¿</strong>ï¼šé€šè¿‡æŠ€æœ¯æ‰‹æ®µæ›´å¥½åœ°å±•ç¤ºä¼ ç»Ÿçº³è¥¿æ—å»ºç­‘æ–‡åŒ–</ol><h2 id=wei-lai-zhan-wang-yu-chi-xu-you-hua>æœªæ¥å±•æœ›ä¸æŒç»­ä¼˜åŒ–</h2><h3 id=duan-qi-ji-hua>çŸ­æœŸè®¡åˆ’</h3><ol><li><strong>å¤šåª’ä½“æ”¯æŒ</strong>ï¼šæ‰©å±•åˆ°éŸ³é¢‘ç”Ÿæˆå’Œè§†é¢‘å‰ªè¾‘<li><strong>æ¨¡æ¿ç³»ç»Ÿ</strong>ï¼šä¸ºä¸åŒç±»å‹çš„å†…å®¹æä¾›é¢„è®¾æ¨¡æ¿<li><strong>æ‰¹é‡å¤„ç†ä¼˜åŒ–</strong>ï¼šæ”¯æŒå¤§è§„æ¨¡å¹¶è¡Œå¤„ç†<li><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼šå¼€å‘Webç•Œé¢ï¼Œé™ä½ä½¿ç”¨é—¨æ§›</ol><h3 id=chang-qi-yuan-jing>é•¿æœŸæ„¿æ™¯</h3><ol><li><strong>æ™ºèƒ½åŒ–å‡çº§</strong>ï¼šé›†æˆæ›´å¤šAIèƒ½åŠ›ï¼Œå¦‚è¯­éŸ³åˆæˆã€è§†é¢‘å‰ªè¾‘<li><strong>å¹³å°æ‰©å±•</strong>ï¼šæ”¯æŒæ›´å¤šçŸ­è§†é¢‘å¹³å°çš„ç‰¹å®šéœ€æ±‚<li><strong>ç”Ÿæ€å»ºè®¾</strong>ï¼šå¼€æºé¡¹ç›®ï¼Œå»ºç«‹å¼€å‘è€…ç¤¾åŒº<li><strong>å•†ä¸šåŒ–æ¢ç´¢</strong>ï¼šä¸ºç±»ä¼¼éœ€æ±‚çš„ä¼ä¸šæä¾›SaaSæœåŠ¡</ol><h2 id=zong-jie-fan-si>æ€»ç»“åæ€</h2><p>è¿™ä¸ªé¡¹ç›®è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†AIæŠ€æœ¯åœ¨å®é™…åº”ç”¨ä¸­çš„å·¨å¤§æ½œåŠ›ã€‚ä»æœ€åˆçš„ç®€å•éœ€æ±‚åˆ°æœ€ç»ˆçš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæ¯ä¸€æ­¥éƒ½å……æ»¡äº†æŒ‘æˆ˜å’ŒæƒŠå–œã€‚<p><strong>æŠ€æœ¯å±‚é¢</strong>ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•è®¾è®¡ä¸€ä¸ªçœŸæ­£å®ç”¨çš„AIå·¥å…·ï¼šä¸æ˜¯ç®€å•åœ°è°ƒç”¨APIï¼Œè€Œæ˜¯è¦æ·±å…¥ç†è§£ä¸šåŠ¡éœ€æ±‚ï¼Œè®¾è®¡åˆé€‚çš„æ¶æ„ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚<p><strong>ä¸šåŠ¡å±‚é¢</strong>ï¼Œè¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†æŠ€æœ¯å¦‚ä½•çœŸæ­£èµ‹èƒ½ä¼ ç»Ÿè¡Œä¸šï¼šé€šè¿‡AIè®©å¤æ‚çš„è§†é¢‘åˆ¶ä½œå˜å¾—ç®€å•ï¼Œè®©ä¸“ä¸šçš„å†…å®¹åˆ›ä½œå˜å¾—æ™®åŠã€‚<p><strong>ä¸ªäººæˆé•¿</strong>ï¼Œè¿™æ¬¡å®è·µè®©æˆ‘å¯¹MCPåè®®ã€AIå·¥ç¨‹ã€é¡¹ç›®ç®¡ç†éƒ½æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•å°†æŠ€æœ¯ä¸äººæ–‡å…³æ€€ç»“åˆï¼Œç”¨ä»£ç ä¼ é€’æ¸©æš–ã€‚<p>æœ€åæƒ³è¯´çš„æ˜¯ï¼ŒæŠ€æœ¯çš„ä»·å€¼ä¸åœ¨äºå®ƒæœ‰å¤šä¹ˆå¤æ‚ï¼Œè€Œåœ¨äºå®ƒèƒ½è§£å†³å¤šå°‘å®é™…é—®é¢˜ï¼Œèƒ½ä¸ºå¤šå°‘äººå¸¦æ¥ä¾¿åˆ©ã€‚è¿™ä¸ªä¸½æ±Ÿå®¢æ ˆçš„æŠ–éŸ³è§†é¢‘ç”Ÿæˆç³»ç»Ÿï¼Œæˆ–è®¸å°±æ˜¯ä¸€ä¸ªå°å°çš„ä¾‹å­ï¼Œå±•ç¤ºäº†AIå¦‚ä½•è®©ç”Ÿæ´»å˜å¾—æ›´ç¾å¥½ã€‚<p>å¦‚æœä½ ä¹Ÿåœ¨æ€è€ƒå¦‚ä½•å°†AIæŠ€æœ¯åº”ç”¨åˆ°å®é™…åœºæ™¯ä¸­ï¼Œå¸Œæœ›è¿™ä¸ªé¡¹ç›®çš„ç»éªŒèƒ½ç»™ä½ ä¸€äº›å¯å‘ã€‚è®°ä½ï¼Œæœ€å¥½çš„æŠ€æœ¯ï¼Œæ˜¯é‚£äº›è®©äººå¿˜è®°æŠ€æœ¯å­˜åœ¨çš„æŠ€æœ¯ã€‚<hr><p><em>é¡¹ç›®æºç å·²å¼€æºï¼Œæ¬¢è¿Starå’ŒForkï¼š<a href=https://github.com/polly/lijiang-ai-mcp-server>https://github.com/polly/lijiang-ai-mcp-server</a></em><p><em>å¦‚æœä½ å¯¹MCPæœåŠ¡å™¨å¼€å‘æˆ–AIå·¥ç¨‹å®è·µæœ‰å…´è¶£ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</em></div><div class=navigation></div></div><div id=giscus-container><h2>Comments</h2><div class=giscus></div></div><script data-category="Blog Comments" async crossorigin data-category-id=DIC_kwDOL45duM4CnjlZ data-emit-metadata=0 data-input-position=bottom data-lang=en data-mapping=pathname data-reactions-enabled=1 data-repo=Polly2014/polly2014.github.io data-repo-id=R_kgDOL45duA data-strict=0 data-theme=noborder_light src=https://giscus.app/client.js></script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                // ç°ç™½é»‘è‰²è°ƒ + è“è‰²ç‚¹ç¼€
                primaryColor: '#e8e8e8',
                primaryTextColor: '#333',
                primaryBorderColor: '#999',
                lineColor: 'rgb(61, 146, 201)',
                secondaryColor: '#f5f5f5',
                tertiaryColor: '#fafafa',
                background: '#f2f2f2',
                mainBkg: '#f5f5f5',
                nodeBorder: '#999',
                clusterBkg: '#eee',
                clusterBorder: '#ccc',
                titleColor: '#333',
                edgeLabelBackground: '#f2f2f2',
                // æ–‡æœ¬é¢œè‰²
                textColor: '#333',
                nodeTextColor: '#333',
                // å…¶ä»–
                fontFamily: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace"
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // æŸ¥æ‰¾æ‰€æœ‰ mermaid ä»£ç å—å¹¶æ¸²æŸ“
        document.querySelectorAll('pre code.language-mermaid').forEach((block, index) => {
            const container = document.createElement('div');
            container.className = 'mermaid';
            container.textContent = block.textContent;
            block.parentNode.replaceWith(container);
        });

        // æ¸²æŸ“æ‰€æœ‰ mermaid å›¾è¡¨
        await mermaid.run();
    </script><style>.cover-image{text-align:center;margin:1.5em 0 2em 0}.cover-image img{width:60%;height:auto;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)}.mermaid{background:#fafafa;border:1px solid #ddd;padding:20px;margin:20px 0;overflow-x:auto}.mermaid svg{max-width:100%;height:auto}@media (max-width:768px){.cover-image img{width:100%}}</style></div></div><script>document.addEventListener('DOMContentLoaded',function(){const c=document.querySelector('.menu-toggle');const d=document.querySelector('.sidebar');const e=document.querySelector('.overlay');function a(){d.classList.toggle('active');e.classList.toggle('active')}c.addEventListener('click',a);e.addEventListener('click',a);let f=0;let g=0;document.addEventListener('touchstart',h=>{f=h.changedTouches[0].screenX},false);document.addEventListener('touchend',h=>{g=h.changedTouches[0].screenX;b()},false);function b(){const h=g- f;if(h>50&&f<30){d.classList.add('active');e.classList.add('active')}else if(h<-50&&d.classList.contains('active')){d.classList.remove('active');e.classList.remove('active')}}})</script>